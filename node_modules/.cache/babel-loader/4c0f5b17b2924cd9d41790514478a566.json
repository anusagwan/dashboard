{"ast":null,"code":"import _objectSpread from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/ManuallyCreateMD/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport Filters from '../../services/filters';\nimport MarkdownAnalysis from '../MarkdownAnalysis';\nimport InventoryInfo from './InventoryInfo';\nimport Constraints from './Constraints';\nimport CreateCadence from './CreateCadence';\nimport Modal from 'react-awesome-modal';\nimport { withRouter } from 'react-router-dom';\nimport Select from 'react-select';\nimport { connect } from 'react-redux';\nimport manuallyCreateMdActions from '../../actions/manuallyCreateMdActions.js';\nimport './index.css';\nimport { Button, Tabs, Tab, ToggleButtonGroup, ToggleButton } from 'react-bootstrap';\nimport MarkdownDetailedTable from './MardownDetailedTable';\nimport ColumnSelection from '../columnSelection';\nimport cloneDeep from 'clone-deep';\nimport ComparisonTable from './ComparisonTable';\nimport ComparisonMetricTable from './ComparisonMetricTable';\nimport classNames from 'classnames';\nimport ExcludeStoreTable from './excludeStoreTable';\nimport PlanSavePopup from './planSavePopup';\n\nvar ManuallyCreateMD =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ManuallyCreateMD, _Component);\n\n  function ManuallyCreateMD(props) {\n    var _this;\n\n    _classCallCheck(this, ManuallyCreateMD);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManuallyCreateMD).call(this, props));\n\n    _this.onUpdateMarkdownPercentage = function (data, index) {\n      if (_this.state.cadenceConstraintsVal === 'overall') {\n        var data1 = cloneDeep(_this.state.overallCadenceData);\n        data1[index] = data;\n\n        _this.setState({\n          overallCadenceData: data1\n        });\n      } else {\n        var _data = cloneDeep(_this.state.skuLabelCadenceData);\n\n        _data[index] = data;\n\n        _this.setState({\n          skuLabelCadenceData: _data\n        });\n      }\n    };\n\n    _this.getComparisonData = function () {\n      var comparisonData = cloneDeep(_this.state.comparisonData);\n\n      for (var i = 0; i < _this.state.TabTitles.length - 2; i++) {\n        comparisonData.push({\n          scenarios: _this.state.TabTitles[i],\n          w1: 123,\n          w2: 324,\n          w3: 432,\n          w4: 3456,\n          w5: 324,\n          w6: 3333\n        });\n      }\n    };\n\n    _this.onSelectTabs = function (key) {\n      if (_this.state.dataOfALlTheTabs.length === 0) {\n        var data = cloneDeep(_this.state.dataOfALlTheTabs);\n        data[0] = _this.state.data;\n\n        _this.setState({\n          dataOfALlTheTabs: data\n        });\n      } else {\n        _this.setState({\n          simulatedData: false\n        });\n      }\n\n      _this.setState({\n        defaultActiveKey: key\n      });\n    };\n\n    _this.addScenario = function () {\n      var TabTitles = _this.state.TabTitles;\n      var str = 'Scenario';\n      var tempData = [];\n\n      if (_this.state.TabTitles.length === 1) {\n        str += TabTitles.length;\n        TabTitles[TabTitles.length] = str;\n      } else {\n        str += TabTitles.length - 1;\n        TabTitles[TabTitles.length - 1] = str;\n      }\n\n      if (_this.state.cadenceConstraintsVal === 'overall') {\n        tempData = cloneDeep(_this.state.overallCadenceData);\n        tempData[TabTitles.length - 1] = _this.state.overallCadenceData[0];\n\n        _this.setState({\n          overallCadenceData: tempData\n        }, function () {\n          console.log('overallCadenceData dTA:', _this.state.overallCadenceData);\n        });\n      } else {\n        tempData = cloneDeep(_this.state.skuLabelCadenceData);\n        tempData[TabTitles.length - 1] = _this.state.skuLabelCadenceData[0];\n\n        _this.setState({\n          skuLabelCadenceData: tempData\n        }, function () {\n          console.log('skylabelcadence dTA:', _this.state.skuLabelCadenceData);\n        });\n      }\n\n      TabTitles[TabTitles.length] = 'Comparison';\n\n      _this.setState({\n        TabTitles: TabTitles,\n        defaultActiveKey: str\n      });\n    };\n\n    _this.generateCadence = function () {\n      _this.setState({\n        showCadence: true\n      });\n\n      var payload = {\n        filters: {},\n        inventorySelected: '',\n        storeSelected: '',\n        excludeStore: '',\n        sellThrough: _this.state.targetSellThroughVal || '',\n        margin: _this.state.marginVal || '',\n        markdownType: _this.state.markdownTypeVal || '',\n        cadenceType: _this.state.cadenceConstraintsVal || ''\n      };\n      console.log(payload, 'payyloaaddd');\n\n      _this.props.fetchCadence(payload);\n    };\n\n    _this.onSimulate = function () {\n      if (_this.state.defaultActiveKey === 'Comparison') {\n        _this.setState({\n          simulatedData: false\n        });\n      } else {\n        _this.setState({\n          simulatedData: true\n        });\n      }\n    };\n\n    _this.changedView = function (view) {\n      _this.setState({\n        selectedView: view\n      });\n    };\n\n    _this.onExcludeStores = function () {\n      _this.setState({\n        showExcludeStorePopup: true\n      });\n    };\n\n    _this.showPlanSavePopup = function () {\n      _this.setState({\n        showPlanSavePopup: false\n      });\n    };\n\n    _this.showTablePopup = function () {\n      _this.setState({\n        showExcludeStorePopup: false\n      });\n    };\n\n    _this.getComparisonCadence = function () {\n      var tabTitle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'comparison';\n      return React.createElement(Tab, {\n        eventKey: tabTitle,\n        title: tabTitle,\n        key: tabTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(ComparisonTable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      })) // <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n      //   <CreateCadence\n      //     addScenario={this.addScenario}\n      //     selectedSku={this.state.selectedSku}\n      //     key={tabTitle}\n      //   />\n      // </Tab>\n      ;\n    };\n\n    _this.onFilter = function () {// this.props.fetchInventoryInfo();\n    };\n\n    _this.constraintsCadenceHandler = function (value) {\n      _this.setState({\n        cadenceConstraintsVal: value,\n        showCadence: false,\n        TabTitles: ['Optimal'],\n        defaultActiveKey: 'Optimal'\n      });\n    };\n\n    _this.markdownTypeHandler = function (val) {\n      _this.setState({\n        markdownTypeVal: val\n      });\n    };\n\n    _this.marginValueHandler = function (e) {\n      _this.setState({\n        marginVal: e.target.value\n      });\n    };\n\n    _this.targetSellThrough = function (e) {\n      _this.setState({\n        targetSellThroughVal: e.target.value\n      });\n    };\n\n    _this.state = {\n      selectedSkuGroup: {\n        label: null,\n        value: null\n      },\n      targetSellThroughVal: null,\n      markdownTypeVal: false,\n      cadenceConstraintsVal: 'overall',\n      marginVal: null,\n      markdownDetailedData: [{\n        sku_id: '1234',\n        w1sellThrough: '1234',\n        w1margin: '4321',\n        w2sellThrough: '1234',\n        w2margin: '4321',\n        w3sellThrough: '1234',\n        w3margin: '4321',\n        w4sellThrough: '1234',\n        w4margin: '4321',\n        style_desc: 'def'\n      }, {\n        sku_id: '1234',\n        w1sellThrough: '1234',\n        w1margin: '4321',\n        w2sellThrough: '1234',\n        w2margin: '4321',\n        w3sellThrough: '1234',\n        w3margin: '4321',\n        w4sellThrough: '1234',\n        w4margin: '4321',\n        style_desc: 'def'\n      }, {\n        sku_id: '1234',\n        w1sellThrough: '1234',\n        w1margin: '4321',\n        w2sellThrough: '1234',\n        w2margin: '4321',\n        w3sellThrough: '1234',\n        w3margin: '4321',\n        w4sellThrough: '1234',\n        w4margin: '4321',\n        style_desc: 'def'\n      }],\n      overallCadenceData: [[{\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }]],\n      skuLabelCadenceData: [[{\n        'SKU ID': 1000234,\n        'MD Status': 'High',\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }, {\n        'SKU ID': 1000234,\n        'MD Status': 'Medium',\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }]],\n      filters: ['season', 'hierarchy1', 'hierarchy2', 'hierarchy3', 'hierarchy4', 'hierarchy5', 'hierarchy6', 'hierarchy7'],\n      totalInventory: 0,\n      currentInventory: 0,\n      totalStores: 0,\n      selectedStores: 0,\n      selectedView: 'Overview',\n      selectedSku: [],\n      showExcludeStorePopup: false,\n      showPlanSavePopup: false,\n      TabTitles: ['Optimal'],\n      defaultActiveKey: 'Optimal',\n      attributes: ['Sales', 'Inventory', 'Margin'],\n      value: 1,\n      dataOfALlTheTabs: [],\n      data: [{\n        skuId: 1000234,\n        mdStatus: 'High',\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }, {\n        skuId: 1000234,\n        mdStatus: 'Medium',\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }],\n      comparsionHeader: [{\n        Header: 'Scenarios',\n        accessor: 'scenarios'\n      }, {\n        Header: 'W1',\n        accessor: 'w1'\n      }, {\n        Header: 'W2',\n        accessor: 'w2'\n      }, {\n        Header: 'W3',\n        accessor: 'w3'\n      }, {\n        Header: 'W4',\n        accessor: 'w4'\n      }, {\n        Header: 'W5',\n        accessor: 'w5'\n      }, {\n        Header: 'W6',\n        accessor: 'w6'\n      }],\n      comparisonData: [],\n      showCadence: false,\n      simulatedData: false\n    };\n    return _this;\n  }\n\n  _createClass(ManuallyCreateMD, [{\n    key: \"getCadence\",\n    value: function getCadence() {\n      var _this2 = this;\n\n      var comparsionData = [];\n\n      if (this.state.TabTitles.indexOf('Comparison') !== -1) {\n        for (var i = 0; i < this.state.TabTitles.length - 1; i++) {\n          if (this.state.cadenceConstraintsVal === 'overall') {\n            comparsionData.push(_objectSpread({\n              scenarios: this.state.TabTitles[i]\n            }, this.state.overallCadenceData[i][0]));\n          } else {\n            var rows = cloneDeep(this.state.skuLabelCadenceData[i][0]);\n            delete rows['SKU ID'];\n            delete rows['MD Status'];\n            comparsionData.push(_objectSpread({\n              scenarios: this.state.TabTitles[i]\n            }, rows));\n          }\n        }\n      }\n\n      return this.state.TabTitles.map(function (tabTitle, index) {\n        return React.createElement(Tab, {\n          eventKey: tabTitle,\n          title: tabTitle,\n          key: tabTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"markdownperstyle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, _this2.state.cadenceConstraintsVal === 'sku' && tabTitle === 'Comparison' ? React.createElement(\"div\", {\n          className: \"row skuLabelStyle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"skuLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"SKU/SKU Group\"), React.createElement(\"div\", {\n          className: \"col-md-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, React.createElement(Select, {\n          name: \"category\",\n          value: _this2.state.selectedSkuGroup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }))) : React.createElement(\"label\", {\n          className: \"font-size-14\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, \"Markdown Percentages\")), tabTitle === 'Comparison' ? React.createElement(\"div\", {\n          className: \"cadencetable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, _this2.state.cadenceConstraintsVal === 'sku' ? React.createElement(ComparisonMetricTable, {\n          showCheckBoxComparsionTable: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }) : React.createElement(ComparisonTable, {\n          data: comparsionData,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        })) : React.createElement(\"div\", {\n          className: \"cadencetable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, React.createElement(CreateCadence, {\n          overallCadenceData: _this2.state.cadenceConstraintsVal === 'overall' ? _this2.state.overallCadenceData[index] : _this2.state.skuLabelCadenceData[index],\n          onUpdateMarkdownPercentage: _this2.onUpdateMarkdownPercentage,\n          addScenario: _this2.addScenario,\n          selectedSku: _this2.state.selectedSku,\n          key: tabTitle,\n          index: index,\n          activeTab: _this2.state.defaultActiveKey // dafaultData={}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        })));\n      }); // setTimeout(() => {\n      //   this.setState({\n      //     defaultActiveKey: \"Scenario1\",\n      //   });\n      // }, 5000);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      debugger;\n\n      if (this.state.cadenceConstraintsVal === 'overall') {\n        this.setState({\n          overallCadenceData: [props.cadenceData]\n        });\n      } // console.log('cadenceData:', props.cadenceData)\n\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log('this.state.overallCadenceData:', this.state.overallCadenceData);\n      return React.createElement(\"div\", {\n        className: \"createMd pl-2 pr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"font-size-14 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, \"Markdown Optimization /\", React.createElement(\"span\", {\n        className: \"font-bold color-blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, \"Manually Create MD\"))), React.createElement(\"hr\", {\n        className: \"mb-2\",\n        style: {\n          marginTop: '-4px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }), React.createElement(Filters, {\n        filters: this.state.filters,\n        onFilter: this.onFilter(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }), React.createElement(InventoryInfo, {\n        onExcludeStores: this.onExcludeStores,\n        totalInventory: this.state.totalInventory,\n        currentInventory: this.state.currentInventory,\n        totalStores: this.state.totalStores,\n        selectedStores: this.state.selectedStores,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }), React.createElement(Constraints, {\n        markdownTypeHandler: this.markdownTypeHandler,\n        marginValueHandler: this.marginValueHandler,\n        markdownTypeVal: this.state.markdownTypeVal,\n        targetSellThrough: this.targetSellThrough,\n        constraintsCadenceHandler: this.constraintsCadenceHandler,\n        cadenceConstraintsVal: this.state.cadenceConstraintsVal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cadencebtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.generateCadence,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, \"Generate Cadence\"))), this.state.showCadence && React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        activeKey: this.state.defaultActiveKey,\n        transition: false,\n        id: \"noanim-tab-example\",\n        onSelect: this.onSelectTabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      }, this.getCadence()), React.createElement(\"div\", {\n        className: \"addScenarioBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btn btn-secondary pull-right mt-2\",\n        onClick: this.addScenario,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, \"+ Add Scenario\")), React.createElement(\"div\", {\n        className: \"simulatebtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, this.state.defaultActiveKey !== 'Optimal' && React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.onSimulate,\n        disabled: this.state.defaultActiveKey !== 'Comparison' ? false : true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, \"Simulate\"), React.createElement(\"button\", {\n        className: \"btn btn-primary mr-2 ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, \"Send for approval\"), React.createElement(\"button\", {\n        className: \"btn btn-primary \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, \"Send to drafts\"))), this.state.cadenceConstraintsVal === 'overall' && this.state.defaultActiveKey === 'Comparison' && React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"optimalheading pl-3 pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }, this.state.defaultActiveKey), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cadencetable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, React.createElement(ComparisonMetricTable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      }))), this.state.simulatedData && React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"optimalheading pl-3 pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, this.state.defaultActiveKey), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      }), this.state.defaultActiveKey !== 'Comparison' && React.createElement(\"div\", {\n        className: \"overviewtoggle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: classNames({\n          active: this.state.selectedView == 'Overview',\n          ' btn': true,\n          'btn-outline-primary cal-btn1': true,\n          btnCalendr: true,\n          calPromo: true\n        }),\n        onClick: function onClick() {\n          return _this3.changedView('Overview');\n        },\n        style: {\n          width: '90px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, \"Overview\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: classNames({\n          active: this.state.selectedView == 'Detailed',\n          ' btn': true,\n          'btn-outline-primary cal-btn1': true,\n          btnCalendr: true,\n          calPromo: true\n        }),\n        onClick: function onClick() {\n          return _this3.changedView('Detailed');\n        },\n        style: {\n          width: '90px',\n          borderColor: '#507a91'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531\n        },\n        __self: this\n      }, \"Detailed\")), this.state.selectedView === 'Overview' && this.state.defaultActiveKey !== 'Comparison' && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551\n        },\n        __self: this\n      }, React.createElement(MarkdownAnalysis, {\n        value: this.props.selectedSku,\n        selectedSkuHandler: this.selectedSkuHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552\n        },\n        __self: this\n      })), this.state.selectedView === 'Detailed' && this.state.defaultActiveKey !== 'Comparison' && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560\n        },\n        __self: this\n      }, React.createElement(ColumnSelection, {\n        attributes: this.state.attributes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cadencetable\",\n        style: {\n          paddingBottom: '2rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      }, React.createElement(MarkdownDetailedTable, {\n        data: this.state.markdownDetailedData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }))), ' '), React.createElement(Modal, {\n        visible: this.state.showPlanSavePopup,\n        effect: \"fadeInDown\",\n        onClickAway: function onClickAway() {\n          return _this3.showPlanSavePopup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          width: '130%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576\n        },\n        __self: this\n      }, \"Enter MD Plan Details\", React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this3.showPlanSavePopup();\n        },\n        className: \"pull-right select-store-span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        onClick: function onClick() {\n          return _this3.showPlanSavePopup();\n        },\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ai-pre-grid-table\",\n        style: {\n          textAlign: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591\n        },\n        __self: this\n      }, React.createElement(PlanSavePopup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592\n        },\n        __self: this\n      })))), React.createElement(Modal, {\n        visible: this.state.showExcludeStorePopup,\n        effect: \"fadeInDown\",\n        onClickAway: function onClickAway() {\n          return _this3.showTablePopup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602\n        },\n        __self: this\n      }, \"Select stores\", React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this3.showTablePopup();\n        },\n        className: \"pull-right select-store-span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 604\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        onClick: function onClick() {\n          return _this3.showTablePopup();\n        },\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ai-pre-grid-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617\n        },\n        __self: this\n      }, React.createElement(ExcludeStoreTable, {\n        storeData: this.props.inventoryInfoData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ManuallyCreateMD;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    inventoryInfoData: state.manuallyCreateMdData.inventoryInfoData,\n    cadenceData: state.cadenceData\n  };\n};\n\nvar mapActionsToProps = {\n  fetchInventoryInfo: manuallyCreateMdActions.fetchInventoryInfo,\n  fetchCadence: manuallyCreateMdActions.fetchCadence,\n  simulate: manuallyCreateMdActions.simulate,\n  sendApproval: manuallyCreateMdActions.sendApproval,\n  sendDrafts: manuallyCreateMdActions.sendDrafts\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(ManuallyCreateMD));","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/ManuallyCreateMD/index.js"],"names":["React","Component","Fragment","Filters","MarkdownAnalysis","InventoryInfo","Constraints","CreateCadence","Modal","withRouter","Select","connect","manuallyCreateMdActions","Button","Tabs","Tab","ToggleButtonGroup","ToggleButton","MarkdownDetailedTable","ColumnSelection","cloneDeep","ComparisonTable","ComparisonMetricTable","classNames","ExcludeStoreTable","PlanSavePopup","ManuallyCreateMD","props","onUpdateMarkdownPercentage","data","index","state","cadenceConstraintsVal","data1","overallCadenceData","setState","skuLabelCadenceData","getComparisonData","comparisonData","i","TabTitles","length","push","scenarios","w1","w2","w3","w4","w5","w6","onSelectTabs","key","dataOfALlTheTabs","simulatedData","defaultActiveKey","addScenario","str","tempData","console","log","generateCadence","showCadence","payload","filters","inventorySelected","storeSelected","excludeStore","sellThrough","targetSellThroughVal","margin","marginVal","markdownType","markdownTypeVal","cadenceType","fetchCadence","onSimulate","changedView","view","selectedView","onExcludeStores","showExcludeStorePopup","showPlanSavePopup","showTablePopup","getComparisonCadence","tabTitle","onFilter","constraintsCadenceHandler","value","markdownTypeHandler","val","marginValueHandler","e","target","targetSellThrough","selectedSkuGroup","label","markdownDetailedData","sku_id","w1sellThrough","w1margin","w2sellThrough","w2margin","w3sellThrough","w3margin","w4sellThrough","w4margin","style_desc","totalInventory","currentInventory","totalStores","selectedStores","selectedSku","attributes","skuId","mdStatus","comparsionHeader","Header","accessor","comparsionData","indexOf","rows","map","cadenceData","marginTop","getCadence","active","btnCalendr","calPromo","width","borderColor","selectedSkuHandler","paddingBottom","textAlign","inventoryInfoData","mapStateToProps","manuallyCreateMdData","mapActionsToProps","fetchInventoryInfo","simulate","sendApproval","sendDrafts"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport Filters from '../../services/filters';\nimport MarkdownAnalysis from '../MarkdownAnalysis';\nimport InventoryInfo from './InventoryInfo';\nimport Constraints from './Constraints';\nimport CreateCadence from './CreateCadence';\nimport Modal from 'react-awesome-modal';\nimport { withRouter } from 'react-router-dom';\nimport Select from 'react-select';\nimport { connect } from 'react-redux';\nimport manuallyCreateMdActions from '../../actions/manuallyCreateMdActions.js';\nimport './index.css';\nimport { Button, Tabs, Tab, ToggleButtonGroup, ToggleButton } from 'react-bootstrap';\nimport MarkdownDetailedTable from './MardownDetailedTable';\nimport ColumnSelection from '../columnSelection';\nimport cloneDeep from 'clone-deep';\nimport ComparisonTable from './ComparisonTable';\nimport ComparisonMetricTable from './ComparisonMetricTable';\nimport classNames from 'classnames';\nimport ExcludeStoreTable from './excludeStoreTable';\nimport PlanSavePopup from './planSavePopup';\nclass ManuallyCreateMD extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedSkuGroup: { label: null, value: null },\n      targetSellThroughVal: null,\n      markdownTypeVal: false,\n      cadenceConstraintsVal: 'overall',\n      marginVal: null,\n      markdownDetailedData: [\n        {\n          sku_id: '1234',\n          w1sellThrough: '1234',\n          w1margin: '4321',\n          w2sellThrough: '1234',\n          w2margin: '4321',\n          w3sellThrough: '1234',\n          w3margin: '4321',\n          w4sellThrough: '1234',\n          w4margin: '4321',\n          style_desc: 'def',\n        },\n        {\n          sku_id: '1234',\n          w1sellThrough: '1234',\n          w1margin: '4321',\n          w2sellThrough: '1234',\n          w2margin: '4321',\n          w3sellThrough: '1234',\n          w3margin: '4321',\n          w4sellThrough: '1234',\n          w4margin: '4321',\n          style_desc: 'def',\n        },\n        {\n          sku_id: '1234',\n          w1sellThrough: '1234',\n          w1margin: '4321',\n          w2sellThrough: '1234',\n          w2margin: '4321',\n          w3sellThrough: '1234',\n          w3margin: '4321',\n          w4sellThrough: '1234',\n          w4margin: '4321',\n          style_desc: 'def',\n        },\n      ],\n      overallCadenceData: [\n        [\n          {\n            w1: 20,\n            w2: 30,\n            w3: 40,\n            w4: 50,\n            w5: 60,\n          },\n        ],\n      ],\n      skuLabelCadenceData: [\n        [\n          {\n            'SKU ID': 1000234,\n            'MD Status': 'High',\n            w1: 20,\n            w2: 30,\n            w3: 40,\n            w4: 50,\n            w5: 60,\n          },\n          {\n            'SKU ID': 1000234,\n            'MD Status': 'Medium',\n            w1: 20,\n            w2: 30,\n            w3: 40,\n            w4: 50,\n            w5: 60,\n          },\n        ],\n      ],\n      filters: [\n        'season',\n        'hierarchy1',\n        'hierarchy2',\n        'hierarchy3',\n        'hierarchy4',\n        'hierarchy5',\n        'hierarchy6',\n        'hierarchy7',\n      ],\n      totalInventory: 0,\n      currentInventory: 0,\n      totalStores: 0,\n      selectedStores: 0,\n      selectedView: 'Overview',\n      selectedSku: [],\n      showExcludeStorePopup: false,\n      showPlanSavePopup: false,\n      TabTitles: ['Optimal'],\n      defaultActiveKey: 'Optimal',\n      attributes: ['Sales', 'Inventory', 'Margin'],\n      value: 1,\n      dataOfALlTheTabs: [],\n      data: [\n        {\n          skuId: 1000234,\n          mdStatus: 'High',\n          w1: 20,\n          w2: 30,\n          w3: 40,\n          w4: 50,\n          w5: 60,\n        },\n        {\n          skuId: 1000234,\n          mdStatus: 'Medium',\n          w1: 20,\n          w2: 30,\n          w3: 40,\n          w4: 50,\n          w5: 60,\n        },\n      ],\n      comparsionHeader: [\n        {\n          Header: 'Scenarios',\n          accessor: 'scenarios',\n        },\n        {\n          Header: 'W1',\n          accessor: 'w1',\n        },\n        {\n          Header: 'W2',\n          accessor: 'w2',\n        },\n        {\n          Header: 'W3',\n          accessor: 'w3',\n        },\n        {\n          Header: 'W4',\n          accessor: 'w4',\n        },\n        {\n          Header: 'W5',\n          accessor: 'w5',\n        },\n        {\n          Header: 'W6',\n          accessor: 'w6',\n        },\n      ],\n      comparisonData: [],\n      showCadence: false,\n      simulatedData: false,\n    };\n  }\n  onUpdateMarkdownPercentage = (data, index) => {\n    if (this.state.cadenceConstraintsVal === 'overall') {\n      let data1 = cloneDeep(this.state.overallCadenceData);\n      data1[index] = data;\n      this.setState({\n        overallCadenceData: data1,\n      });\n    } else {\n      let data1 = cloneDeep(this.state.skuLabelCadenceData);\n      data1[index] = data;\n      this.setState({\n        skuLabelCadenceData: data1,\n      });\n    }\n  };\n  getCadence() {\n    let comparsionData = [];\n    if (this.state.TabTitles.indexOf('Comparison') !== -1) {\n      for (let i = 0; i < this.state.TabTitles.length - 1; i++) {\n        if (this.state.cadenceConstraintsVal === 'overall') {\n          comparsionData.push({\n            scenarios: this.state.TabTitles[i],\n            ...this.state.overallCadenceData[i][0],\n          });\n        } else {\n          let rows = cloneDeep(this.state.skuLabelCadenceData[i][0]);\n          delete rows['SKU ID'];\n          delete rows['MD Status'];\n          comparsionData.push({\n            scenarios: this.state.TabTitles[i],\n            ...rows,\n          });\n        }\n      }\n    }\n    return this.state.TabTitles.map((tabTitle, index) => {\n      return (\n        <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n          <div className=\"markdownperstyle\">\n            {this.state.cadenceConstraintsVal === 'sku' && tabTitle === 'Comparison' ? (\n              <div className=\"row skuLabelStyle\">\n                <label className=\"skuLabel\">SKU/SKU Group</label>\n                <div className=\"col-md-2\">\n                  <Select name=\"category\" value={this.state.selectedSkuGroup} />\n                </div>\n              </div>\n            ) : (\n              <label className=\"font-size-14\">Markdown Percentages</label>\n            )}\n            {/* <label className=\"font-size-14\">Markdown Percentages</label> */}\n          </div>\n          {tabTitle === 'Comparison' ? (\n            <div className=\"cadencetable\">\n              {this.state.cadenceConstraintsVal === 'sku' ? (\n                <ComparisonMetricTable showCheckBoxComparsionTable={true} />\n              ) : (\n                <ComparisonTable data={comparsionData} />\n              )}\n            </div>\n          ) : (\n            <div className=\"cadencetable\">\n              <CreateCadence\n                overallCadenceData={\n                  this.state.cadenceConstraintsVal === 'overall'\n                    ? this.state.overallCadenceData[index]\n                    : this.state.skuLabelCadenceData[index]\n                }\n                onUpdateMarkdownPercentage={this.onUpdateMarkdownPercentage}\n                addScenario={this.addScenario}\n                selectedSku={this.state.selectedSku}\n                key={tabTitle}\n                index={index}\n                activeTab={this.state.defaultActiveKey}\n                // dafaultData={}\n              />\n            </div>\n          )}\n        </Tab>\n      );\n    });\n    // setTimeout(() => {\n    //   this.setState({\n    //     defaultActiveKey: \"Scenario1\",\n    //   });\n    // }, 5000);\n  }\n  getComparisonData = () => {\n    let comparisonData = cloneDeep(this.state.comparisonData);\n    for (let i = 0; i < this.state.TabTitles.length - 2; i++) {\n      comparisonData.push({\n        scenarios: this.state.TabTitles[i],\n        w1: 123,\n        w2: 324,\n        w3: 432,\n        w4: 3456,\n        w5: 324,\n        w6: 3333,\n      });\n    }\n  };\n  onSelectTabs = (key) => {\n    if (this.state.dataOfALlTheTabs.length === 0) {\n      let data = cloneDeep(this.state.dataOfALlTheTabs);\n      data[0] = this.state.data;\n      this.setState({\n        dataOfALlTheTabs: data,\n      });\n    } else {\n      this.setState({\n        simulatedData: false,\n      });\n    }\n    this.setState({\n      defaultActiveKey: key,\n    });\n  };\n  addScenario = () => {\n    let TabTitles = this.state.TabTitles;\n    let str = 'Scenario';\n    let tempData = [];\n    if (this.state.TabTitles.length === 1) {\n      str += TabTitles.length;\n      TabTitles[TabTitles.length] = str;\n    } else {\n      str += TabTitles.length - 1;\n      TabTitles[TabTitles.length - 1] = str;\n    }\n    if (this.state.cadenceConstraintsVal === 'overall') {\n      tempData = cloneDeep(this.state.overallCadenceData);\n      tempData[TabTitles.length - 1] = this.state.overallCadenceData[0];\n      this.setState(\n        {\n          overallCadenceData: tempData,\n        },\n        () => {\n          console.log('overallCadenceData dTA:', this.state.overallCadenceData);\n        }\n      );\n    } else {\n      tempData = cloneDeep(this.state.skuLabelCadenceData);\n      tempData[TabTitles.length - 1] = this.state.skuLabelCadenceData[0];\n      this.setState(\n        {\n          skuLabelCadenceData: tempData,\n        },\n        () => {\n          console.log('skylabelcadence dTA:', this.state.skuLabelCadenceData);\n        }\n      );\n    }\n\n    TabTitles[TabTitles.length] = 'Comparison';\n    this.setState({\n      TabTitles,\n      defaultActiveKey: str,\n    });\n  };\n\n  generateCadence = () => {\n    this.setState({\n      showCadence: true,\n    });\n\n    let payload = {\n      filters: {},\n      inventorySelected: '',\n      storeSelected: '',\n      excludeStore: '',\n      sellThrough: this.state.targetSellThroughVal || '',\n      margin: this.state.marginVal || '',\n      markdownType: this.state.markdownTypeVal || '',\n      cadenceType: this.state.cadenceConstraintsVal || '',\n    };\n    console.log(payload, 'payyloaaddd');\n    this.props.fetchCadence(payload);\n  };\n  onSimulate = () => {\n    if (this.state.defaultActiveKey === 'Comparison') {\n      this.setState({\n        simulatedData: false,\n      });\n    } else {\n      this.setState({\n        simulatedData: true,\n      });\n    }\n  };\n  changedView = (view) => {\n    this.setState({ selectedView: view });\n  };\n  onExcludeStores = () => {\n    this.setState({ showExcludeStorePopup: true });\n  };\n  showPlanSavePopup = () => {\n    this.setState({ showPlanSavePopup: false });\n  };\n  showTablePopup = () => {\n    this.setState({ showExcludeStorePopup: false });\n  };\n  getComparisonCadence = (tabTitle = 'comparison') => {\n    return (\n      <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n        <ComparisonTable />\n      </Tab>\n\n      // <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n      //   <CreateCadence\n      //     addScenario={this.addScenario}\n      //     selectedSku={this.state.selectedSku}\n      //     key={tabTitle}\n      //   />\n      // </Tab>\n    );\n  };\n  onFilter = () => {\n    // this.props.fetchInventoryInfo();\n  };\n  constraintsCadenceHandler = (value) => {\n    this.setState({\n      cadenceConstraintsVal: value,\n      showCadence: false,\n      TabTitles: ['Optimal'],\n      defaultActiveKey: 'Optimal',\n    });\n  };\n  markdownTypeHandler = (val) => {\n    this.setState({\n      markdownTypeVal: val,\n    });\n  };\n  marginValueHandler = (e) => {\n    this.setState({\n      marginVal: e.target.value,\n    });\n  };\n  targetSellThrough = (e) => {\n    this.setState({\n      targetSellThroughVal: e.target.value,\n    });\n  };\n  componentWillReceiveProps(props) {\n    debugger;\n    if (this.state.cadenceConstraintsVal === 'overall') {\n      this.setState({\n        overallCadenceData: [props.cadenceData],\n      });\n    }\n    // console.log('cadenceData:', props.cadenceData)\n  }\n  render() {\n    console.log('this.state.overallCadenceData:', this.state.overallCadenceData);\n    return (\n      <div className=\"createMd pl-2 pr-2\">\n        <div className=\"card mb-4\">\n          <div>\n            <h4 className=\"font-size-14 markdown-heading\">\n              Markdown Optimization /\n              <span className=\"font-bold color-blue\">Manually Create MD</span>\n            </h4>\n          </div>\n          <hr\n            className=\"mb-2\"\n            style={{\n              marginTop: '-4px',\n            }}\n          />\n          <Filters filters={this.state.filters} onFilter={this.onFilter()} />\n          <hr className=\"dotted-line\"></hr>\n          <InventoryInfo\n            onExcludeStores={this.onExcludeStores}\n            totalInventory={this.state.totalInventory}\n            currentInventory={this.state.currentInventory}\n            totalStores={this.state.totalStores}\n            selectedStores={this.state.selectedStores}\n          />\n          <hr className=\"dotted-line\"></hr>\n          <Constraints\n            markdownTypeHandler={this.markdownTypeHandler}\n            marginValueHandler={this.marginValueHandler}\n            markdownTypeVal={this.state.markdownTypeVal}\n            targetSellThrough={this.targetSellThrough}\n            constraintsCadenceHandler={this.constraintsCadenceHandler}\n            cadenceConstraintsVal={this.state.cadenceConstraintsVal}\n          />\n          <hr className=\"dotted-line\"></hr>\n          <div className=\"cadencebtn\">\n            <Button onClick={this.generateCadence}>Generate Cadence</Button>\n          </div>\n        </div>\n\n        {this.state.showCadence && (\n          <div className=\"card mb-4\">\n            {/* {this.state.defaultActiveKey} */}\n            <Tabs\n              activeKey={this.state.defaultActiveKey}\n              transition={false}\n              id=\"noanim-tab-example\"\n              onSelect={this.onSelectTabs}>\n              {this.getCadence()}\n            </Tabs>\n            <div className=\"addScenarioBtn\">\n              <Button className=\"btn btn-secondary pull-right mt-2\" onClick={this.addScenario}>\n                + Add Scenario\n              </Button>\n            </div>\n            <div className=\"simulatebtn\">\n              {this.state.defaultActiveKey !== 'Optimal' && (\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={this.onSimulate}\n                  disabled={this.state.defaultActiveKey !== 'Comparison' ? false : true}>\n                  Simulate\n                </button>\n              )}\n              <button className=\"btn btn-primary mr-2 ml-2\">Send for approval</button>\n              <button className=\"btn btn-primary \">Send to drafts</button>\n            </div>\n          </div>\n        )}\n        {this.state.cadenceConstraintsVal === 'overall' &&\n          this.state.defaultActiveKey === 'Comparison' && (\n            <div className=\"card mb-4\">\n              <div className=\"optimalheading pl-3 pt-2\">{this.state.defaultActiveKey}</div>\n              <hr />\n              <div className=\"cadencetable\">\n                <ComparisonMetricTable />\n              </div>\n            </div>\n          )}\n\n        {this.state.simulatedData && (\n          <div className=\"card mb-4\">\n            <div className=\"optimalheading pl-3 pt-2\">{this.state.defaultActiveKey}</div>\n            <hr />\n            {this.state.defaultActiveKey !== 'Comparison' && (\n              <div className=\"overviewtoggle\">\n                <button\n                  type=\"button\"\n                  className={classNames({\n                    active: this.state.selectedView == 'Overview',\n                    ' btn': true,\n                    'btn-outline-primary cal-btn1': true,\n                    btnCalendr: true,\n                    calPromo: true,\n                  })}\n                  onClick={() => this.changedView('Overview')}\n                  style={{\n                    width: '90px',\n                  }}>\n                  Overview\n                </button>\n                <button\n                  type=\"button\"\n                  className={classNames({\n                    active: this.state.selectedView == 'Detailed',\n                    ' btn': true,\n                    'btn-outline-primary cal-btn1': true,\n                    btnCalendr: true,\n                    calPromo: true,\n                  })}\n                  onClick={() => this.changedView('Detailed')}\n                  style={{\n                    width: '90px',\n                    borderColor: '#507a91',\n                  }}>\n                  Detailed\n                </button>\n              </div>\n            )}\n            {this.state.selectedView === 'Overview' &&\n              this.state.defaultActiveKey !== 'Comparison' && (\n                <div>\n                  <MarkdownAnalysis\n                    value={this.props.selectedSku}\n                    selectedSkuHandler={this.selectedSkuHandler}\n                  />\n                </div>\n              )}\n            {this.state.selectedView === 'Detailed' &&\n              this.state.defaultActiveKey !== 'Comparison' && (\n                <div>\n                  <ColumnSelection attributes={this.state.attributes} />\n                  <div className=\"cadencetable\" style={{ paddingBottom: '2rem' }}>\n                    <MarkdownDetailedTable data={this.state.markdownDetailedData} />\n                  </div>\n                </div>\n              )}{' '}\n          </div>\n        )}\n\n        <Modal\n          visible={this.state.showPlanSavePopup}\n          effect=\"fadeInDown\"\n          onClickAway={() => this.showPlanSavePopup()}>\n          <div className=\"card\" style={{ width: '130%' }}>\n            <div className=\"card-body\">\n              <h6 className=\"card-title\">\n                Enter MD Plan Details\n                <span\n                  onClick={() => this.showPlanSavePopup()}\n                  className=\"pull-right select-store-span\">\n                  <i\n                    className=\"fa fa-times\"\n                    onClick={() => this.showPlanSavePopup()}\n                    aria-hidden=\"true\"\n                  />\n                </span>\n              </h6>\n              <hr />\n            </div>\n\n            <div className=\"ai-pre-grid-table\" style={{ textAlign: 'right' }}>\n              <PlanSavePopup />\n            </div>\n          </div>\n        </Modal>\n        <Modal\n          visible={this.state.showExcludeStorePopup}\n          effect=\"fadeInDown\"\n          onClickAway={() => this.showTablePopup()}>\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <h6 className=\"card-title\">\n                Select stores\n                <span\n                  onClick={() => this.showTablePopup()}\n                  className=\"pull-right select-store-span\">\n                  <i\n                    className=\"fa fa-times\"\n                    onClick={() => this.showTablePopup()}\n                    aria-hidden=\"true\"\n                  />\n                </span>\n              </h6>\n              <hr />\n            </div>\n\n            <div className=\"ai-pre-grid-table\">\n              <ExcludeStoreTable storeData={this.props.inventoryInfoData} />\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    inventoryInfoData: state.manuallyCreateMdData.inventoryInfoData,\n    cadenceData: state.cadenceData,\n  };\n};\nconst mapActionsToProps = {\n  fetchInventoryInfo: manuallyCreateMdActions.fetchInventoryInfo,\n  fetchCadence: manuallyCreateMdActions.fetchCadence,\n  simulate: manuallyCreateMdActions.simulate,\n  sendApproval: manuallyCreateMdActions.sendApproval,\n  sendDrafts: manuallyCreateMdActions.sendDrafts,\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(ManuallyCreateMD));\n"]},"metadata":{},"sourceType":"module"}