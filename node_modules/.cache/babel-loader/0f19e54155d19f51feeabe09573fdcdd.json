{"ast":null,"code":"import _toConsumableArray from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/Configuration/StoreConfigContainers/CreateStoreGroup.jsx\";\nimport React, { Component } from 'react';\nimport { InputGroup, FormControl } from 'react-bootstrap';\nimport '../StoreConfigContainers/StoreConfig';\nimport DataTable from '../../../services/reactTable';\nimport '../../Configuration/StoreConfigContainers/StoreConfig.css';\nimport StoreConfigRowData from '../StoreConfigContainers/StoreConfigRowData';\nimport { cloneDeep, differenceBy } from 'lodash';\nimport excelIcon from \"../../../images/leftPanel/status.svg\";\nexport var CreateStoreGroup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateStoreGroup, _Component);\n\n  function CreateStoreGroup() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateStoreGroup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateStoreGroup)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      storeGroupName: '',\n      allStores: StoreConfigRowData,\n      editAllstoreData: [],\n      currentStores: [],\n      selectedAllStores: [],\n      selectedCurrentStores: [],\n      storeTableEditData: []\n    };\n\n    _this.setTableData = function () {// let editAllstoreData = cloneDeep(this.state.editAllstoreData);\n      // let storeTableEditData = this.props.storeTableEditData;\n      // const newAllStores = differenceBy(editAllstoreData, storeTableEditData, 'store_number');\n      // this.setState({\n      //   storeTableEditData: storeTableEditData,\n      //   editAllstoreData: newAllStores,\n      // });\n    };\n\n    _this.setGroupName = function () {\n      var id = _this.props.match.params.id; // let storeName =\n      //   this.props && this.props.storeName && this.props.storeName.filter((el) => el.value == id);\n      // let name = storeName[0].label;\n\n      _this.setState({// storeGroupName: name,\n      });\n    };\n\n    _this.onStoreGroupNameChangeHandler = function (e) {\n      _this.setState({\n        storeGroupName: e.target.value\n      });\n    };\n\n    _this.header = [{\n      Header: 'Store Number',\n      accessor: 'store_number'\n    }, {\n      Header: 'Store Name',\n      accessor: 'store_name'\n    }, {\n      Header: 'Chain Description',\n      accessor: 'chain_description'\n    }, {\n      Header: 'Region Description',\n      accessor: 'region_description'\n    }];\n\n    _this.onCurrentStoresSelectionChangeHandler = function (rowInfo) {\n      console.log(rowInfo, 'rowinfooo');\n      console.log(rowInfo.original, 'original');\n\n      _this.setState({\n        selectedCurrentStores: [rowInfo.original]\n      });\n\n      console.log(_this.state.selectedCurrentStores, 'selectedCurrentStores');\n    };\n\n    _this.onAddClickHandler = function () {\n      console.log(_this.props.isEditStoreGroup, 'isEditStoreGroup');\n\n      if (_this.state.selectedAllStores && _this.state.selectedAllStores.length > 0 && _this.props.isEditStoreGroup) {\n        var allStores = cloneDeep(_this.state.allStores);\n        var currentStores = cloneDeep(_this.state.currentStores);\n        currentStores.push.apply(currentStores, _toConsumableArray(_this.state.selectedAllStores));\n        var newAllStores = differenceBy(allStores, _this.state.selectedAllStores, 'store_number');\n        console.log('asfasdf', _this.state.selectedAllStores);\n        console.log('newAllStores', newAllStores);\n\n        _this.setState({\n          allStores: newAllStores,\n          currentStores: currentStores,\n          selectedAllStores: []\n        });\n      } else {\n        var editAllstoreData = cloneDeep(_this.state.editAllstoreData);\n        console.log(editAllstoreData, 'edit');\n\n        var _currentStores = cloneDeep(_this.state.currentStores);\n\n        _currentStores.push.apply(_currentStores, _toConsumableArray(_this.state.selectedAllStores));\n\n        var _newAllStores = differenceBy(editAllstoreData, _this.state.selectedAllStores, 'store_number');\n\n        console.log('asfasdf', _this.state.selectedAllStores);\n        console.log('newAllStores', _newAllStores);\n\n        _this.setState({\n          editAllstoreData: _newAllStores,\n          currentStores: _currentStores,\n          selectedAllStores: []\n        });\n      }\n    };\n\n    _this.onAllStoresSelectionChangeHandler = function (rowInfo) {\n      console.log(rowInfo, 'rowinfooo');\n      console.log(rowInfo.original, 'original');\n\n      _this.setState({\n        selectedAllStores: [rowInfo.original]\n      });\n\n      console.log(_this.state.selectedAllStores, 'selectedAllStores');\n    };\n\n    _this.onCreateStoreGroup = function () {\n      if (_this.props.isEditStoreGroup) {\n        var storeCodes = _this.state.currentStores.map(function (ele) {\n          return ele.store_number;\n        });\n\n        var storeGroupName = _this.state.storeGroupName;\n        console.log(storeCodes, 'name');\n        console.log(_this.state.currentStores, 'storeCodes');\n      } else {// let { id } = this.props.match.params;\n        // let storeCodes = this.state.storeTableEditData.map((ele) => ele.store_code);\n        // let { storeGroupName } = this.state;\n        // this.props.fetchStoreConfigEditStoreData({\n        //   Stores_groups_NAME: storeGroupName,\n        //   Stores_Codes: storeCodes,\n        //   Stores_groups_Id: id,\n        // });\n      }\n    };\n\n    _this.onCancelButtonHandler = function () {\n      _this.setState({\n        allStores: [],\n        editAllstoreData: []\n      });\n\n      _this.props.history.goBack();\n    };\n\n    _this.onRemoveClickHandler = function () {\n      if (_this.props.isEditStoreGroup) {\n        var currentStores = cloneDeep(_this.state.currentStores);\n        var allStores = cloneDeep(_this.state.allStores);\n        var newCurrentStStores = differenceBy(currentStores, _this.state.selectedCurrentStores, 'store_number');\n        allStores.push.apply(allStores, _toConsumableArray(_this.state.selectedCurrentStores));\n\n        _this.setState({\n          allStores: allStores,\n          currentStores: newCurrentStStores,\n          selectedCurrentStores: []\n        });\n      } else {\n        var _currentStores2 = cloneDeep(_this.state.storeTableEditData);\n\n        var editAllstoreData = cloneDeep(_this.state.editAllstoreData);\n\n        var _newCurrentStStores = differenceBy(_currentStores2, _this.state.selectedCurrentStores, 'store_code');\n\n        editAllstoreData.push.apply(editAllstoreData, _toConsumableArray(_this.state.selectedCurrentStores));\n\n        _this.setState({\n          editAllstoreData: editAllstoreData,\n          storeTableEditData: _newCurrentStStores,\n          selectedCurrentStores: []\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CreateStoreGroup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// let { id } = this.props.match.params;\n      // this.props.fetchStoreConfigStoreTableData(); allstoresdata api\n      // this.props.fetchStoreConfigStoreTableEditData({ Stores_groups_Id: [id] }); edit storedata api\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {// if (prevProps.storeTableData !== this.props.storeTableData) {\n      //   this.setState(\n      //     {\n      //       allStores: this.props.storeTableData,\n      //     },\n      //     () => this.setTableData()\n      //   );\n      // }\n      // if (prevProps.storeName !== this.props.storeName) {\n      //   this.setGroupName();\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          currentStores = _this$state.currentStores,\n          allStores = _this$state.allStores;\n      console.log(this.state.currentStores, 'curr');\n      return React.createElement(\"div\", {\n        className: \"card p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"font-size-14  pad-10 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Store Configuration/\", React.createElement(\"span\", {\n        className: \"font-bold color-blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Create Store Group\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.props.onCancelButtonHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Back\"))), React.createElement(\"hr\", {\n        className: \"mb-3\",\n        style: {\n          marginTop: '-4px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"*\"), \"Store group name:\"), React.createElement(\"input\", {\n        className: \"inputText\",\n        type: \"text\",\n        onChange: this.onStoreGroupNameChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"col-md-5 btn btn-primary\",\n        onClick: function onClick() {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Upload \\xA0\\xA0\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-icons-create-promo\",\n        src: excelIcon,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }))))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          justifyContent: 'space-around'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"All Stores\"), React.createElement(\"div\", {\n        style: {\n          height: '370px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        visibleColumns: \"onlyRowSelection\",\n        getRowProps: function getRowProps(rowInfo) {\n          return {\n            onClick: function onClick() {\n              return _this2.onAllStoresSelectionChangeHandler(rowInfo);\n            }\n          };\n        },\n        columns: this.header,\n        data: allStores,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btnStyle btn btn-primary\",\n        onClick: this.onAddClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"Add\"))), React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Current Stores : \", currentStores && currentStores.length)), React.createElement(\"div\", {\n        style: {\n          height: '370px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        visibleColumns: \"onlyRowSelection\",\n        getRowProps: function getRowProps(rowInfo) {\n          return {\n            onClick: function onClick() {\n              return _this2.onCurrentStoresSelectionChangeHandler(rowInfo);\n            }\n          };\n        },\n        columns: this.header,\n        data: currentStores,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btnStyle btn btn-primary\",\n        onClick: this.onRemoveClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"Remove\")))), React.createElement(\"div\", {\n        className: \"mb-3 mt-4\",\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          width: '7%'\n        },\n        className: \" btn btn-primary\",\n        onClick: this.onCreateStoreGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Create\"), React.createElement(\"button\", {\n        className: \" btn ml-1 cancel-button\",\n        style: {\n          width: '7%'\n        },\n        onClick: this.props.onCancelButtonHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return CreateStoreGroup;\n}(Component);\nexport default CreateStoreGroup;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/Configuration/StoreConfigContainers/CreateStoreGroup.jsx"],"names":["React","Component","InputGroup","FormControl","DataTable","StoreConfigRowData","cloneDeep","differenceBy","CreateStoreGroup","state","storeGroupName","allStores","editAllstoreData","currentStores","selectedAllStores","selectedCurrentStores","storeTableEditData","setTableData","setGroupName","id","props","match","params","setState","onStoreGroupNameChangeHandler","e","target","value","header","Header","accessor","onCurrentStoresSelectionChangeHandler","rowInfo","console","log","original","onAddClickHandler","isEditStoreGroup","length","push","newAllStores","onAllStoresSelectionChangeHandler","onCreateStoreGroup","storeCodes","map","ele","store_number","onCancelButtonHandler","history","goBack","onRemoveClickHandler","newCurrentStStores","prevProps","prevState","display","justifyContent","marginTop","color","excelIcon","height","onClick","textAlign","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { InputGroup, FormControl } from 'react-bootstrap';\nimport '../StoreConfigContainers/StoreConfig';\nimport DataTable from '../../../services/reactTable';\nimport '../../Configuration/StoreConfigContainers/StoreConfig.css';\nimport StoreConfigRowData from '../StoreConfigContainers/StoreConfigRowData';\nimport { cloneDeep, differenceBy } from 'lodash';\nimport excelIcon from '../../../images/leftPanel/status.svg';\n\nexport class CreateStoreGroup extends Component {\n  state = {\n    storeGroupName: '',\n    allStores: StoreConfigRowData,\n    editAllstoreData: [],\n    currentStores: [],\n    selectedAllStores: [],\n    selectedCurrentStores: [],\n    storeTableEditData: [],\n  };\n  componentDidMount() {\n    // let { id } = this.props.match.params;\n    // this.props.fetchStoreConfigStoreTableData(); allstoresdata api\n    // this.props.fetchStoreConfigStoreTableEditData({ Stores_groups_Id: [id] }); edit storedata api\n  }\n  componentDidUpdate(prevProps, prevState) {\n    // if (prevProps.storeTableData !== this.props.storeTableData) {\n    //   this.setState(\n    //     {\n    //       allStores: this.props.storeTableData,\n    //     },\n    //     () => this.setTableData()\n    //   );\n    // }\n    // if (prevProps.storeName !== this.props.storeName) {\n    //   this.setGroupName();\n    // }\n  }\n\n  setTableData = () => {\n    // let editAllstoreData = cloneDeep(this.state.editAllstoreData);\n    // let storeTableEditData = this.props.storeTableEditData;\n    // const newAllStores = differenceBy(editAllstoreData, storeTableEditData, 'store_number');\n    // this.setState({\n    //   storeTableEditData: storeTableEditData,\n    //   editAllstoreData: newAllStores,\n    // });\n  };\n  setGroupName = () => {\n    let { id } = this.props.match.params;\n    // let storeName =\n    //   this.props && this.props.storeName && this.props.storeName.filter((el) => el.value == id);\n    // let name = storeName[0].label;\n    this.setState({\n      // storeGroupName: name,\n    });\n  };\n  onStoreGroupNameChangeHandler = (e) => {\n    this.setState({\n      storeGroupName: e.target.value,\n    });\n  };\n\n  header = [\n    {\n      Header: 'Store Number',\n      accessor: 'store_number',\n    },\n    {\n      Header: 'Store Name',\n      accessor: 'store_name',\n    },\n    {\n      Header: 'Chain Description',\n      accessor: 'chain_description',\n    },\n    {\n      Header: 'Region Description',\n      accessor: 'region_description',\n    },\n  ];\n\n  onCurrentStoresSelectionChangeHandler = (rowInfo) => {\n    console.log(rowInfo, 'rowinfooo');\n    console.log(rowInfo.original, 'original');\n    this.setState({\n      selectedCurrentStores: [rowInfo.original],\n    });\n    console.log(this.state.selectedCurrentStores, 'selectedCurrentStores');\n  };\n\n  onAddClickHandler = () => {\n    console.log(this.props.isEditStoreGroup, 'isEditStoreGroup');\n    if (\n      this.state.selectedAllStores &&\n      this.state.selectedAllStores.length > 0 &&\n      this.props.isEditStoreGroup\n    ) {\n      const allStores = cloneDeep(this.state.allStores);\n      const currentStores = cloneDeep(this.state.currentStores);\n      currentStores.push(...this.state.selectedAllStores);\n      const newAllStores = differenceBy(allStores, this.state.selectedAllStores, 'store_number');\n      console.log('asfasdf', this.state.selectedAllStores);\n      console.log('newAllStores', newAllStores);\n      this.setState({\n        allStores: newAllStores,\n        currentStores,\n        selectedAllStores: [],\n      });\n    } else {\n      const editAllstoreData = cloneDeep(this.state.editAllstoreData);\n      console.log(editAllstoreData, 'edit');\n      const currentStores = cloneDeep(this.state.currentStores);\n      currentStores.push(...this.state.selectedAllStores);\n      const newAllStores = differenceBy(\n        editAllstoreData,\n        this.state.selectedAllStores,\n        'store_number'\n      );\n      console.log('asfasdf', this.state.selectedAllStores);\n      console.log('newAllStores', newAllStores);\n      this.setState({\n        editAllstoreData: newAllStores,\n        currentStores,\n        selectedAllStores: [],\n      });\n    }\n  };\n  onAllStoresSelectionChangeHandler = (rowInfo) => {\n    console.log(rowInfo, 'rowinfooo');\n    console.log(rowInfo.original, 'original');\n    this.setState({\n      selectedAllStores: [rowInfo.original],\n    });\n    console.log(this.state.selectedAllStores, 'selectedAllStores');\n  };\n  onCreateStoreGroup = () => {\n    if (this.props.isEditStoreGroup) {\n      let storeCodes = this.state.currentStores.map((ele) => ele.store_number);\n      let { storeGroupName } = this.state;\n      console.log(storeCodes, 'name');\n      console.log(this.state.currentStores, 'storeCodes');\n    } else {\n      // let { id } = this.props.match.params;\n      // let storeCodes = this.state.storeTableEditData.map((ele) => ele.store_code);\n      // let { storeGroupName } = this.state;\n      // this.props.fetchStoreConfigEditStoreData({\n      //   Stores_groups_NAME: storeGroupName,\n      //   Stores_Codes: storeCodes,\n      //   Stores_groups_Id: id,\n      // });\n    }\n  };\n  onCancelButtonHandler = () => {\n    this.setState({ allStores: [], editAllstoreData: [] });\n    this.props.history.goBack();\n  };\n  onRemoveClickHandler = () => {\n    if (this.props.isEditStoreGroup) {\n      const currentStores = cloneDeep(this.state.currentStores);\n      const allStores = cloneDeep(this.state.allStores);\n      const newCurrentStStores = differenceBy(\n        currentStores,\n        this.state.selectedCurrentStores,\n        'store_number'\n      );\n      allStores.push(...this.state.selectedCurrentStores);\n      this.setState({\n        allStores,\n        currentStores: newCurrentStStores,\n        selectedCurrentStores: [],\n      });\n    } else {\n      const currentStores = cloneDeep(this.state.storeTableEditData);\n      const editAllstoreData = cloneDeep(this.state.editAllstoreData);\n      const newCurrentStStores = differenceBy(\n        currentStores,\n        this.state.selectedCurrentStores,\n        'store_code'\n      );\n      editAllstoreData.push(...this.state.selectedCurrentStores);\n      this.setState({\n        editAllstoreData,\n        storeTableEditData: newCurrentStStores,\n        selectedCurrentStores: [],\n      });\n    }\n  };\n\n  render() {\n    let { currentStores, allStores } = this.state;\n    console.log(this.state.currentStores, 'curr');\n    return (\n      <div className=\"card p-2\">\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <h4 className=\"font-size-14  pad-10 markdown-heading\">\n            Store Configuration/\n            <span className=\"font-bold color-blue\">Create Store Group</span>\n          </h4>\n          <div>\n            <button className=\"btn btn-primary\" onClick={this.props.onCancelButtonHandler}>\n              Back\n            </button>\n          </div>\n        </div>\n        <hr\n          className=\"mb-3\"\n          style={{\n            marginTop: '-4px',\n          }}\n        />\n        <div className=\"row justify-content-between\">\n          <div className=\"col-md-6\">\n            <label className=\"mr-1\">\n              <span style={{ color: 'red' }}>*</span>Store group name:\n            </label>\n            <input\n              className=\"inputText\"\n              type=\"text\"\n              onChange={this.onStoreGroupNameChangeHandler}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <button className=\"col-md-5 btn btn-primary\" onClick={() => {}}>\n              Upload &nbsp;&nbsp;\n              <span>\n                <img className=\"img-icons-create-promo\" src={excelIcon} alt=\"\" />\n              </span>\n            </button>\n          </div>\n        </div>\n        <hr />\n        <div className=\"row\" style={{ justifyContent: 'space-around' }}>\n          <div className=\"col-md-5\">\n            <div>All Stores</div>\n            <div style={{ height: '370px' }}>\n              <DataTable\n                visibleColumns=\"onlyRowSelection\"\n                getRowProps={(rowInfo) => ({\n                  onClick: () => this.onAllStoresSelectionChangeHandler(rowInfo),\n                })}\n                columns={this.header}\n                data={allStores}\n              />\n            </div>\n            <div>\n              <button className=\"btnStyle btn btn-primary\" onClick={this.onAddClickHandler}>\n                Add\n              </button>\n            </div>\n          </div>\n          <div className=\"col-md-5\">\n            <div>\n              <span className=\"mr-2\">Current Stores : {currentStores && currentStores.length}</span>\n            </div>\n            <div style={{ height: '370px' }}>\n              <DataTable\n                visibleColumns=\"onlyRowSelection\"\n                getRowProps={(rowInfo) => ({\n                  onClick: () => this.onCurrentStoresSelectionChangeHandler(rowInfo),\n                })}\n                columns={this.header}\n                data={currentStores}\n              />\n            </div>\n            <div>\n              <button className=\"btnStyle btn btn-primary\" onClick={this.onRemoveClickHandler}>\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"mb-3 mt-4\" style={{ textAlign: 'center' }}>\n          <button\n            style={{ width: '7%' }}\n            className=\" btn btn-primary\"\n            onClick={this.onCreateStoreGroup}>\n            Create\n          </button>\n          <button\n            className=\" btn ml-1 cancel-button\"\n            style={{ width: '7%' }}\n            onClick={this.props.onCancelButtonHandler}>\n            Cancel\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateStoreGroup;\n"]},"metadata":{},"sourceType":"module"}