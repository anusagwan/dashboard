{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ERRORS, SET_CURRENT_USER, GET_CHART_DATA, GET_CHART_DATA_FILTERS, DATA_LOADING, CLEAR_CHART_DATA, CLEAR_ERRORS, CLEAR_FILTERS_DATA } from \"./types\";\nimport { config } from \"../utils/config\";\nimport setAuthToken from \"../utils/setAuthToken\";\nexport var getRecommendedPromo = function getRecommendedPromo(params) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem(\"token\")\n    });\n    var url = config.genericPromo + \"/eda/getRecommendedPromoList\";\n\n    if (params) {\n      url += params;\n    }\n\n    axios.get(url).then(function (res) {\n      dispatch({\n        type: \"GET_RECOMMENDED_PROMO\",\n        payload: res.data\n      });\n    }).catch(function (err) {\n      // console.log('errorrrrrrrrrrrrrrrrrrrr',  err)\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n  };\n};\nexport var getCumulativeFilters = function getCumulativeFilters(reqObject) {\n  return function (dispatch) {\n    setAuthToken(localStorage.getItem(\"token\"), true);\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem(\"token\")\n    });\n    axios.post(\"\".concat(config.joBaseUrl, \"/promo/individualFiltersApi\"), reqObject).then(function (res) {\n      dispatch({\n        type: \"FILTER_DATA\",\n        payload: res.data.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: \"GET_ERRORS\",\n        payload: err\n      });\n    });\n  };\n};\nexport var getPromoFilters = function getPromoFilters(params) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem(\"token\")\n    });\n    var url = config.markDownUrl + \"/hierarchy/getAllHierarchy\";\n\n    if (params) {\n      url += params;\n    }\n\n    axios.get(url).then(function (res) {\n      dispatch({\n        type: \"GET_PROMO_FILTERS\",\n        payload: res.data\n      });\n    }).catch(function (err) {\n      // console.log('errorrrrrrrrrrrrrrrrrrrr',  err)\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n  };\n};\nexport var getPromoConfigureData = function getPromoConfigureData(filters) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem(\"token\")\n    });\n    var url = config.genericPromo + \"/promo/getPromoConfig\";\n\n    if (filters) {\n      url = url + \"?\" + filters;\n    }\n\n    axios.get(url).then(function (res) {\n      dispatch({\n        type: \"GET_PROMO_CONFIG\",\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n  };\n};\nexport var updateData = function updateData(configureData, next) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem(\"token\")\n    });\n    axios.post(config.genericPromo + \"/promo/updatePromoConfig\", configureData).then(function (res) {\n      dispatch({\n        type: \"UPDATE_CONFIG\",\n        payload: res.data\n      });\n      return next();\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.message\n      });\n    });\n  };\n};\nexport var insertRecommendedData = function insertRecommendedData(reqObj, next) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem(\"token\")\n    });\n    axios.post(config.genericPromo + \"/promo/insertRecommendData\", reqObj).then(function (res) {\n      dispatch({\n        type: \"INSERT_RECOMMEND_PROMO\",\n        payload: res.data\n      });\n      return next();\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.message\n      });\n    });\n  };\n};\nexport var updateRecommendPromo = function updateRecommendPromo(reqObj) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem(\"token\")\n    });\n    axios.post(config.genericPromo + \"/promo/updateRecommendData\", reqObj).then(function (res) {\n      dispatch({\n        type: \"UPDATE_RECOMMEND_PROMO\",\n        payload: res.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.message\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/actions/promo.js"],"names":["axios","GET_ERRORS","SET_CURRENT_USER","GET_CHART_DATA","GET_CHART_DATA_FILTERS","DATA_LOADING","CLEAR_CHART_DATA","CLEAR_ERRORS","CLEAR_FILTERS_DATA","config","setAuthToken","getRecommendedPromo","params","dispatch","type","payload","localStorage","getItem","url","genericPromo","get","then","res","data","catch","err","getCumulativeFilters","reqObject","post","joBaseUrl","getPromoFilters","markDownUrl","getPromoConfigureData","filters","updateData","configureData","next","console","log","message","insertRecommendedData","reqObj","updateRecommendPromo"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nimport {\n  GET_ERRORS,\n  SET_CURRENT_USER,\n  GET_CHART_DATA,\n  GET_CHART_DATA_FILTERS,\n  DATA_LOADING,\n  CLEAR_CHART_DATA,\n  CLEAR_ERRORS,\n  CLEAR_FILTERS_DATA\n} from \"./types\";\nimport { config } from \"../utils/config\";\nimport setAuthToken from \"../utils/setAuthToken\";\nexport const getRecommendedPromo = params => dispatch => {\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem(\"token\")\n  });\n  var url = config.genericPromo + \"/eda/getRecommendedPromoList\";\n  if (params) {\n    url += params;\n  }\n  axios\n    .get(url)\n    .then(res => {\n      dispatch({\n        type: \"GET_RECOMMENDED_PROMO\",\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      // console.log('errorrrrrrrrrrrrrrrrrrrr',  err)\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n};\n\nexport const getCumulativeFilters = reqObject => dispatch => {\n  setAuthToken(localStorage.getItem(\"token\"), true);\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem(\"token\")\n  });\n  axios\n    .post(`${config.joBaseUrl}/promo/individualFiltersApi`, reqObject)\n    .then(res => {\n      dispatch({\n        type: \"FILTER_DATA\",\n        payload: res.data.data\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: \"GET_ERRORS\",\n        payload: err\n      });\n    });\n};\n\nexport const getPromoFilters = (params) => dispatch => {\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem(\"token\")\n  });\n  var url = config.markDownUrl + \"/hierarchy/getAllHierarchy\"\n  if (params) {\n    url += params;\n  }\n  axios\n    .get(url)\n    .then(res => {\n      dispatch({\n        type: \"GET_PROMO_FILTERS\",\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      // console.log('errorrrrrrrrrrrrrrrrrrrr',  err)\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n};\n\nexport const getPromoConfigureData = filters => dispatch => {\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem(\"token\")\n  });\n  var url = config.genericPromo + \"/promo/getPromoConfig\";\n  if (filters) {\n    url = url + \"?\" + filters;\n  }\n  axios\n    .get(url)\n    .then(res => {\n      dispatch({\n        type: \"GET_PROMO_CONFIG\",\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n};\n\nexport const updateData = (configureData, next) => dispatch => {\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem(\"token\")\n  });\n\n  axios\n    .post(config.genericPromo + `/promo/updatePromoConfig`, configureData)\n    .then(res => {\n      dispatch({\n        type: \"UPDATE_CONFIG\",\n        payload: res.data\n      });\n      return next();\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.message\n      });\n    });\n};\n\nexport const insertRecommendedData = (reqObj,next) => (dispatch) =>{\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem(\"token\")\n  });\n\n  axios\n    .post(config.genericPromo + `/promo/insertRecommendData`, reqObj)\n    .then(res => {\n      dispatch({\n        type: \"INSERT_RECOMMEND_PROMO\",\n        payload: res.data\n      });\n      return next();\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.message\n      });\n    });\n}\n\nexport const updateRecommendPromo = (reqObj) => (dispatch) =>{\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem(\"token\")\n  });\n\n  axios\n    .post(config.genericPromo + `/promo/updateRecommendData`, reqObj)\n    .then(res => {\n      dispatch({\n        type: \"UPDATE_RECOMMEND_PROMO\",\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.message\n      });\n    });\n}\n"]},"metadata":{},"sourceType":"module"}