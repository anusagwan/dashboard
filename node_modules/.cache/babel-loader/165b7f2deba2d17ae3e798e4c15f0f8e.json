{"ast":null,"code":"import _slicedToArray from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/createNewPromo/AddCategories.js\";\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { Modal, Button } from 'react-bootstrap';\nimport './createPromoStyle.css'; //Components Import\n\nimport DataTable from '../DataTable'; // import Modal from '../Modal'\n\nimport Select from '../SelectAll';\nimport client from '../../apolloClient';\nimport { hierarchyFilter } from '../../apolloClient/query';\nimport PageLoader from '../../utils/Loader';\n\nvar AddSKUGroup = function AddSKUGroup(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalShow = _useState2[0],\n      setModalShow = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loader = _useState4[0],\n      setLoader = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      hierarchy1List = _useState6[0],\n      setHierarchy1List = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      hierarchy2List = _useState8[0],\n      setHierarchy2List = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      hierarchy3List = _useState10[0],\n      setHierarchy3List = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      hierarchy4List = _useState12[0],\n      setHierarchy4List = _useState12[1];\n\n  useEffect(function () {\n    client.query({\n      query: hierarchyFilter,\n      variables: {\n        level: 1\n      }\n    }).then(function (data) {\n      var hierarchy1List = data.data.hierarchyFilter.map(function (value) {\n        return {\n          value: value,\n          label: value\n        };\n      });\n      setHierarchy1List(hierarchy1List);\n    });\n  }, [hierarchy1List]);\n\n  var callHierarchy = function callHierarchy(variables, setList) {\n    setLoader(true);\n    client.query({\n      query: hierarchyFilter,\n      variables: variables\n    }).then(function (data) {\n      var hierarchyList = data.data.hierarchyFilter.slice(0, 49).map(function (value) {\n        return {\n          value: value,\n          label: value\n        };\n      });\n      setList(hierarchyList);\n      setLoader(false);\n    });\n  };\n\n  var addAll = function addAll() {\n    if (props.hierarchy1 && props.hierarchy2 && props.hierarchy3 && props.hierarchy4) {\n      props.addCategory(true);\n      setModalShow(false);\n    }\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    className: \"dotted-line\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"t-a-r\",\n    style: {\n      marginBottom: '1rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"font-size-14 font-bold\",\n    style: {\n      float: 'left',\n      paddingTop: '4px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Products\"), React.createElement(Button, {\n    className: \"add-sku-button\",\n    size: \"sm\",\n    onClick: function onClick() {\n      setModalShow(true);\n    },\n    disabled: !props.validationFlag,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"+ Add Product\")), React.createElement(DataTable, {\n    isSizetoFit: true,\n    columnDefs: props.skuGroupColDefs.colDefs,\n    style: {\n      height: '150px',\n      width: '100%',\n      margin: 'auto'\n    },\n    rowData: props.categories,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    className: \"dotted-line\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), !!props.historicalCategories.length && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"font-size-14 font-bold mt-4 mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Old SKU/SKU Groups\"), React.createElement(DataTable, {\n    isSizetoFit: true,\n    columnDefs: props.skuGroupColDefs.colDefs,\n    style: {\n      height: '200px',\n      width: '100%',\n      margin: 'auto'\n    },\n    rowData: props.historicalCategories,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(Modal, {\n    size: \"lg\",\n    show: modalShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(PageLoader, {\n    loader: loader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    onClick: function onClick() {\n      return setModalShow(false);\n    },\n    className: \"pull-right\",\n    style: {\n      cursor: 'pointer',\n      zIndex: '1',\n      position: 'relative'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"fa fa-times\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"font-bold font-size-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Filter SKU/SKU Group\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Department\"), React.createElement(Select, {\n    name: \"hierarchy1\",\n    options: hierarchy1List,\n    value: props.hierarchy1,\n    onChange: function onChange(value, type) {\n      props.handleSelectChange(value, type);\n      callHierarchy({\n        level: 2,\n        hierarchyLevel1: [value.value]\n      }, setHierarchy2List);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Sub Department\"), React.createElement(Select, {\n    name: \"hierarchy2\",\n    options: hierarchy2List,\n    value: props.hierarchy2,\n    onChange: function onChange(value, type) {\n      props.handleSelectChange(value, type);\n      callHierarchy({\n        level: 3,\n        hierarchyLevel1: [props.hierarchy1.value],\n        hierarchyLevel2: [value.value]\n      }, setHierarchy3List);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Category\"), React.createElement(Select, {\n    name: \"hierarchy3\",\n    options: hierarchy3List,\n    value: props.hierarchy3,\n    onChange: function onChange(value, type) {\n      props.handleSelectChange(value, type);\n      callHierarchy({\n        level: 4,\n        hierarchyLevel1: [props.hierarchy1.value],\n        hierarchyLevel2: [props.hierarchy2.value],\n        hierarchyLevel3: [value.value]\n      }, setHierarchy4List);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"SKU/SKU Group\"), React.createElement(Select, {\n    name: \"hierarchy4\",\n    options: hierarchy4List,\n    value: props.hierarchy4,\n    onChange: props.handleSelectChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    style: {\n      marginTop: '10px'\n    },\n    className: \"btn btn-primary\",\n    onClick: addAll,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Add\"))))));\n};\n\nexport default AddSKUGroup;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/createNewPromo/AddCategories.js"],"names":["React","Fragment","useState","useEffect","Modal","Button","DataTable","Select","client","hierarchyFilter","PageLoader","AddSKUGroup","props","modalShow","setModalShow","loader","setLoader","hierarchy1List","setHierarchy1List","hierarchy2List","setHierarchy2List","hierarchy3List","setHierarchy3List","hierarchy4List","setHierarchy4List","query","variables","level","then","data","map","value","label","callHierarchy","setList","hierarchyList","slice","addAll","hierarchy1","hierarchy2","hierarchy3","hierarchy4","addCategory","marginBottom","float","paddingTop","validationFlag","skuGroupColDefs","colDefs","height","width","margin","categories","historicalCategories","length","cursor","zIndex","position","type","handleSelectChange","hierarchyLevel1","hierarchyLevel2","hierarchyLevel3","marginTop"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\nimport { Modal, Button } from 'react-bootstrap'\nimport './createPromoStyle.css'\n//Components Import\nimport DataTable from '../DataTable'\n// import Modal from '../Modal'\nimport Select from '../SelectAll'\n\nimport client from '../../apolloClient'\nimport { hierarchyFilter } from '../../apolloClient/query'\nimport PageLoader from '../../utils/Loader'\n\nconst AddSKUGroup = props => {\n  const [modalShow, setModalShow] = useState(false)\n  const [loader, setLoader] = useState(false)\n  const [hierarchy1List, setHierarchy1List] = useState([])\n  const [hierarchy2List, setHierarchy2List] = useState([])\n  const [hierarchy3List, setHierarchy3List] = useState([])\n  const [hierarchy4List, setHierarchy4List] = useState([])\n  useEffect(() => {\n    client\n      .query({ query: hierarchyFilter, variables: { level: 1 } })\n      .then(data => {\n        let hierarchy1List = data.data.hierarchyFilter.map(value => {\n          return { value, label: value }\n        })\n        setHierarchy1List(hierarchy1List)\n      })\n  }, [hierarchy1List])\n\n  const callHierarchy = (variables, setList) => {\n    setLoader(true)\n    client\n      .query({\n        query: hierarchyFilter,\n        variables\n      })\n      .then(data => {\n        let hierarchyList = data.data.hierarchyFilter\n          .slice(0, 49)\n          .map(value => {\n            return { value, label: value }\n          })\n        setList(hierarchyList)\n        setLoader(false)\n      })\n  }\n  const addAll = () => {\n    if (\n      props.hierarchy1 &&\n      props.hierarchy2 &&\n      props.hierarchy3 &&\n      props.hierarchy4\n    ) {\n      props.addCategory(true)\n      setModalShow(false)\n    }\n  }\n  return (\n    <Fragment>\n      <hr className=\"dotted-line\" />\n      <div className=\"t-a-r\" style={{ marginBottom: '1rem' }}>\n        <h5\n          className=\"font-size-14 font-bold\"\n          style={{ float: 'left', paddingTop: '4px' }}\n        >\n          Products\n        </h5>\n        <Button\n          className=\"add-sku-button\"\n          size=\"sm\"\n          onClick={() => {\n            setModalShow(true)\n          }}\n          disabled={!props.validationFlag}\n        >\n          + Add Product\n        </Button>\n      </div>\n\n      <DataTable\n        isSizetoFit={true}\n        columnDefs={props.skuGroupColDefs.colDefs}\n        style={{ height: '150px', width: '100%', margin: 'auto' }}\n        rowData={props.categories}\n      />\n      <hr className=\"dotted-line\" />\n      {!!props.historicalCategories.length && (\n        <React.Fragment>\n          <div className=\"font-size-14 font-bold mt-4 mb-4\">Old SKU/SKU Groups</div>\n          <DataTable\n            isSizetoFit={true}\n            columnDefs={props.skuGroupColDefs.colDefs}\n            style={{ height: '200px', width: '100%', margin: 'auto' }}\n            rowData={props.historicalCategories}\n          />\n        </React.Fragment>\n      )}\n      <Modal size=\"lg\" show={modalShow}>\n        <Modal.Body>\n          <PageLoader loader={loader}>\n            <span\n              onClick={() => setModalShow(false)}\n              className=\"pull-right\"\n              style={{ cursor: 'pointer', zIndex: '1', position: 'relative' }}\n            >\n              <i class=\"fa fa-times\" aria-hidden=\"true\" />\n            </span>\n            <div>\n              <h4 className=\"font-bold font-size-14\">Filter SKU/SKU Group</h4>\n              <div>\n                <label>Department</label>\n                <Select\n                  name=\"hierarchy1\"\n                  options={hierarchy1List}\n                  value={props.hierarchy1}\n                  onChange={(value, type) => {\n                    props.handleSelectChange(value, type)\n                    callHierarchy(\n                      { level: 2, hierarchyLevel1: [value.value] },\n                      setHierarchy2List\n                    )\n                  }}\n                />\n              </div>\n              <div>\n                <label>Sub Department</label>\n                <Select\n                  name=\"hierarchy2\"\n                  options={hierarchy2List}\n                  value={props.hierarchy2}\n                  onChange={(value, type) => {\n                    props.handleSelectChange(value, type)\n                    callHierarchy(\n                      {\n                        level: 3,\n                        hierarchyLevel1: [props.hierarchy1.value],\n                        hierarchyLevel2: [value.value]\n                      },\n                      setHierarchy3List\n                    )\n                  }}\n                />\n              </div>\n              <div>\n                <label>Category</label>\n                <Select\n                  name=\"hierarchy3\"\n                  options={hierarchy3List}\n                  value={props.hierarchy3}\n                  onChange={(value, type) => {\n                    props.handleSelectChange(value, type)\n                    callHierarchy(\n                      {\n                        level: 4,\n                        hierarchyLevel1: [props.hierarchy1.value],\n                        hierarchyLevel2: [props.hierarchy2.value],\n                        hierarchyLevel3: [value.value]\n                      },\n                      setHierarchy4List\n                    )\n                  }}\n                />\n              </div>\n\n              <div>\n                <label>SKU/SKU Group</label>\n                <Select\n                  name=\"hierarchy4\"\n                  options={hierarchy4List}\n                  value={props.hierarchy4}\n                  onChange={props.handleSelectChange}\n                />\n              </div>\n              <button\n                style={{ marginTop: '10px' }}\n                className=\"btn btn-primary\"\n                onClick={addAll}\n              >\n                Add\n              </button>\n            </div>\n          </PageLoader>\n        </Modal.Body>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default AddSKUGroup\n"]},"metadata":{},"sourceType":"module"}