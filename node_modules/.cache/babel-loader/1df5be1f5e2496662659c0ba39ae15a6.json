{"ast":null,"code":"import axios from '../utils/axios';\nimport { GET_ERRORS, SET_CURRENT_USER, // common component filter types here\nGET_ALL_CASCADING_FILTERS, GET_ALL_CASCADING_FILTERS_SUCCESS, GET_ALL_CASCADING_FILTERS_ERR, PERSIST_CASCADING_FILTERS, GENERIC_FILTER_SUCCESS } from './types';\nimport { config } from '../utils/config';\nexport var getAllFilters = function getAllFilters(params) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem('token')\n    });\n    var url = config.markDownUrl + '/markdown/allFilters';\n\n    if (params) {\n      url += params;\n    }\n\n    axios.get(url).then(function (res) {\n      dispatch({\n        type: 'GET_MARKDOWN_FILTERS',\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n  };\n};\nexport var getCascadingFilters = function getCascadingFilters(params) {\n  return function (dispatch) {\n    dispatch({\n      type: GET_ALL_CASCADING_FILTERS // payload: params\n\n    });\n    var url = config.genericPromo + \"/markdown/allFilters?\".concat(params);\n    axios.get(url).then(function (res) {\n      dispatch({\n        type: GET_ALL_CASCADING_FILTERS_SUCCESS,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ALL_CASCADING_FILTERS_ERR,\n        payload: err\n      });\n    });\n  };\n};\nexport var getFinalizeData = function getFinalizeData(params) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: localStorage.getItem('token')\n    });\n    var url = config.markDownUrl + '/markdown/finalize';\n\n    if (params) {\n      var queryArray = [];\n\n      if (params.category) {\n        queryArray.push(\"categoryID=\".concat(params.category));\n      }\n\n      if (params.subcategory) {\n        queryArray.push(\"subCategoryID=\".concat(params.subcategory));\n      }\n\n      if (params.subclass) {\n        queryArray.push(\"subClassID=\".concat(params.subclass));\n      }\n\n      if (params.brand) {\n        queryArray.push(\"brandID=\".concat(params.brand));\n      }\n\n      url = url + '?' + queryArray.join('&');\n    }\n\n    axios.get(url).then(function (res) {\n      dispatch({\n        type: 'GET_MARKDOWN_FINALIZE',\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err\n      });\n    });\n  };\n};\nexport var persistCascadingFilters = function persistCascadingFilters(payload) {\n  return function (dispatch) {\n    dispatch({\n      type: PERSIST_CASCADING_FILTERS,\n      payload: payload\n    });\n  };\n};\nexport var handleGenericFilter = function handleGenericFilter(payload) {\n  return function (dispatch) {\n    dispatch({\n      type: GENERIC_FILTER_SUCCESS,\n      payload: payload\n    });\n  };\n};","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/actions/markDownCommonActions.js"],"names":["axios","GET_ERRORS","SET_CURRENT_USER","GET_ALL_CASCADING_FILTERS","GET_ALL_CASCADING_FILTERS_SUCCESS","GET_ALL_CASCADING_FILTERS_ERR","PERSIST_CASCADING_FILTERS","GENERIC_FILTER_SUCCESS","config","getAllFilters","params","dispatch","type","payload","localStorage","getItem","url","markDownUrl","get","then","res","data","catch","err","getCascadingFilters","genericPromo","getFinalizeData","queryArray","category","push","subcategory","subclass","brand","join","persistCascadingFilters","handleGenericFilter"],"mappings":"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","sourcesContent":["import axios from '../utils/axios';\n\nimport {\n  GET_ERRORS,\n  SET_CURRENT_USER,\n\n  // common component filter types here\n  GET_ALL_CASCADING_FILTERS,\n  GET_ALL_CASCADING_FILTERS_SUCCESS,\n  GET_ALL_CASCADING_FILTERS_ERR,\n  PERSIST_CASCADING_FILTERS,\n  GENERIC_FILTER_SUCCESS,\n} from './types';\nimport { config } from '../utils/config';\n\nexport const getAllFilters = (params) => (dispatch) => {\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem('token'),\n  });\n  var url = config.markDownUrl + '/markdown/allFilters';\n  if (params) {\n    url += params;\n  }\n  axios\n    .get(url)\n    .then((res) => {\n      dispatch({\n        type: 'GET_MARKDOWN_FILTERS',\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err,\n      });\n    });\n};\n\nexport const getCascadingFilters = (params) => (dispatch) => {\n  dispatch({\n    type: GET_ALL_CASCADING_FILTERS,\n    // payload: params\n  });\n  var url = config.genericPromo + `/markdown/allFilters?${params}`;\n\n  axios\n    .get(url)\n    .then((res) => {\n      dispatch({\n        type: GET_ALL_CASCADING_FILTERS_SUCCESS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: GET_ALL_CASCADING_FILTERS_ERR,\n        payload: err,\n      });\n    });\n};\n\nexport const getFinalizeData = (params) => (dispatch) => {\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: localStorage.getItem('token'),\n  });\n  var url = config.markDownUrl + '/markdown/finalize';\n  if (params) {\n    var queryArray = [];\n    if (params.category) {\n      queryArray.push(`categoryID=${params.category}`);\n    }\n    if (params.subcategory) {\n      queryArray.push(`subCategoryID=${params.subcategory}`);\n    }\n    if (params.subclass) {\n      queryArray.push(`subClassID=${params.subclass}`);\n    }\n    if (params.brand) {\n      queryArray.push(`brandID=${params.brand}`);\n    }\n    url = url + '?' + queryArray.join('&');\n  }\n  axios\n    .get(url)\n    .then((res) => {\n      dispatch({\n        type: 'GET_MARKDOWN_FINALIZE',\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err,\n      });\n    });\n};\n\nexport const persistCascadingFilters = (payload) => (dispatch) => {\n  dispatch({ type: PERSIST_CASCADING_FILTERS, payload: payload });\n};\n\nexport const handleGenericFilter = (payload) => (dispatch) => {\n  dispatch({ type: GENERIC_FILTER_SUCCESS, payload: payload });\n};\n"]},"metadata":{},"sourceType":"module"}