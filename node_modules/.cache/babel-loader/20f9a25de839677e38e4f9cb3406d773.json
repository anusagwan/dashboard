{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/services/filters/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { labels } from './config';\nimport Select from '../select';\nimport './index.css';\nimport { connect } from 'react-redux';\nimport DateRangePicker from '../RetailCalendarDatePicker';\nimport FilterActions from '../../actions/filtersAction';\nimport _ from 'lodash';\n\nvar Filters =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Filters, _Component);\n\n  function Filters(props) {\n    var _this;\n\n    _classCallCheck(this, Filters);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Filters).call(this, props));\n\n    _this.getHierarchyOptions = function (val, hierarchy) {\n      !Array.isArray(val) && (val = [val]);\n      var resetHierachies = {\n        customStyleGroup: null,\n        stores: null,\n        customStoreGroup: null\n      };\n\n      for (var i = hierarchy + 1; i <= _this.props.hierarchy.length; i++) {\n        resetHierachies[\"hierarchy\".concat(i)] = null;\n      }\n\n      _this.setState(_objectSpread(_defineProperty({}, \"hierarchy\".concat(hierarchy), val), resetHierachies),\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var func, req, _i;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.props[\"setSelectedHierarchy\".concat(hierarchy)](val.map(function (e) {\n                  return e.label;\n                }));\n\n              case 2:\n                func = hierarchy === 8 ? \"getStores\" : \"getHierarchyOptions\";\n                req = {};\n\n                for (_i = 1; _i <= hierarchy; _i++) {\n                  req[\"hierarchy\".concat(_i)] = _this.props[\"selectedHierarchy\".concat(_i)];\n                }\n\n                if (_this.props[func]) {\n                  if (Object.keys(req).length) {\n                    _this.props[func]({\n                      filters: req,\n                      hierarchyType: ('hierarchy' + (hierarchy + 1)).toUpperCase(),\n                      allowInactiveProducts: _this.props.allowInactiveProducts || false\n                    });\n                  } else {\n                    _this.props[func]();\n                  }\n                }\n\n                _this.setState({\n                  filters: _objectSpread({}, req)\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    };\n\n    _this.setDrop = function (val) {\n      var req = {};\n      var selItems = val.map(function (item) {\n        return item.label;\n      });\n      req['drop'] = selItems;\n\n      _this.setState({\n        filters: _objectSpread({}, req),\n        drops: val\n      }, function () {\n        _this.props.setSelectedDrops(val.map(function (v) {\n          return v.value;\n        }));\n      });\n    };\n\n    _this.setCustomStyleGroup = function (val) {\n      console.log(val.map(function (a) {\n        return a.id;\n      }), 'valllll'); // let val = [item];\n\n      var selItems = val.map(function (item) {\n        return item.label;\n      }); // req['stores'] = selItems;\n\n      var newFilters = _objectSpread({}, _this.state.filters, {\n        customStyleGroup: selItems\n      });\n\n      _this.setState({\n        filters: newFilters,\n        customStyleGroup: val\n      }, function () {\n        _this.props.setSelectedCustomGroup(val.map(function (v) {\n          return v.id;\n        }));\n      });\n    };\n\n    _this.setStores = function (val) {\n      // let req = {};\n      var selItems = val.map(function (item) {\n        return item.label;\n      }); // req['stores'] = selItems;\n\n      var newFilters = _objectSpread({}, _this.state.filters, {\n        stores: selItems\n      });\n\n      _this.setState({\n        filters: newFilters,\n        stores: val\n      }, function () {\n        _this.props.setSelectedStores(val.map(function (v) {\n          return v.value;\n        }));\n      });\n    };\n\n    _this.setCustomStores = function (val) {\n      var selItems = val.map(function (item) {\n        return item.label;\n      });\n\n      var newFilters = _objectSpread({}, _this.state.filters, {\n        customStoreGroup: selItems\n      });\n\n      _this.setState({\n        filters: newFilters,\n        customStoreGroup: val\n      }, function () {\n        _this.props.setSelectedCustomStoreGroup(val.map(function (v) {\n          return v.value;\n        }));\n      });\n    };\n\n    _this.reset = function () {\n      _this.setState({\n        drops: null,\n        startDate: null,\n        endDate: null,\n        hierarchy1: null,\n        hierarchy2: null,\n        hierarchy3: null,\n        hierarchy4: null,\n        hierarchy5: null,\n        hierarchy6: null,\n        hierarchy7: null,\n        hierarchy8: null,\n        customStyleGroup: null,\n        stores: null,\n        customStoreGroup: null\n      }, function () {\n        if (_this.props.from !== 'draft/status') _this.props.resetFilters(); ////////// handling reset issues rising bcs of tabs, only reset this component state, not reducer\n\n        _this.props.onReset && _this.props.onReset();\n      });\n    };\n\n    _this.onDatesChange = function (_ref2) {\n      var startDate = _ref2.startDate,\n          endDate = _ref2.endDate;\n\n      _this.setState({\n        startDate: startDate,\n        endDate: endDate\n      }, function () {\n        var weeks = [];\n\n        if (endDate) {\n          for (var i = startDate.clone(); i <= endDate; i = i.add(7, 'd')) {\n            weeks.push(i.week());\n          }\n        }\n\n        _this.props.setDateRange({\n          startDate: startDate && startDate.format('YYYY-MM-DD'),\n          endDate: endDate && endDate.format('YYYY-MM-DD'),\n          weeks: weeks\n        });\n      });\n    };\n\n    _this.state = {\n      filters: {},\n      startDate: null,\n      endDate: null,\n      hierarchy1: props.retainFilters && props.selectedHierarchy1 ? props.selectedHierarchy1.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      hierarchy2: props.retainFilters && props.selectedHierarchy2 ? props.selectedHierarchy2.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      hierarchy3: props.retainFilters && props.selectedHierarchy3 ? props.selectedHierarchy3.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      hierarchy4: props.retainFilters && props.selectedHierarchy4 ? props.selectedHierarchy4.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      hierarchy5: props.retainFilters && props.selectedHierarchy5 ? props.selectedHierarchy5.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      hierarchy6: props.retainFilters && props.selectedHierarchy6 ? props.selectedHierarchy6.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      hierarchy7: props.retainFilters && props.selectedHierarchy7 ? props.selectedHierarchy7.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      hierarchy8: props.retainFilters && props.selectedHierarchy8 && props.location.state ? props.location.state.styles.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : props.retainFilters && props.selectedHierarchy8 && _this.props.disableDivision ? props.selectedHierarchy8.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      customStyleGroup: props.retainFilters && props.selectedCustomStyleGroup ? props.selectedCustomStyleGroup.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      stores: props.retainFilters && props.selectedStores ? props.selectedStores.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null,\n      customStoreGroup: props.retainFilters && props.selectedCustomStoreGroup ? props.selectedCustomStoreGroup.map(function (e) {\n        return {\n          value: e,\n          label: e\n        };\n      }) : null\n    }; // +  !props.retainFilters && props.resetFilters();\n\n    !props.isEdit && props.getHierarchyOptions({\n      filters: {},\n      hierarchyType: 'HIERARCHY1',\n      allowInactiveProducts: _this.props.allowInactiveProducts || false\n    });\n    props.getStores({\n      filters: {\n        hierarchy1: [],\n        hierarchy2: [],\n        hierarchy3: [],\n        hierarchy4: [],\n        hierarchy5: [],\n        hierarchy6: [],\n        hierarchy7: [],\n        hierarchy8: []\n      }\n    });\n    props.getCustomStores(); // if (props.retainFilters && props.location.state) {\n    // props.setSelectedHierarchy7(props.location.state.styles, 'reporting');\n    // props.setSelectedStores(this.state.stores.map((e) => e.label));\n    // }\n\n    props.setRetainFilters(false);\n    return _this;\n  }\n\n  _createClass(Filters, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.filterReset) {\n        this.props.filterResetHandler(false);\n        this.reset(); // reset filters from configFilters\n      }\n\n      if (this.props.isEdit && _.isEmpty(this.state.hierarchy1) && this.props.editPlanDetails[0] && !_.isEmpty(this.props.editPlanDetails[0] && this.props.editPlanDetails[0].request_obj)) {\n        var _this$props$editPlanD = this.props.editPlanDetails[0].request_obj.filters,\n            hierarchy1 = _this$props$editPlanD.hierarchy1,\n            hierarchy2 = _this$props$editPlanD.hierarchy2,\n            hierarchy3 = _this$props$editPlanD.hierarchy3,\n            hierarchy4 = _this$props$editPlanD.hierarchy4,\n            hierarchy5 = _this$props$editPlanD.hierarchy5,\n            hierarchy6 = _this$props$editPlanD.hierarchy6,\n            hierarchy7 = _this$props$editPlanD.hierarchy7,\n            hierarchy8 = _this$props$editPlanD.hierarchy8,\n            customStyleGroup = _this$props$editPlanD.customStyleGroup,\n            tiers = _this$props$editPlanD.tiers,\n            customStoreGroup = _this$props$editPlanD.customStoreGroup;\n        this.props.presetFilters([hierarchy1, hierarchy2, hierarchy3, hierarchy4, hierarchy5, hierarchy6, hierarchy7, hierarchy8, customStyleGroup, tiers, customStoreGroup]);\n        this.setState({\n          hierarchy1: _.map(hierarchy1, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          hierarchy2: _.map(hierarchy2, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          hierarchy3: _.map(hierarchy3, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          hierarchy4: _.map(hierarchy4, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          hierarchy5: _.map(hierarchy5, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          hierarchy6: _.map(hierarchy6, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          hierarchy7: _.map(hierarchy7, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          hierarchy8: _.map(hierarchy8, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          customStyleGroup: _.map(customStyleGroup, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          stores: _.map(tiers, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          customStoreGroup: _.map(customStoreGroup, function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          })\n        });\n      }\n\n      if (this.props.from !== 'styleConfig' && this.props.from !== 'styleGroupConfig' && !_.isEmpty(this.props.selectedHierarchy8) && !_.isEqual(prevProps.selectedHierarchy8, this.props.selectedHierarchy8)) {\n        var req = {\n          filters: {\n            hierarchy1: this.props.selectedHierarchy1,\n            hierarchy2: this.props.selectedHierarchy2,\n            hierarchy3: this.props.selectedHierarchy3,\n            hierarchy4: this.props.selectedHierarchy4,\n            hierarchy5: this.props.selectedHierarchy5,\n            hierarchy6: this.props.selectedHierarchy6,\n            hierarchy7: this.props.selectedHierarchy7,\n            hierarchy8: this.props.selectedHierarchy8\n          },\n          disable_empty_flag: this.props.disable_empty_flag && !this.props.isEdit ? this.props.disable_empty_flag : false\n        };\n        this.props.fetchStyleGroups(req);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.props.customStyleGroup, 'selectedCustomStyleGroup');\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: this.props.isEdit ? 'row d-flex ml-4 mr-4 edit-markdown-filters' : ' d-flex row ml-4 mr-4',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, this.props.drop && labels.drop && React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mb-1 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, labels.drop), React.createElement(Select, {\n        options: this.props.drops,\n        onChange: function onChange(option) {\n          return _this2.setDrop(option);\n        },\n        getOptionLabel: function getOptionLabel(option) {\n          return option.label + (option.year ? option.year : '');\n        },\n        value: this.state.drops,\n        isMulti: true // isDisabled={!this.props.drops || !this.props.drops.length}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      })), this.props.hierarchy.map(function (filter, i) {\n        return labels[filter.type] && React.createElement(\"div\", {\n          className: \"col-md-2 \",\n          key: filter.type,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"mb-1 mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          },\n          __self: this\n        }, labels[filter.type], filter.isMandatory ? React.createElement(\"span\", {\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }, \" * \") : null), React.createElement(Select, {\n          name: \"hierarchy\".concat(i + 1),\n          options: _this2.props[filter.type],\n          onChange: function onChange(option) {\n            return _this2.getHierarchyOptions(option, i + 1);\n          },\n          value: _this2.state[\"hierarchy\".concat(i + 1)],\n          isMulti: filter.isMultiple,\n          isDisabled: i === 0 && _this2.props.disableDivision ? true : false // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }));\n      }), this.props.customStyleGroups && labels.customStyleGroup && !this.props.hideCustomStyleGroup && React.createElement(\"div\", {\n        className: \"col-md-2 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mb-1 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"Custom Style Group\", this.props.customStyleGrpMandatory ? React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, \" * \") : null), React.createElement(Select, {\n        options: this.props.customStyleGroup,\n        onChange: function onChange(option) {\n          return _this2.setCustomStyleGroup(option);\n        },\n        value: this.state.customStyleGroup,\n        isMulti: true // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      })), this.props.stores && labels.store && !this.props.hideStoreCluster && React.createElement(\"div\", {\n        className: \"col-md-2 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mb-1 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, labels.store, !this.props.storeIsNotMandatory ? React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, \" * \") : null), React.createElement(Select, {\n        options: this.props.stores,\n        onChange: function onChange(option) {\n          return _this2.setStores(option);\n        },\n        value: this.state.stores,\n        isMulti: true // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      })), this.props.customStoreGroup && labels.customStoreGroup && !this.props.hideCustomStores && React.createElement(\"div\", {\n        className: \"col-md-2 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mb-1 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, labels.customStoreGroup), React.createElement(Select, {\n        options: this.props.customStoreGroup,\n        onChange: function onChange(option) {\n          return _this2.setCustomStores(option);\n        },\n        value: this.state.customStoreGroup,\n        isMulti: true // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      })), this.props.dateRange && React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mb-1 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, \"Date range \", React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, \" * \")), React.createElement(DateRangePicker, {\n        startDate: this.state.startDate,\n        startDateId: \"startDate_11\",\n        endDate: this.state.endDate,\n        endDateId: \"endDate_11\",\n        onDatesChange: this.onDatesChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      })), !this.props.hidefilterButton && React.createElement(\"div\", {\n        className: !this.props.dateRange && !this.props.hideCustomStores ? 'col-md-2 mt-5 px-0' //'col-md-3 mt-4  ml-auto text-right'\n        : 'col-md-3 mt-5',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: this.props.isEdit,\n        onClick: function onClick() {\n          return _this2.props.onFilter({\n            filters: _this2.state.filters,\n            startDate: _this2.state.startDate,\n            endDate: _this2.state.endDate,\n            customStyleGroup: _this2.state.customStyleGroup\n          });\n        },\n        className: !this.props.dateRange && !this.props.hideCustomStores ? 'col-md-5 btn btn-primary btn-filter ml-2' : 'col-md-4 btn btn-primary btn-filter',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }), \"\\xA0 Filter\")), React.createElement(\"button\", {\n        disabled: this.props.isEdit,\n        className: !this.props.dateRange && !this.props.hideCustomStores ? ' col-md-5 btn btn-primary btn-filter btn-filter-reset ml-3' : 'col-md-4 offset-1 btn btn-primary btn-filter btn-filter-reset',\n        onClick: this.reset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-repeat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }), \"\\xA0 Reset\")))));\n    }\n  }]);\n\n  return Filters;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    drops: store.filtersReducer.drops,\n    selectedDrops: store.filtersReducer.selectedDrops,\n    hierarchy1: store.filtersReducer.hierarchy1,\n    selectedHierarchy1: store.filtersReducer.selectedHierarchy1,\n    hierarchy2: store.filtersReducer.hierarchy2,\n    selectedHierarchy2: store.filtersReducer.selectedHierarchy2,\n    hierarchy3: store.filtersReducer.hierarchy3,\n    selectedHierarchy3: store.filtersReducer.selectedHierarchy3,\n    hierarchy4: store.filtersReducer.hierarchy4,\n    selectedHierarchy4: store.filtersReducer.selectedHierarchy4,\n    hierarchy5: store.filtersReducer.hierarchy5,\n    selectedHierarchy5: store.filtersReducer.selectedHierarchy5,\n    hierarchy6: store.filtersReducer.hierarchy6,\n    selectedHierarchy6: store.filtersReducer.selectedHierarchy6,\n    hierarchy7: store.filtersReducer.hierarchy7,\n    selectedHierarchy7: store.filtersReducer.selectedHierarchy7,\n    hierarchy8: store.filtersReducer.hierarchy8,\n    selectedHierarchy8: store.filtersReducer.selectedHierarchy8,\n    stores: store.filtersReducer.stores,\n    customStoreGroup: store.filtersReducer.customStoreGroup,\n    customStyleGroup: store.filtersReducer.customStyleGroup,\n    selectedStores: store.filtersReducer.selectedStores,\n    selectedCustomStyleGroup: store.filtersReducer.selectedCustomStyleGroup,\n    selectedCustomStoreGroup: store.filtersReducer.selectedCustomStoreGroup,\n    startDate: store.filtersReducer.startDate,\n    endDate: store.filtersReducer.endDate,\n    weeks: store.filtersReducer.weeks,\n    retainFilters: store.filtersReducer.retainFilters,\n    editPlanDetails: store.manuallyCreateMdData.editPlanDetails\n  };\n};\n\nvar mapDispatchToProps = {\n  getHierarchyOptions: FilterActions.getHierarchyOptions,\n  getStores: FilterActions.getStores,\n  getCustomStores: FilterActions.getCustomStores,\n  setSelectedDrops: FilterActions.setSelectedDrops,\n  setSelectedHierarchy1: FilterActions.setSelectedHierarchy1,\n  setSelectedHierarchy2: FilterActions.setSelectedHierarchy2,\n  setSelectedHierarchy3: FilterActions.setSelectedHierarchy3,\n  setSelectedHierarchy4: FilterActions.setSelectedHierarchy4,\n  setSelectedHierarchy5: FilterActions.setSelectedHierarchy5,\n  setSelectedHierarchy6: FilterActions.setSelectedHierarchy6,\n  setSelectedHierarchy7: FilterActions.setSelectedHierarchy7,\n  setSelectedHierarchy8: FilterActions.setSelectedHierarchy8,\n  setSelectedStores: FilterActions.setSelectedStores,\n  setSelectedCustomGroup: FilterActions.setSelectedCustomGroup,\n  setSelectedCustomStoreGroup: FilterActions.setSelectedCustomStoreGroup,\n  setDateRange: FilterActions.setDateRange,\n  resetFilters: FilterActions.resetFilters,\n  setRetainFilters: FilterActions.setRetainFilters,\n  presetFilters: FilterActions.presetFilters,\n  fetchStyleGroups: FilterActions.fetchStyleGroups\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Filters));","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/services/filters/index.js"],"names":["React","Component","withRouter","labels","Select","connect","DateRangePicker","FilterActions","_","Filters","props","getHierarchyOptions","val","hierarchy","Array","isArray","resetHierachies","customStyleGroup","stores","customStoreGroup","i","length","setState","map","e","label","func","req","Object","keys","filters","hierarchyType","toUpperCase","allowInactiveProducts","setDrop","selItems","item","drops","setSelectedDrops","v","value","setCustomStyleGroup","console","log","a","id","newFilters","state","setSelectedCustomGroup","setStores","setSelectedStores","setCustomStores","setSelectedCustomStoreGroup","reset","startDate","endDate","hierarchy1","hierarchy2","hierarchy3","hierarchy4","hierarchy5","hierarchy6","hierarchy7","hierarchy8","from","resetFilters","onReset","onDatesChange","weeks","clone","add","push","week","setDateRange","format","retainFilters","selectedHierarchy1","selectedHierarchy2","selectedHierarchy3","selectedHierarchy4","selectedHierarchy5","selectedHierarchy6","selectedHierarchy7","selectedHierarchy8","location","styles","disableDivision","selectedCustomStyleGroup","selectedStores","selectedCustomStoreGroup","isEdit","getStores","getCustomStores","setRetainFilters","prevProps","prevState","filterReset","filterResetHandler","isEmpty","editPlanDetails","request_obj","tiers","presetFilters","isEqual","disable_empty_flag","fetchStyleGroups","drop","option","year","filter","type","isMandatory","color","isMultiple","customStyleGroups","hideCustomStyleGroup","customStyleGrpMandatory","store","hideStoreCluster","storeIsNotMandatory","hideCustomStores","dateRange","hidefilterButton","onFilter","mapStateToProps","filtersReducer","selectedDrops","manuallyCreateMdData","mapDispatchToProps","setSelectedHierarchy1","setSelectedHierarchy2","setSelectedHierarchy3","setSelectedHierarchy4","setSelectedHierarchy5","setSelectedHierarchy6","setSelectedHierarchy7","setSelectedHierarchy8"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { labels } from './config';\nimport Select from '../select';\nimport './index.css';\nimport { connect } from 'react-redux';\nimport DateRangePicker from '../RetailCalendarDatePicker';\nimport FilterActions from '../../actions/filtersAction';\nimport _ from 'lodash';\n\nclass Filters extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: {},\n      startDate: null,\n      endDate: null,\n      hierarchy1:\n        props.retainFilters && props.selectedHierarchy1\n          ? props.selectedHierarchy1.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      hierarchy2:\n        props.retainFilters && props.selectedHierarchy2\n          ? props.selectedHierarchy2.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      hierarchy3:\n        props.retainFilters && props.selectedHierarchy3\n          ? props.selectedHierarchy3.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      hierarchy4:\n        props.retainFilters && props.selectedHierarchy4\n          ? props.selectedHierarchy4.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      hierarchy5:\n        props.retainFilters && props.selectedHierarchy5\n          ? props.selectedHierarchy5.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      hierarchy6:\n        props.retainFilters && props.selectedHierarchy6\n          ? props.selectedHierarchy6.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      hierarchy7:\n        props.retainFilters && props.selectedHierarchy7\n          ? props.selectedHierarchy7.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      hierarchy8:\n        props.retainFilters && props.selectedHierarchy8 && props.location.state\n          ? props.location.state.styles.map((e) => {\n              return { value: e, label: e };\n            })\n          : props.retainFilters && props.selectedHierarchy8 && this.props.disableDivision\n          ? props.selectedHierarchy8.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      customStyleGroup:\n        props.retainFilters && props.selectedCustomStyleGroup\n          ? props.selectedCustomStyleGroup.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      stores:\n        props.retainFilters && props.selectedStores\n          ? props.selectedStores.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n      customStoreGroup:\n        props.retainFilters && props.selectedCustomStoreGroup\n          ? props.selectedCustomStoreGroup.map((e) => {\n              return { value: e, label: e };\n            })\n          : null,\n    };\n    // +  !props.retainFilters && props.resetFilters();\n    !props.isEdit &&\n      props.getHierarchyOptions({\n        filters: {},\n        hierarchyType: 'HIERARCHY1',\n        allowInactiveProducts: this.props.allowInactiveProducts || false,\n      });\n    props.getStores({\n      filters: {\n        hierarchy1: [],\n        hierarchy2: [],\n        hierarchy3: [],\n        hierarchy4: [],\n        hierarchy5: [],\n        hierarchy6: [],\n        hierarchy7: [],\n        hierarchy8: [],\n      },\n    });\n    props.getCustomStores();\n    // if (props.retainFilters && props.location.state) {\n    // props.setSelectedHierarchy7(props.location.state.styles, 'reporting');\n    // props.setSelectedStores(this.state.stores.map((e) => e.label));\n    // }\n    props.setRetainFilters(false);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.filterReset) {\n      this.props.filterResetHandler(false);\n      this.reset(); // reset filters from configFilters\n    }\n    if (\n      this.props.isEdit &&\n      _.isEmpty(this.state.hierarchy1) &&\n      this.props.editPlanDetails[0] &&\n      !_.isEmpty(this.props.editPlanDetails[0] && this.props.editPlanDetails[0].request_obj)\n    ) {\n      let {\n        hierarchy1,\n        hierarchy2,\n        hierarchy3,\n        hierarchy4,\n        hierarchy5,\n        hierarchy6,\n        hierarchy7,\n        hierarchy8,\n        customStyleGroup,\n        tiers,\n        customStoreGroup,\n      } = this.props.editPlanDetails[0].request_obj.filters;\n\n      this.props.presetFilters([\n        hierarchy1,\n        hierarchy2,\n        hierarchy3,\n        hierarchy4,\n        hierarchy5,\n        hierarchy6,\n        hierarchy7,\n        hierarchy8,\n        customStyleGroup,\n        tiers,\n        customStoreGroup,\n      ]);\n      this.setState({\n        hierarchy1: _.map(hierarchy1, (item) => ({ value: item, label: item })),\n        hierarchy2: _.map(hierarchy2, (item) => ({ value: item, label: item })),\n        hierarchy3: _.map(hierarchy3, (item) => ({ value: item, label: item })),\n        hierarchy4: _.map(hierarchy4, (item) => ({ value: item, label: item })),\n        hierarchy5: _.map(hierarchy5, (item) => ({ value: item, label: item })),\n        hierarchy6: _.map(hierarchy6, (item) => ({ value: item, label: item })),\n        hierarchy7: _.map(hierarchy7, (item) => ({ value: item, label: item })),\n        hierarchy8: _.map(hierarchy8, (item) => ({ value: item, label: item })),\n        customStyleGroup: _.map(customStyleGroup, (item) => ({ value: item, label: item })),\n        stores: _.map(tiers, (item) => ({ value: item, label: item })),\n        customStoreGroup: _.map(customStoreGroup, (item) => ({ value: item, label: item })),\n      });\n    }\n\n    if (\n      this.props.from !== 'styleConfig' &&\n      this.props.from !== 'styleGroupConfig' &&\n      !_.isEmpty(this.props.selectedHierarchy8) &&\n      !_.isEqual(prevProps.selectedHierarchy8, this.props.selectedHierarchy8)\n    ) {\n      let req = {\n        filters: {\n          hierarchy1: this.props.selectedHierarchy1,\n          hierarchy2: this.props.selectedHierarchy2,\n          hierarchy3: this.props.selectedHierarchy3,\n          hierarchy4: this.props.selectedHierarchy4,\n          hierarchy5: this.props.selectedHierarchy5,\n          hierarchy6: this.props.selectedHierarchy6,\n          hierarchy7: this.props.selectedHierarchy7,\n          hierarchy8: this.props.selectedHierarchy8,\n        },\n        disable_empty_flag:\n          this.props.disable_empty_flag && !this.props.isEdit\n            ? this.props.disable_empty_flag\n            : false,\n      };\n      this.props.fetchStyleGroups(req);\n    }\n  }\n  getHierarchyOptions = (val, hierarchy) => {\n    !Array.isArray(val) && (val = [val]);\n    let resetHierachies = { customStyleGroup: null, stores: null, customStoreGroup: null };\n    for (let i = hierarchy + 1; i <= this.props.hierarchy.length; i++) {\n      resetHierachies[`hierarchy${i}`] = null;\n    }\n    this.setState({ [`hierarchy${hierarchy}`]: val, ...resetHierachies }, async () => {\n      await this.props[`setSelectedHierarchy${hierarchy}`](val.map((e) => e.label));\n      let func = hierarchy === 8 ? `getStores` : `getHierarchyOptions`;\n      let req = {};\n\n      for (let i = 1; i <= hierarchy; i++) {\n        req[`hierarchy${i}`] = this.props[`selectedHierarchy${i}`];\n      }\n      if (this.props[func]) {\n        if (Object.keys(req).length) {\n          this.props[func]({\n            filters: req,\n            hierarchyType: ('hierarchy' + (hierarchy + 1)).toUpperCase(),\n            allowInactiveProducts: this.props.allowInactiveProducts || false,\n          });\n        } else {\n          this.props[func]();\n        }\n      }\n      this.setState({ filters: { ...req } });\n    });\n  };\n  setDrop = (val) => {\n    let req = {};\n    let selItems = val.map((item) => item.label);\n    req['drop'] = selItems;\n    this.setState({ filters: { ...req }, drops: val }, () => {\n      this.props.setSelectedDrops(val.map((v) => v.value));\n    });\n  };\n  setCustomStyleGroup = (val) => {\n    console.log(\n      val.map((a) => a.id),\n      'valllll'\n    );\n    // let val = [item];\n    let selItems = val.map((item) => item.label);\n    // req['stores'] = selItems;\n    let newFilters = { ...this.state.filters, customStyleGroup: selItems };\n    this.setState({ filters: newFilters, customStyleGroup: val }, () => {\n      this.props.setSelectedCustomGroup(val.map((v) => v.id));\n    });\n  };\n  setStores = (val) => {\n    // let req = {};\n    let selItems = val.map((item) => item.label);\n    // req['stores'] = selItems;\n    let newFilters = { ...this.state.filters, stores: selItems };\n    this.setState({ filters: newFilters, stores: val }, () => {\n      this.props.setSelectedStores(val.map((v) => v.value));\n    });\n  };\n  setCustomStores = (val) => {\n    let selItems = val.map((item) => item.label);\n    let newFilters = { ...this.state.filters, customStoreGroup: selItems };\n    this.setState({ filters: newFilters, customStoreGroup: val }, () => {\n      this.props.setSelectedCustomStoreGroup(val.map((v) => v.value));\n    });\n  };\n  reset = () => {\n    this.setState(\n      {\n        drops: null,\n        startDate: null,\n        endDate: null,\n        hierarchy1: null,\n        hierarchy2: null,\n        hierarchy3: null,\n        hierarchy4: null,\n        hierarchy5: null,\n        hierarchy6: null,\n        hierarchy7: null,\n        hierarchy8: null,\n        customStyleGroup: null,\n        stores: null,\n        customStoreGroup: null,\n      },\n      () => {\n        if (this.props.from !== 'draft/status') this.props.resetFilters(); ////////// handling reset issues rising bcs of tabs, only reset this component state, not reducer\n        this.props.onReset && this.props.onReset();\n      }\n    );\n  };\n  onDatesChange = ({ startDate, endDate }) => {\n    this.setState(\n      {\n        startDate,\n        endDate,\n      },\n      () => {\n        let weeks = [];\n        if (endDate) {\n          for (let i = startDate.clone(); i <= endDate; i = i.add(7, 'd')) {\n            weeks.push(i.week());\n          }\n        }\n\n        this.props.setDateRange({\n          startDate: startDate && startDate.format('YYYY-MM-DD'),\n          endDate: endDate && endDate.format('YYYY-MM-DD'),\n          weeks,\n        });\n      }\n    );\n  };\n  render() {\n    console.log(this.props.customStyleGroup, 'selectedCustomStyleGroup');\n    return (\n      <React.Fragment>\n        <div\n          className={\n            this.props.isEdit\n              ? 'row d-flex ml-4 mr-4 edit-markdown-filters'\n              : ' d-flex row ml-4 mr-4'\n          }>\n          {this.props.drop && labels.drop && (\n            <div className=\"col-md-2\">\n              <label className=\"mb-1 mt-3\">{labels.drop}</label>\n              <Select\n                options={this.props.drops}\n                onChange={(option) => this.setDrop(option)}\n                getOptionLabel={(option) => option.label + (option.year ? option.year : '')}\n                value={this.state.drops}\n                isMulti\n                // isDisabled={!this.props.drops || !this.props.drops.length}\n              />\n            </div>\n          )}\n          {/* {this.props.hierarchy.map(\n            (filter, i) =>\n              labels[filter] && (\n                <div className=\"col-md-2 \" key={filter}>\n                  <label className=\"mb-1 mt-3\">{labels[filter]}</label>\n                  <Select\n                    options={this.props[filter]}\n                    onChange={(option) => this.getHierarchyOptions(option, i + 1)}\n                    value={this.state[`hierarchy${i + 1}`]}\n                    isMulti\n                    allowSelectAll\n                    // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n                  />\n                </div>\n              )\n          )} */}\n          {this.props.hierarchy.map(\n            (filter, i) =>\n              labels[filter.type] && (\n                <div className=\"col-md-2 \" key={filter.type}>\n                  <label className=\"mb-1 mt-3\">\n                    {labels[filter.type]}\n                    {filter.isMandatory ? <span style={{ color: 'red' }}> * </span> : null}\n                  </label>\n                  <Select\n                    name={`hierarchy${i + 1}`}\n                    options={this.props[filter.type]}\n                    onChange={(option) => this.getHierarchyOptions(option, i + 1)}\n                    value={this.state[`hierarchy${i + 1}`]}\n                    isMulti={filter.isMultiple}\n                    isDisabled={i === 0 && this.props.disableDivision ? true : false}\n                    // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n                  />\n                </div>\n              )\n          )}\n\n          {this.props.customStyleGroups &&\n            labels.customStyleGroup &&\n            !this.props.hideCustomStyleGroup && (\n              <div className=\"col-md-2 \">\n                <label className=\"mb-1 mt-3\">\n                  Custom Style Group\n                  {this.props.customStyleGrpMandatory ? (\n                    <span style={{ color: 'red' }}> * </span>\n                  ) : null}\n                </label>\n                <Select\n                  options={this.props.customStyleGroup}\n                  onChange={(option) => this.setCustomStyleGroup(option)}\n                  value={this.state.customStyleGroup}\n                  isMulti\n                  // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n                />\n              </div>\n            )}\n          {this.props.stores && labels.store && !this.props.hideStoreCluster && (\n            <div className=\"col-md-2 \">\n              <label className=\"mb-1 mt-3\">\n                {labels.store}\n                {!this.props.storeIsNotMandatory ? <span style={{ color: 'red' }}> * </span> : null}\n              </label>\n              <Select\n                options={this.props.stores}\n                onChange={(option) => this.setStores(option)}\n                value={this.state.stores}\n                isMulti\n                // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n              />\n            </div>\n          )}\n          {this.props.customStoreGroup && labels.customStoreGroup && !this.props.hideCustomStores && (\n            <div className=\"col-md-2 \">\n              <label className=\"mb-1 mt-3\">\n                {labels.customStoreGroup}\n                {/* {!this.props.customStoreIsNotMandatory ? (\n                  <span style={{ color: 'red' }}> * </span>\n                ) : null} */}\n              </label>\n              <Select\n                options={this.props.customStoreGroup}\n                onChange={(option) => this.setCustomStores(option)}\n                value={this.state.customStoreGroup}\n                isMulti\n                // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n              />\n            </div>\n          )}\n          {this.props.dateRange && (\n            <div className=\"col-md-3\">\n              <label className=\"mb-1 mt-3\">\n                Date range <span style={{ color: 'red' }}> * </span>\n              </label>\n              <DateRangePicker\n                startDate={this.state.startDate}\n                startDateId=\"startDate_11\"\n                endDate={this.state.endDate}\n                endDateId=\"endDate_11\"\n                onDatesChange={this.onDatesChange}\n              />\n            </div>\n          )}\n          {!this.props.hidefilterButton && (\n            <div\n              className={\n                !this.props.dateRange && !this.props.hideCustomStores\n                  ? 'col-md-2 mt-5 px-0' //'col-md-3 mt-4  ml-auto text-right'\n                  : 'col-md-3 mt-5'\n              }>\n              <button\n                disabled={this.props.isEdit}\n                onClick={() =>\n                  this.props.onFilter({\n                    filters: this.state.filters,\n                    startDate: this.state.startDate,\n                    endDate: this.state.endDate,\n                    customStyleGroup: this.state.customStyleGroup,\n                  })\n                }\n                className={\n                  !this.props.dateRange && !this.props.hideCustomStores\n                    ? 'col-md-5 btn btn-primary btn-filter ml-2'\n                    : 'col-md-4 btn btn-primary btn-filter'\n                }>\n                <span>\n                  <i className=\"fa fa-filter\"></i>&nbsp; Filter\n                </span>\n              </button>\n              <button\n                disabled={this.props.isEdit}\n                className={\n                  !this.props.dateRange && !this.props.hideCustomStores\n                    ? ' col-md-5 btn btn-primary btn-filter btn-filter-reset ml-3'\n                    : 'col-md-4 offset-1 btn btn-primary btn-filter btn-filter-reset'\n                }\n                onClick={this.reset}>\n                <span>\n                  <i className=\"fa fa-repeat\"></i>&nbsp; Reset\n                </span>\n              </button>\n            </div>\n          )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (store) => {\n  return {\n    drops: store.filtersReducer.drops,\n    selectedDrops: store.filtersReducer.selectedDrops,\n    hierarchy1: store.filtersReducer.hierarchy1,\n    selectedHierarchy1: store.filtersReducer.selectedHierarchy1,\n    hierarchy2: store.filtersReducer.hierarchy2,\n    selectedHierarchy2: store.filtersReducer.selectedHierarchy2,\n    hierarchy3: store.filtersReducer.hierarchy3,\n    selectedHierarchy3: store.filtersReducer.selectedHierarchy3,\n    hierarchy4: store.filtersReducer.hierarchy4,\n    selectedHierarchy4: store.filtersReducer.selectedHierarchy4,\n    hierarchy5: store.filtersReducer.hierarchy5,\n    selectedHierarchy5: store.filtersReducer.selectedHierarchy5,\n    hierarchy6: store.filtersReducer.hierarchy6,\n    selectedHierarchy6: store.filtersReducer.selectedHierarchy6,\n    hierarchy7: store.filtersReducer.hierarchy7,\n    selectedHierarchy7: store.filtersReducer.selectedHierarchy7,\n    hierarchy8: store.filtersReducer.hierarchy8,\n    selectedHierarchy8: store.filtersReducer.selectedHierarchy8,\n    stores: store.filtersReducer.stores,\n    customStoreGroup: store.filtersReducer.customStoreGroup,\n    customStyleGroup: store.filtersReducer.customStyleGroup,\n    selectedStores: store.filtersReducer.selectedStores,\n    selectedCustomStyleGroup: store.filtersReducer.selectedCustomStyleGroup,\n    selectedCustomStoreGroup: store.filtersReducer.selectedCustomStoreGroup,\n    startDate: store.filtersReducer.startDate,\n    endDate: store.filtersReducer.endDate,\n    weeks: store.filtersReducer.weeks,\n    retainFilters: store.filtersReducer.retainFilters,\n    editPlanDetails: store.manuallyCreateMdData.editPlanDetails,\n  };\n};\nconst mapDispatchToProps = {\n  getHierarchyOptions: FilterActions.getHierarchyOptions,\n  getStores: FilterActions.getStores,\n  getCustomStores: FilterActions.getCustomStores,\n  setSelectedDrops: FilterActions.setSelectedDrops,\n  setSelectedHierarchy1: FilterActions.setSelectedHierarchy1,\n  setSelectedHierarchy2: FilterActions.setSelectedHierarchy2,\n  setSelectedHierarchy3: FilterActions.setSelectedHierarchy3,\n  setSelectedHierarchy4: FilterActions.setSelectedHierarchy4,\n  setSelectedHierarchy5: FilterActions.setSelectedHierarchy5,\n  setSelectedHierarchy6: FilterActions.setSelectedHierarchy6,\n  setSelectedHierarchy7: FilterActions.setSelectedHierarchy7,\n  setSelectedHierarchy8: FilterActions.setSelectedHierarchy8,\n  setSelectedStores: FilterActions.setSelectedStores,\n  setSelectedCustomGroup: FilterActions.setSelectedCustomGroup,\n  setSelectedCustomStoreGroup: FilterActions.setSelectedCustomStoreGroup,\n  setDateRange: FilterActions.setDateRange,\n  resetFilters: FilterActions.resetFilters,\n  setRetainFilters: FilterActions.setRetainFilters,\n  presetFilters: FilterActions.presetFilters,\n  fetchStyleGroups: FilterActions.fetchStyleGroups,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Filters));\n"]},"metadata":{},"sourceType":"module"}