{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/services/filters/index.js\";\nimport React, { Component } from 'react';\nimport { labels } from './config';\nimport Select from '../select';\nimport './index.css';\nimport { connect } from 'react-redux';\nimport { DateRangePicker } from 'react-dates';\nimport FilterActions from '../../actions/filtersAction';\n\nvar Filters =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Filters, _Component);\n\n  function Filters(props) {\n    var _this;\n\n    _classCallCheck(this, Filters);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Filters).call(this, props));\n\n    _this.getHierarchyOptions = function (val, hierarchy) {\n      _this.setState(_defineProperty({}, \"hierarchy\".concat(hierarchy), val),\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var func, req, i;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.props[\"setSelectedHierarchy\".concat(hierarchy)](val.map(function (e) {\n                  return e.label;\n                }));\n\n              case 2:\n                func = \"getHierarchyLevel\".concat(hierarchy + 1);\n                req = {}; // if (this.props.selectedDrops.length) {\n                //   req.drops = this.props.selectedDrops;\n                // }\n\n                for (i = 1; i <= hierarchy; i++) {\n                  req[\"hierarchy\".concat(i)] = _this.props[\"selectedHierarchy\".concat(i)];\n                }\n\n                if (_this.props[func]) {\n                  if (Object.keys(req).length) {\n                    _this.props[func](req);\n                  } else {\n                    _this.props[func]();\n                  }\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    };\n\n    _this.setDrop = function (val) {\n      _this.setState({\n        drops: val\n      }, function () {\n        _this.props.setSelectedDrops(val.map(function (e) {\n          return e.label;\n        }));\n      });\n    };\n\n    _this.reset = function () {\n      _this.setState({\n        drops: null,\n        startDate: null,\n        endDate: null,\n        hierarchy1: null,\n        hierarchy2: null,\n        hierarchy3: null,\n        hierarchy4: null,\n        hierarchy5: null,\n        hierarchy6: null,\n        hierarchy7: null\n      }, function () {\n        return _this.props.resetFilters();\n      });\n    };\n\n    _this.state = {\n      drops: null,\n      startDate: null,\n      endDate: null,\n      hierarchy1: null,\n      hierarchy2: null,\n      hierarchy3: null,\n      hierarchy4: null,\n      hierarchy5: null,\n      hierarchy6: null,\n      hierarchy7: null\n    };\n    props.getDrops();\n    props.getHierarchyLevel1();\n    return _this;\n  }\n\n  _createClass(Filters, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row ml-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, this.props.drop && React.createElement(\"div\", {\n        className: \"col-md-2 filter-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mb-1 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, labels.drop), React.createElement(Select, {\n        options: this.props.drops,\n        onChange: function onChange(option) {\n          return _this2.setDrop(option);\n        },\n        value: this.state.drops,\n        isMulti: true // allowSelectAll\n        // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), this.props.hierarchy.map(function (filter, i) {\n        return React.createElement(\"div\", {\n          className: \"col-md-2 filter-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"mb-1 mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, labels[filter]), React.createElement(Select, {\n          options: _this2.props[filter],\n          onChange: function onChange(option) {\n            return _this2.getHierarchyOptions(option, i + 1);\n          },\n          value: _this2.state[\"hierarchy\".concat(i + 1)],\n          isMulti: true // allowSelectAll\n          // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }));\n      }), React.createElement(\"div\", {\n        className: \"col-md-2 filter-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"mb-1 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Date range\"), React.createElement(DateRangePicker, {\n        startDate: this.state.startDate,\n        startDateId: \"startDate\",\n        endDate: this.state.endDate,\n        endDateId: \"endDate\",\n        onDatesChange: function onDatesChange(_ref2) {\n          var startDate = _ref2.startDate,\n              endDate = _ref2.endDate;\n          return _this2.setState({\n            startDate: startDate,\n            endDate: endDate\n          });\n        },\n        focusedInput: this.state.focusedInput,\n        onFocusChange: function onFocusChange(focusedInput) {\n          return _this2.setState({\n            focusedInput: focusedInput\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2 mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"col-md-5 btn btn-primary filterBtn\",\n        onClick: function onClick() {\n          return _this2.props.onFilter(_this2.state);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), \"\\xA0 Filter\")), React.createElement(\"button\", {\n        className: \"col-md-5 offset-1 btn btn-primary resetButton\",\n        onClick: this.reset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-repeat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), \"\\xA0 Reset\")))));\n    }\n  }]);\n\n  return Filters;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    drops: store.filtersReducer.drops,\n    selectedDrops: store.filtersReducer.selectedDrops,\n    hierarchy1: store.filtersReducer.hierarchy1,\n    selectedHierarchy1: store.filtersReducer.selectedHierarchy1,\n    hierarchy2: store.filtersReducer.hierarchy2,\n    selectedHierarchy2: store.filtersReducer.selectedHierarchy2,\n    hierarchy3: store.filtersReducer.hierarchy3,\n    selectedHierarchy3: store.filtersReducer.selectedHierarchy3,\n    hierarchy4: store.filtersReducer.hierarchy4,\n    selectedHierarchy4: store.filtersReducer.selectedHierarchy4,\n    hierarchy5: store.filtersReducer.hierarchy5,\n    selectedHierarchy5: store.filtersReducer.selectedHierarchy5,\n    hierarchy6: store.filtersReducer.hierarchy6,\n    selectedHierarchy6: store.filtersReducer.selectedHierarchy6,\n    hierarchy7: store.filtersReducer.hierarchy7,\n    selectedHierarchy7: store.filtersReducer.selectedHierarchy7\n  };\n};\n\nvar mapDispatchToProps = {\n  getDrops: FilterActions.getDrops,\n  getHierarchyLevel1: FilterActions.getHierarchyLevel1,\n  getHierarchyLevel2: FilterActions.getHierarchyLevel2,\n  getHierarchyLevel3: FilterActions.getHierarchyLevel3,\n  getHierarchyLevel4: FilterActions.getHierarchyLevel4,\n  getHierarchyLevel5: FilterActions.getHierarchyLevel5,\n  getHierarchyLevel6: FilterActions.getHierarchyLevel6,\n  getHierarchyLevel7: FilterActions.getHierarchyLevel7,\n  setSelectedDrops: FilterActions.setSelectedDrops,\n  setSelectedHierarchy1: FilterActions.setSelectedHierarchy1,\n  setSelectedHierarchy2: FilterActions.setSelectedHierarchy2,\n  setSelectedHierarchy3: FilterActions.setSelectedHierarchy3,\n  setSelectedHierarchy4: FilterActions.setSelectedHierarchy4,\n  setSelectedHierarchy5: FilterActions.setSelectedHierarchy5,\n  setSelectedHierarchy6: FilterActions.setSelectedHierarchy6,\n  setSelectedHierarchy7: FilterActions.setSelectedHierarchy7,\n  resetFilters: FilterActions.resetFilters\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/services/filters/index.js"],"names":["React","Component","labels","Select","connect","DateRangePicker","FilterActions","Filters","props","getHierarchyOptions","val","hierarchy","setState","map","e","label","func","req","i","Object","keys","length","setDrop","drops","setSelectedDrops","reset","startDate","endDate","hierarchy1","hierarchy2","hierarchy3","hierarchy4","hierarchy5","hierarchy6","hierarchy7","resetFilters","state","getDrops","getHierarchyLevel1","drop","option","filter","focusedInput","onFilter","mapStateToProps","store","filtersReducer","selectedDrops","selectedHierarchy1","selectedHierarchy2","selectedHierarchy3","selectedHierarchy4","selectedHierarchy5","selectedHierarchy6","selectedHierarchy7","mapDispatchToProps","getHierarchyLevel2","getHierarchyLevel3","getHierarchyLevel4","getHierarchyLevel5","getHierarchyLevel6","getHierarchyLevel7","setSelectedHierarchy1","setSelectedHierarchy2","setSelectedHierarchy3","setSelectedHierarchy4","setSelectedHierarchy5","setSelectedHierarchy6","setSelectedHierarchy7"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { labels } from './config';\nimport Select from '../select';\nimport './index.css';\nimport { connect } from 'react-redux';\nimport { DateRangePicker } from 'react-dates';\nimport FilterActions from '../../actions/filtersAction';\n\nclass Filters extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drops: null,\n      startDate: null,\n      endDate: null,\n      hierarchy1: null,\n      hierarchy2: null,\n      hierarchy3: null,\n      hierarchy4: null,\n      hierarchy5: null,\n      hierarchy6: null,\n      hierarchy7: null,\n    };\n    props.getDrops();\n    props.getHierarchyLevel1();\n  }\n  getHierarchyOptions = (val, hierarchy) => {\n    this.setState({ [`hierarchy${hierarchy}`]: val }, async () => {\n      await this.props[`setSelectedHierarchy${hierarchy}`](val.map((e) => e.label));\n      let func = `getHierarchyLevel${hierarchy + 1}`;\n      let req = {};\n      // if (this.props.selectedDrops.length) {\n      //   req.drops = this.props.selectedDrops;\n      // }\n      for (let i = 1; i <= hierarchy; i++) {\n        req[`hierarchy${i}`] = this.props[`selectedHierarchy${i}`];\n      }\n      if (this.props[func]) {\n        if (Object.keys(req).length) {\n          this.props[func](req);\n        } else {\n          this.props[func]();\n        }\n      }\n    });\n  };\n  setDrop = (val) => {\n    this.setState({ drops: val }, () => {\n      this.props.setSelectedDrops(val.map((e) => e.label));\n    });\n  };\n  reset = () => {\n    this.setState(\n      {\n        drops: null,\n        startDate: null,\n        endDate: null,\n        hierarchy1: null,\n        hierarchy2: null,\n        hierarchy3: null,\n        hierarchy4: null,\n        hierarchy5: null,\n        hierarchy6: null,\n        hierarchy7: null,\n      },\n      () => this.props.resetFilters()\n    );\n  };\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"row ml-4\">\n          {this.props.drop && (\n            <div className=\"col-md-2 filter-block\">\n              <label className=\"mb-1 mt-3\">{labels.drop}</label>\n              <Select\n                options={this.props.drops}\n                onChange={(option) => this.setDrop(option)}\n                value={this.state.drops}\n                isMulti\n                // allowSelectAll\n                // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n              />\n            </div>\n          )}\n          {this.props.hierarchy.map((filter, i) => (\n            <div className=\"col-md-2 filter-block\">\n              <label className=\"mb-1 mt-3\">{labels[filter]}</label>\n              <Select\n                options={this.props[filter]}\n                onChange={(option) => this.getHierarchyOptions(option, i + 1)}\n                value={this.state[`hierarchy${i + 1}`]}\n                isMulti\n                // allowSelectAll\n                // isDisabled={!(this.state[`hierarchy${i}`] && this.state[`hierarchy${i}`].length)}\n              />\n            </div>\n          ))}\n          <div className=\"col-md-2 filter-block\">\n            <label className=\"mb-1 mt-3\">Date range</label>\n            <DateRangePicker\n              startDate={this.state.startDate}\n              startDateId=\"startDate\"\n              endDate={this.state.endDate}\n              endDateId=\"endDate\"\n              onDatesChange={({ startDate, endDate }) => this.setState({ startDate, endDate })}\n              focusedInput={this.state.focusedInput}\n              onFocusChange={(focusedInput) => this.setState({ focusedInput })}\n            />\n          </div>\n          <div className=\"col-md-2 mt-5\">\n            <button\n              className=\"col-md-5 btn btn-primary filterBtn\"\n              onClick={() => this.props.onFilter(this.state)}>\n              <span>\n                <i class=\"fa fa-filter\"></i>&nbsp; Filter\n              </span>\n            </button>\n            <button className=\"col-md-5 offset-1 btn btn-primary resetButton\" onClick={this.reset}>\n              <span>\n                <i class=\"fa fa-repeat\"></i>&nbsp; Reset\n              </span>\n            </button>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (store) => {\n  return {\n    drops: store.filtersReducer.drops,\n    selectedDrops: store.filtersReducer.selectedDrops,\n    hierarchy1: store.filtersReducer.hierarchy1,\n    selectedHierarchy1: store.filtersReducer.selectedHierarchy1,\n    hierarchy2: store.filtersReducer.hierarchy2,\n    selectedHierarchy2: store.filtersReducer.selectedHierarchy2,\n    hierarchy3: store.filtersReducer.hierarchy3,\n    selectedHierarchy3: store.filtersReducer.selectedHierarchy3,\n    hierarchy4: store.filtersReducer.hierarchy4,\n    selectedHierarchy4: store.filtersReducer.selectedHierarchy4,\n    hierarchy5: store.filtersReducer.hierarchy5,\n    selectedHierarchy5: store.filtersReducer.selectedHierarchy5,\n    hierarchy6: store.filtersReducer.hierarchy6,\n    selectedHierarchy6: store.filtersReducer.selectedHierarchy6,\n    hierarchy7: store.filtersReducer.hierarchy7,\n    selectedHierarchy7: store.filtersReducer.selectedHierarchy7,\n  };\n};\nconst mapDispatchToProps = {\n  getDrops: FilterActions.getDrops,\n  getHierarchyLevel1: FilterActions.getHierarchyLevel1,\n  getHierarchyLevel2: FilterActions.getHierarchyLevel2,\n  getHierarchyLevel3: FilterActions.getHierarchyLevel3,\n  getHierarchyLevel4: FilterActions.getHierarchyLevel4,\n  getHierarchyLevel5: FilterActions.getHierarchyLevel5,\n  getHierarchyLevel6: FilterActions.getHierarchyLevel6,\n  getHierarchyLevel7: FilterActions.getHierarchyLevel7,\n  setSelectedDrops: FilterActions.setSelectedDrops,\n  setSelectedHierarchy1: FilterActions.setSelectedHierarchy1,\n  setSelectedHierarchy2: FilterActions.setSelectedHierarchy2,\n  setSelectedHierarchy3: FilterActions.setSelectedHierarchy3,\n  setSelectedHierarchy4: FilterActions.setSelectedHierarchy4,\n  setSelectedHierarchy5: FilterActions.setSelectedHierarchy5,\n  setSelectedHierarchy6: FilterActions.setSelectedHierarchy6,\n  setSelectedHierarchy7: FilterActions.setSelectedHierarchy7,\n  resetFilters: FilterActions.resetFilters,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);\n"]},"metadata":{},"sourceType":"module"}