{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n\\n  .custom-control {\\n    line-height: 1.5rem;\\n    margin: 0 1rem;\\n  }\\n\\n  .custom-control-label::before {\\n    top: 0.5rem;\\n  }\\n  .custom-control-label::after {\\n    top: 0.5rem;\\n  }\\n  .custom-checkbox label {\\n    vertical-align: -webkit-baseline-middle;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport DataTable from '../../services/reactTable'; // import ColumnSelection from '../columnSelection';\n\nimport { METRICS_LIST, METRICS_COLUMN_NAMES, DEFAULT_COLUMNS, COLUMNS_LIST } from './excludeStoreColdef';\nimport cloneDeep from 'clone-deep';\nimport styled from 'styled-components';\nimport Select from '../../utils/reactDropDownSelect';\nimport { Form, Row, Col } from 'react-bootstrap';\n\nvar ExcludeStoreTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ExcludeStoreTable, _Component);\n\n  function ExcludeStoreTable(props) {\n    var _this;\n\n    _classCallCheck(this, ExcludeStoreTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ExcludeStoreTable).call(this, props));\n\n    var metricOptions = _toConsumableArray(COLUMNS_LIST).filter(function (object) {\n      object.label = object.headerName;\n      object.value = object.field;\n      return object;\n    });\n\n    metricOptions.splice(0, 3);\n    metricOptions.splice(metricOptions.map(function (obj) {\n      return obj.label;\n    }).indexOf('New Members Article %'), 1);\n\n    var columnDefs = _toConsumableArray(COLUMNS_LIST);\n\n    _this.state = {\n      metrics: [{\n        name: 'Summary',\n        isChecked: true\n      }, {\n        name: 'Information Metrics',\n        isChecked: false\n      }, {\n        name: 'Performance Metrics',\n        isChecked: false\n      }, {\n        name: 'Member Metrics',\n        isChecked: false\n      }, {\n        name: 'Basket Metrics',\n        isChecked: false\n      }],\n      columnDefs: columnDefs,\n      metricsOptions: metricOptions,\n      // attributes: ['Product Information', 'Sales', 'Inventory', 'Margin'],\n      selectedColumns: [],\n      selectedLabels: []\n    };\n    return _this;\n  }\n\n  _createClass(ExcludeStoreTable, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this2 = this;\n\n      this.setState({\n        metrics: _toConsumableArray(METRICS_LIST)\n      });\n\n      limitClearnceHandler = function limitClearnceHandler() {\n        var selectedRowId = _this2.state.selected;\n\n        _this2.props.excludeStoreValHandler(selectedRowId);\n      };\n\n      handleMetrics = function handleMetrics(event) {\n        var metrics = _toConsumableArray(_this2.state.metrics);\n\n        if (event.target.name === 'Store Information') {\n          metrics.forEach(function (metric) {\n            if (metric.name === event.target.name) {\n              metric.isChecked = event.target.checked;\n            } else {\n              if (event.target.checked) metric.isChecked = false;\n            }\n          });\n        } else {\n          metrics.forEach(function (metric) {\n            if (metric.name === 'Store Information') {\n              metric.isChecked = false;\n            }\n\n            if (metric.name === event.target.name) {\n              metric.isChecked = event.target.checked;\n            }\n          });\n        }\n\n        var visibleColumns = [],\n            hideColumns = [],\n            summaryColumns = [];\n        metrics.filter(function (object) {\n          return object.isChecked === true;\n        }).forEach(function (object) {\n          if (object.name === 'Summary') {\n            var defaultColumns = DEFAULT_COLUMNS.map(function (object) {\n              return object.label;\n            });\n            summaryColumns = _this2.state.columnDefs.filter(function (object) {\n              return defaultColumns.indexOf(object.headerName) !== -1;\n            });\n            visibleColumns.push(summaryColumns);\n          } else {\n            visibleColumns.push(metrics);\n          }\n        });\n\n        _this2.setState({\n          metrics: _toConsumableArray(metrics)\n        });\n      };\n\n      onRowClick = function onRowClick(rowInfo) {\n        var selectedRow = _this2.state.selected;\n\n        if (_this2.state.selected.includes(rowInfo.index)) {\n          var findInd = selectedRow.indexOf(rowInfo.index);\n          selectedRow.splice(findInd, 1);\n        } else {\n          selectedRow.push(rowInfo.index);\n        }\n\n        _this2.setState({\n          selected: selectedRow\n        });\n      };\n    }\n  }]);\n\n  return ExcludeStoreTable;\n}(Component);\n\nvar Styles = styled.div(_templateObject());\nexport default ExcludeStoreTable;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/ManuallyCreateMD/excludeStoreTable.js"],"names":["React","Component","DataTable","METRICS_LIST","METRICS_COLUMN_NAMES","DEFAULT_COLUMNS","COLUMNS_LIST","cloneDeep","styled","Select","Form","Row","Col","ExcludeStoreTable","props","metricOptions","filter","object","label","headerName","value","field","splice","map","obj","indexOf","columnDefs","state","metrics","name","isChecked","metricsOptions","selectedColumns","selectedLabels","setState","limitClearnceHandler","selectedRowId","selected","excludeStoreValHandler","handleMetrics","event","target","forEach","metric","checked","visibleColumns","hideColumns","summaryColumns","defaultColumns","push","onRowClick","rowInfo","selectedRow","includes","index","findInd","Styles","div"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport DataTable from '../../services/reactTable';\n// import ColumnSelection from '../columnSelection';\nimport {\n  METRICS_LIST,\n  METRICS_COLUMN_NAMES,\n  DEFAULT_COLUMNS,\n  COLUMNS_LIST,\n} from './excludeStoreColdef';\nimport cloneDeep from 'clone-deep';\nimport styled from 'styled-components';\nimport Select from '../../utils/reactDropDownSelect';\nimport { Form, Row, Col } from 'react-bootstrap';\n\nclass ExcludeStoreTable extends Component {\n  constructor(props) {\n    super(props);\n    let metricOptions = [...COLUMNS_LIST].filter((object) => {\n      object.label = object.headerName;\n      object.value = object.field;\n      return object;\n    });\n    metricOptions.splice(0, 3);\n    metricOptions.splice(metricOptions.map((obj) => obj.label).indexOf('New Members Article %'), 1);\n    let columnDefs = [...COLUMNS_LIST];\n    this.state = {\n      metrics: [\n        {\n          name: 'Summary',\n          isChecked: true,\n        },\n        {\n          name: 'Information Metrics',\n          isChecked: false,\n        },\n        {\n          name: 'Performance Metrics',\n          isChecked: false,\n        },\n        {\n          name: 'Member Metrics',\n          isChecked: false,\n        },\n        {\n          name: 'Basket Metrics',\n          isChecked: false,\n        },\n      ],\n      columnDefs: columnDefs,\n      metricsOptions: metricOptions,\n      // attributes: ['Product Information', 'Sales', 'Inventory', 'Margin'],\n      selectedColumns: [],\n      selectedLabels: [],\n    };\n  }\n  componentWillUnmount() {\n    this.setState({\n      metrics: [...METRICS_LIST],\n    });\n    limitClearnceHandler = () => {\n      let selectedRowId = this.state.selected;\n      this.props.excludeStoreValHandler(selectedRowId);\n    };\n    handleMetrics = (event) => {\n      let metrics = [...this.state.metrics];\n      if (event.target.name === 'Store Information') {\n        metrics.forEach((metric) => {\n          if (metric.name === event.target.name) {\n            metric.isChecked = event.target.checked;\n          } else {\n            if (event.target.checked) metric.isChecked = false;\n          }\n        });\n      } else {\n        metrics.forEach((metric) => {\n          if (metric.name === 'Store Information') {\n            metric.isChecked = false;\n          }\n          if (metric.name === event.target.name) {\n            metric.isChecked = event.target.checked;\n          }\n        });\n      }\n      let visibleColumns = [],\n        hideColumns = [],\n        summaryColumns = [];\n      metrics\n        .filter((object) => object.isChecked === true)\n        .forEach((object) => {\n          if (object.name === 'Summary') {\n            let defaultColumns = DEFAULT_COLUMNS.map((object) => object.label);\n            summaryColumns = this.state.columnDefs.filter((object) => {\n              return defaultColumns.indexOf(object.headerName) !== -1;\n            });\n            visibleColumns.push(summaryColumns);\n          } else {\n            visibleColumns.push(metrics);\n          }\n        });\n\n      this.setState({\n        metrics: [...metrics],\n      });\n    };\n    onRowClick = (rowInfo) => {\n      let selectedRow = this.state.selected;\n      if (this.state.selected.includes(rowInfo.index)) {\n        let findInd = selectedRow.indexOf(rowInfo.index);\n        selectedRow.splice(findInd, 1);\n      } else {\n        selectedRow.push(rowInfo.index);\n      }\n      this.setState({\n        selected: selectedRow,\n      });\n    };\n  }\n}\n\nconst Styles = styled.div`\n  padding: 1rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n\n  .custom-control {\n    line-height: 1.5rem;\n    margin: 0 1rem;\n  }\n\n  .custom-control-label::before {\n    top: 0.5rem;\n  }\n  .custom-control-label::after {\n    top: 0.5rem;\n  }\n  .custom-checkbox label {\n    vertical-align: -webkit-baseline-middle;\n  }\n`;\n\nexport default ExcludeStoreTable;\n"]},"metadata":{},"sourceType":"module"}