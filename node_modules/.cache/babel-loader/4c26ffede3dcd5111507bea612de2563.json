{"ast":null,"code":"import _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/createMarkdown/AddSkuFilter.js\";\nimport React, { Component } from 'react';\nimport Select from '../common/selectAll';\nimport SkuHistoryModal from '../skuHistoryModal';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getCascadingFilters as _getCascadingFilters, persistCascadingFilters as _persistCascadingFilters } from '../../actions/markDownCommonActions';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\n\nvar AddSkuFilter =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddSkuFilter, _Component);\n\n  function AddSkuFilter(props) {\n    var _this;\n\n    _classCallCheck(this, AddSkuFilter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddSkuFilter).call(this, props));\n\n    _this.setSelectedSku = function (data, type) {\n      _this.setState({\n        selectedSkus: data,\n        type: type\n      });\n    };\n\n    _this.onClose = function () {\n      _this.setState({\n        modalShow: false\n      });\n    };\n\n    _this.onOpen = function () {\n      _this.setState({\n        modalShow: true\n      });\n    };\n\n    _this.onChangeHandler = function (string) {\n      _this.props.getCascadingFilters(\"category=\".concat(_this.state.SelectedCategory.value, \"&subCategory=\").concat(_this.state.SelectedSubCategory.value, \"&class=\").concat(_this.state.SelectedClass.value, \"&subClass=\").concat(_this.state.SelectedSubClass.value));\n\n      _this.setState({\n        disableFilterBtn: false\n      });\n    };\n\n    _this.onFilterClick = function () {\n      if (_this.props.presistData) {\n        _this.props.persistCascadingFilters(_this.state);\n      }\n\n      _this.props.onFilterClick(_this.state);\n    };\n\n    _this.state = {\n      SelectedCategory: {\n        label: null,\n        value: null\n      },\n      SelectedSubCategory: {\n        label: null,\n        value: null\n      },\n      SelectedClass: {\n        label: null,\n        value: null\n      },\n      SelectedSubClass: {\n        label: null,\n        value: null\n      },\n      SelectedBrand: {\n        label: null,\n        value: null\n      },\n      disableFilterBtn: true,\n      selectedSkus: []\n    };\n    return _this;\n  }\n\n  _createClass(AddSkuFilter, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.subClassID && this.props.brandID && this.props.category && this.props.subCategory && this.props.class) {\n        this.setState({\n          SelectedCategory: {\n            label: this.props.category.replace('%20', ' '),\n            value: this.props.category\n          },\n          SelectedSubCategory: {\n            label: this.props.subCategory.replace('%20', ' '),\n            value: this.props.subCategory\n          },\n          SelectedClass: {\n            label: this.props.class.replace('%20', ' '),\n            value: this.props.class\n          },\n          SelectedSubClass: {\n            label: this.props.subClassID.replace('%20', ' '),\n            value: this.props.subClassID\n          },\n          SelectedBrand: {\n            label: this.props.brandID.replace('%20', ' '),\n            value: this.props.brandID\n          },\n          disableFilterBtn: true\n        });\n      } else {\n        this.props.getCascadingFilters(\"category=\".concat(null, \"&subCategory=\", null, \"&class=\", null, \"&subClass=\", null));\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.selectedSkuData != this.props.selectedSkuData) {\n        var skuData = this.props.selectedSkuData || [];\n        this.setState({\n          selectedSkus: skuData\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"row add-sku-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Department\"), React.createElement(Select, {\n        isDisabled: this.props.loading || this.props.subClassID ? true : false,\n        name: \"category\",\n        options: this.props.getAllFilterProp && this.props.getAllFilterProp.category || [],\n        value: this.state.SelectedCategory,\n        onChange: function onChange(val) {\n          _this2.setState({\n            SelectedCategory: {\n              label: val.label,\n              value: val.value\n            },\n            SelectedSubCategory: {\n              label: null,\n              value: null\n            },\n            SelectedClass: {\n              label: null,\n              value: null\n            },\n            SelectedSubClass: {\n              label: null,\n              value: null\n            },\n            SelectedBrand: {\n              label: null,\n              value: null\n            }\n          }, function () {\n            //   this.clearNextState(\"category\");\n            _this2.onChangeHandler();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Sub Department\"), React.createElement(Select, {\n        isDisabled: this.props.loading || this.props.subClassID ? true : false,\n        name: \"subCategory\",\n        options: this.state.SelectedCategory.value !== null ? this.props.getAllFilterProp && this.props.getAllFilterProp.subCategory || [] : [],\n        value: this.state.SelectedSubCategory,\n        onChange: function onChange(val) {\n          _this2.setState({\n            SelectedSubCategory: {\n              label: val.label,\n              value: val.value\n            },\n            SelectedClass: {\n              label: null,\n              value: null\n            },\n            SelectedSubClass: {\n              label: null,\n              value: null\n            },\n            SelectedBrand: {\n              label: null,\n              value: null\n            }\n          }, function () {\n            //   this.clearNextState(\"subcategory\");\n            _this2.onChangeHandler();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Category\"), React.createElement(Select, {\n        isDisabled: this.props.loading || this.props.subClassID ? true : false,\n        name: \"subCategory\",\n        options: this.state.SelectedSubCategory.value !== null ? this.props.getAllFilterProp && this.props.getAllFilterProp.class || [] : [],\n        value: this.state.SelectedClass,\n        onChange: function onChange(val) {\n          _this2.setState({\n            SelectedClass: {\n              label: val.label,\n              value: val.value\n            },\n            SelectedSubClass: {\n              label: null,\n              value: null\n            },\n            SelectedBrand: {\n              label: null,\n              value: null\n            }\n          }, function () {\n            //   this.clearNextState(\"class\");\n            _this2.onChangeHandler();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Sub Category\"), React.createElement(Select, {\n        isDisabled: this.props.loading || this.props.subClassID ? true : false,\n        name: \"subCategory\",\n        options: this.state.SelectedClass.value !== null ? this.props.getAllFilterProp && this.props.getAllFilterProp.subClass || [] : [],\n        value: this.state.SelectedSubClass,\n        onChange: function onChange(val) {\n          _this2.setState({\n            SelectedSubClass: {\n              label: val.label,\n              value: val.value\n            },\n            SelectedBrand: {\n              label: null,\n              value: null\n            }\n          }, function () {\n            //   this.clearNextState(\"subclass\");\n            _this2.onChangeHandler();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Brand\"), React.createElement(Select, {\n        isDisabled: this.props.loading || this.props.subClassID ? true : false,\n        name: \"subCategory\",\n        options: this.props.getAllFilterProp && this.props.getAllFilterProp.brand || [],\n        value: this.state.SelectedBrand,\n        onChange: function onChange(val) {\n          return _this2.setState({\n            SelectedBrand: {\n              label: val.label,\n              value: val.value\n            }\n          }, _this2.onChangeHandler('brand'));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), this.props.showSkuSelect && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \" SKUs \", this.state.selectedSkus.length), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          return _this2.onOpen();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Select SKUs\")), this.state.modalShow ? React.createElement(SkuHistoryModal, {\n        skuAPI: this.props.actionSkuLineData,\n        setSelectedSku: this.setSelectedSku,\n        modalShow: this.state.modalShow,\n        switchSkuModal: this.onClose,\n        startDate: this.props.startDate,\n        endDate: this.props.endDate,\n        nextYear: this.props.nextYear,\n        prevYear: this.props.prevYear,\n        selectedSkuData: this.state.selectedSkus,\n        getSelectedSkuData: this.props.getSelectedSkuData,\n        brandID: this.state.SelectedBrand.label,\n        bID: this.state.SelectedBrand.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }) : null), React.createElement(\"button\", {\n        onClick: function onClick() {\n          _this2.onFilterClick();\n        },\n        disabled: this.state.disableFilterBtn,\n        className: \"btn btn-primary AddSkuFilter-Submit-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Filter\"));\n    }\n  }]);\n\n  return AddSkuFilter;\n}(Component);\n\nAddSkuFilter.propTypes = {\n  presistData: PropTypes.bool\n};\nAddSkuFilter.defaultProps = {\n  presistData: false\n};\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    getAllFilterProp: store.markDownFilter.getAllFilter,\n    loading: store.markDownFilter.loading // category: store.markDownFilter.getAllFilter.category\n    //   ? store.markDownFilter.getAllFilter.category\n    //   : null\n\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getCascadingFilters: function getCascadingFilters(val) {\n      return dispatch(_getCascadingFilters(val));\n    },\n    persistCascadingFilters: function persistCascadingFilters(payload) {\n      return dispatch(_persistCascadingFilters(payload));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps // mapActionToProps\n)(withRouter(AddSkuFilter));","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/createMarkdown/AddSkuFilter.js"],"names":["React","Component","Select","SkuHistoryModal","connect","withRouter","getCascadingFilters","persistCascadingFilters","_","PropTypes","AddSkuFilter","props","setSelectedSku","data","type","setState","selectedSkus","onClose","modalShow","onOpen","onChangeHandler","string","state","SelectedCategory","value","SelectedSubCategory","SelectedClass","SelectedSubClass","disableFilterBtn","onFilterClick","presistData","label","SelectedBrand","subClassID","brandID","category","subCategory","class","replace","prevProps","selectedSkuData","skuData","loading","getAllFilterProp","val","subClass","brand","showSkuSelect","length","actionSkuLineData","startDate","endDate","nextYear","prevYear","getSelectedSkuData","propTypes","bool","defaultProps","mapStateToProps","store","markDownFilter","getAllFilter","mapDispatchToProps","dispatch","payload"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,SAASC,mBAAmB,IAAnBA,oBAAT,EAA8BC,uBAAuB,IAAvBA,wBAA9B,QAA6D,qCAA7D;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAOC,SAAP,MAAsB,YAAtB;;IAEMC,Y;;;;;AACJ,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;;AADiB,UA0DnBC,cA1DmB,GA0DF,UAACC,IAAD,EAAOC,IAAP,EAAgB;AAC/B,YAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEH,IADF;AAEZC,QAAAA,IAAI,EAAEA;AAFM,OAAd;AAID,KA/DkB;;AAAA,UAgEnBG,OAhEmB,GAgET,YAAM;AACd,YAAKF,QAAL,CAAc;AACZG,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KApEkB;;AAAA,UAqEnBC,MArEmB,GAqEV,YAAM;AACb,YAAKJ,QAAL,CAAc;AACZG,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KAzEkB;;AAAA,UA4EnBE,eA5EmB,GA4ED,UAACC,MAAD,EAAY;AAC5B,YAAKV,KAAL,CAAWL,mBAAX,oBACc,MAAKgB,KAAL,CAAWC,gBAAX,CAA4BC,KAD1C,0BAC+D,MAAKF,KAAL,CAAWG,mBAAX,CAA+BD,KAD9F,oBAC6G,MAAKF,KAAL,CAAWI,aAAX,CAAyBF,KADtI,uBACwJ,MAAKF,KAAL,CAAWK,gBAAX,CAA4BH,KADpL;;AAGA,YAAKT,QAAL,CAAc;AACZa,QAAAA,gBAAgB,EAAE;AADN,OAAd;AAGD,KAnFkB;;AAAA,UAqFnBC,aArFmB,GAqFH,YAAM;AACpB,UAAI,MAAKlB,KAAL,CAAWmB,WAAf,EAA4B;AAC1B,cAAKnB,KAAL,CAAWJ,uBAAX,CAAmC,MAAKe,KAAxC;AACD;;AACD,YAAKX,KAAL,CAAWkB,aAAX,CAAyB,MAAKP,KAA9B;AACD,KA1FkB;;AAEjB,UAAKA,KAAL,GAAa;AACXC,MAAAA,gBAAgB,EAAE;AAAEQ,QAAAA,KAAK,EAAE,IAAT;AAAeP,QAAAA,KAAK,EAAE;AAAtB,OADP;AAEXC,MAAAA,mBAAmB,EAAE;AAAEM,QAAAA,KAAK,EAAE,IAAT;AAAeP,QAAAA,KAAK,EAAE;AAAtB,OAFV;AAGXE,MAAAA,aAAa,EAAE;AAAEK,QAAAA,KAAK,EAAE,IAAT;AAAeP,QAAAA,KAAK,EAAE;AAAtB,OAHJ;AAIXG,MAAAA,gBAAgB,EAAE;AAAEI,QAAAA,KAAK,EAAE,IAAT;AAAeP,QAAAA,KAAK,EAAE;AAAtB,OAJP;AAKXQ,MAAAA,aAAa,EAAE;AAAED,QAAAA,KAAK,EAAE,IAAT;AAAeP,QAAAA,KAAK,EAAE;AAAtB,OALJ;AAMXI,MAAAA,gBAAgB,EAAE,IANP;AAOXZ,MAAAA,YAAY,EAAE;AAPH,KAAb;AAFiB;AAWlB;;;;wCAEmB;AAClB,UACE,KAAKL,KAAL,CAAWsB,UAAX,IACA,KAAKtB,KAAL,CAAWuB,OADX,IAEA,KAAKvB,KAAL,CAAWwB,QAFX,IAGA,KAAKxB,KAAL,CAAWyB,WAHX,IAIA,KAAKzB,KAAL,CAAW0B,KALb,EAME;AACA,aAAKtB,QAAL,CAAc;AACZQ,UAAAA,gBAAgB,EAAE;AAChBQ,YAAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWwB,QAAX,CAAoBG,OAApB,CAA4B,KAA5B,EAAmC,GAAnC,CADS;AAEhBd,YAAAA,KAAK,EAAE,KAAKb,KAAL,CAAWwB;AAFF,WADN;AAKZV,UAAAA,mBAAmB,EAAE;AACnBM,YAAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWyB,WAAX,CAAuBE,OAAvB,CAA+B,KAA/B,EAAsC,GAAtC,CADY;AAEnBd,YAAAA,KAAK,EAAE,KAAKb,KAAL,CAAWyB;AAFC,WALT;AASZV,UAAAA,aAAa,EAAE;AACbK,YAAAA,KAAK,EAAE,KAAKpB,KAAL,CAAW0B,KAAX,CAAiBC,OAAjB,CAAyB,KAAzB,EAAgC,GAAhC,CADM;AAEbd,YAAAA,KAAK,EAAE,KAAKb,KAAL,CAAW0B;AAFL,WATH;AAaZV,UAAAA,gBAAgB,EAAE;AAChBI,YAAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWsB,UAAX,CAAsBK,OAAtB,CAA8B,KAA9B,EAAqC,GAArC,CADS;AAEhBd,YAAAA,KAAK,EAAE,KAAKb,KAAL,CAAWsB;AAFF,WAbN;AAiBZD,UAAAA,aAAa,EAAE;AACbD,YAAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWuB,OAAX,CAAmBI,OAAnB,CAA2B,KAA3B,EAAkC,GAAlC,CADM;AAEbd,YAAAA,KAAK,EAAE,KAAKb,KAAL,CAAWuB;AAFL,WAjBH;AAqBZN,UAAAA,gBAAgB,EAAE;AArBN,SAAd;AAuBD,OA9BD,MA8BO;AACL,aAAKjB,KAAL,CAAWL,mBAAX,oBACc,IADd,mBACkC,IADlC,aACgD,IADhD,gBACiE,IADjE;AAGD;AACF;;;uCACkBiC,S,EAAW;AAC5B,UAAIA,SAAS,CAACC,eAAV,IAA6B,KAAK7B,KAAL,CAAW6B,eAA5C,EAA6D;AAC3D,YAAIC,OAAO,GAAG,KAAK9B,KAAL,CAAW6B,eAAX,IAA8B,EAA5C;AACA,aAAKzB,QAAL,CAAc;AACZC,UAAAA,YAAY,EAAEyB;AADF,SAAd;AAGD;AACF;;;6BAmCQ;AAAA;;AACP,aACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,oBAAC,MAAD;AACE,QAAA,UAAU,EAAE,KAAK9B,KAAL,CAAW+B,OAAX,IAAsB,KAAK/B,KAAL,CAAWsB,UAAjC,GAA8C,IAA9C,GAAqD,KADnE;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,OAAO,EAAG,KAAKtB,KAAL,CAAWgC,gBAAX,IAA+B,KAAKhC,KAAL,CAAWgC,gBAAX,CAA4BR,QAA5D,IAAyE,EAHpF;AAIE,QAAA,KAAK,EAAE,KAAKb,KAAL,CAAWC,gBAJpB;AAKE,QAAA,QAAQ,EAAE,kBAACqB,GAAD,EAAS;AACjB,UAAA,MAAI,CAAC7B,QAAL,CACE;AACEQ,YAAAA,gBAAgB,EAAE;AAAEQ,cAAAA,KAAK,EAAEa,GAAG,CAACb,KAAb;AAAoBP,cAAAA,KAAK,EAAEoB,GAAG,CAACpB;AAA/B,aADpB;AAEEC,YAAAA,mBAAmB,EAAE;AAAEM,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB,aAFvB;AAGEE,YAAAA,aAAa,EAAE;AAAEK,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB,aAHjB;AAIEG,YAAAA,gBAAgB,EAAE;AAAEI,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB,aAJpB;AAKEQ,YAAAA,aAAa,EAAE;AAAED,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB;AALjB,WADF,EAQE,YAAM;AACJ;AACA,YAAA,MAAI,CAACJ,eAAL;AACD,WAXH;AAaD,SAnBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAyBE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE,oBAAC,MAAD;AACE,QAAA,UAAU,EAAE,KAAKT,KAAL,CAAW+B,OAAX,IAAsB,KAAK/B,KAAL,CAAWsB,UAAjC,GAA8C,IAA9C,GAAqD,KADnE;AAEE,QAAA,IAAI,EAAC,aAFP;AAGE,QAAA,OAAO,EACL,KAAKX,KAAL,CAAWC,gBAAX,CAA4BC,KAA5B,KAAsC,IAAtC,GACK,KAAKb,KAAL,CAAWgC,gBAAX,IAA+B,KAAKhC,KAAL,CAAWgC,gBAAX,CAA4BP,WAA5D,IAA4E,EADhF,GAEI,EANR;AAQE,QAAA,KAAK,EAAE,KAAKd,KAAL,CAAWG,mBARpB;AASE,QAAA,QAAQ,EAAE,kBAACmB,GAAD,EAAS;AACjB,UAAA,MAAI,CAAC7B,QAAL,CACE;AACEU,YAAAA,mBAAmB,EAAE;AAAEM,cAAAA,KAAK,EAAEa,GAAG,CAACb,KAAb;AAAoBP,cAAAA,KAAK,EAAEoB,GAAG,CAACpB;AAA/B,aADvB;AAEEE,YAAAA,aAAa,EAAE;AAAEK,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB,aAFjB;AAGEG,YAAAA,gBAAgB,EAAE;AAAEI,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB,aAHpB;AAIEQ,YAAAA,aAAa,EAAE;AAAED,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB;AAJjB,WADF,EAOE,YAAM;AACJ;AACA,YAAA,MAAI,CAACJ,eAAL;AACD,WAVH;AAYD,SAtBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAzBF,EAoDE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,oBAAC,MAAD;AACE,QAAA,UAAU,EAAE,KAAKT,KAAL,CAAW+B,OAAX,IAAsB,KAAK/B,KAAL,CAAWsB,UAAjC,GAA8C,IAA9C,GAAqD,KADnE;AAEE,QAAA,IAAI,EAAC,aAFP;AAGE,QAAA,OAAO,EACL,KAAKX,KAAL,CAAWG,mBAAX,CAA+BD,KAA/B,KAAyC,IAAzC,GACK,KAAKb,KAAL,CAAWgC,gBAAX,IAA+B,KAAKhC,KAAL,CAAWgC,gBAAX,CAA4BN,KAA5D,IAAsE,EAD1E,GAEI,EANR;AAQE,QAAA,KAAK,EAAE,KAAKf,KAAL,CAAWI,aARpB;AASE,QAAA,QAAQ,EAAE,kBAACkB,GAAD,EAAS;AACjB,UAAA,MAAI,CAAC7B,QAAL,CACE;AACEW,YAAAA,aAAa,EAAE;AAAEK,cAAAA,KAAK,EAAEa,GAAG,CAACb,KAAb;AAAoBP,cAAAA,KAAK,EAAEoB,GAAG,CAACpB;AAA/B,aADjB;AAEEG,YAAAA,gBAAgB,EAAE;AAAEI,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB,aAFpB;AAGEQ,YAAAA,aAAa,EAAE;AAAED,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB;AAHjB,WADF,EAME,YAAM;AACJ;AACA,YAAA,MAAI,CAACJ,eAAL;AACD,WATH;AAWD,SArBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CApDF,EA8EE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,MAAD;AACE,QAAA,UAAU,EAAE,KAAKT,KAAL,CAAW+B,OAAX,IAAsB,KAAK/B,KAAL,CAAWsB,UAAjC,GAA8C,IAA9C,GAAqD,KADnE;AAEE,QAAA,IAAI,EAAC,aAFP;AAGE,QAAA,OAAO,EACL,KAAKX,KAAL,CAAWI,aAAX,CAAyBF,KAAzB,KAAmC,IAAnC,GACK,KAAKb,KAAL,CAAWgC,gBAAX,IAA+B,KAAKhC,KAAL,CAAWgC,gBAAX,CAA4BE,QAA5D,IAAyE,EAD7E,GAEI,EANR;AAQE,QAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWK,gBARpB;AASE,QAAA,QAAQ,EAAE,kBAACiB,GAAD,EAAS;AACjB,UAAA,MAAI,CAAC7B,QAAL,CACE;AACEY,YAAAA,gBAAgB,EAAE;AAAEI,cAAAA,KAAK,EAAEa,GAAG,CAACb,KAAb;AAAoBP,cAAAA,KAAK,EAAEoB,GAAG,CAACpB;AAA/B,aADpB;AAEEQ,YAAAA,aAAa,EAAE;AAAED,cAAAA,KAAK,EAAE,IAAT;AAAeP,cAAAA,KAAK,EAAE;AAAtB;AAFjB,WADF,EAKE,YAAM;AACJ;AACA,YAAA,MAAI,CAACJ,eAAL;AACD,WARH;AAUD,SApBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CA9EF,EAuGE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,MAAD;AACE,QAAA,UAAU,EAAE,KAAKT,KAAL,CAAW+B,OAAX,IAAsB,KAAK/B,KAAL,CAAWsB,UAAjC,GAA8C,IAA9C,GAAqD,KADnE;AAEE,QAAA,IAAI,EAAC,aAFP;AAGE,QAAA,OAAO,EAAG,KAAKtB,KAAL,CAAWgC,gBAAX,IAA+B,KAAKhC,KAAL,CAAWgC,gBAAX,CAA4BG,KAA5D,IAAsE,EAHjF;AAIE,QAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWU,aAJpB;AAKE,QAAA,QAAQ,EAAE,kBAACY,GAAD;AAAA,iBACR,MAAI,CAAC7B,QAAL,CACE;AACEiB,YAAAA,aAAa,EAAE;AAAED,cAAAA,KAAK,EAAEa,GAAG,CAACb,KAAb;AAAoBP,cAAAA,KAAK,EAAEoB,GAAG,CAACpB;AAA/B;AADjB,WADF,EAIE,MAAI,CAACJ,eAAL,CAAqB,OAArB,CAJF,CADQ;AAAA,SALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAvGF,EAiJG,KAAKT,KAAL,CAAWoC,aAAX,IACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAsC,KAAKzB,KAAL,CAAWN,YAAX,CAAwBgC,MAA9D,CADF,EAEE;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC7B,MAAL,EAAN;AAAA,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,CADF,EAOG,KAAKG,KAAL,CAAWJ,SAAX,GACC,oBAAC,eAAD;AACE,QAAA,MAAM,EAAE,KAAKP,KAAL,CAAWsC,iBADrB;AAEE,QAAA,cAAc,EAAE,KAAKrC,cAFvB;AAGE,QAAA,SAAS,EAAE,KAAKU,KAAL,CAAWJ,SAHxB;AAIE,QAAA,cAAc,EAAE,KAAKD,OAJvB;AAKE,QAAA,SAAS,EAAE,KAAKN,KAAL,CAAWuC,SALxB;AAME,QAAA,OAAO,EAAE,KAAKvC,KAAL,CAAWwC,OANtB;AAOE,QAAA,QAAQ,EAAE,KAAKxC,KAAL,CAAWyC,QAPvB;AAQE,QAAA,QAAQ,EAAE,KAAKzC,KAAL,CAAW0C,QARvB;AASE,QAAA,eAAe,EAAE,KAAK/B,KAAL,CAAWN,YAT9B;AAUE,QAAA,kBAAkB,EAAE,KAAKL,KAAL,CAAW2C,kBAVjC;AAWE,QAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWU,aAAX,CAAyBD,KAXpC;AAYE,QAAA,GAAG,EAAE,KAAKT,KAAL,CAAWU,aAAX,CAAyBR,KAZhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAeG,IAtBN,CAlJJ,EA2KE;AACE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAACK,aAAL;AACD,SAHH;AAIE,QAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWM,gBAJvB;AAKE,QAAA,SAAS,EAAC,yCALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3KF,CADF;AAyLD;;;;EAvRwB3B,S;;AA0R3BS,YAAY,CAAC6C,SAAb,GAAyB;AACvBzB,EAAAA,WAAW,EAAErB,SAAS,CAAC+C;AADA,CAAzB;AAIA9C,YAAY,CAAC+C,YAAb,GAA4B;AAC1B3B,EAAAA,WAAW,EAAE;AADa,CAA5B;;AAIA,IAAM4B,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AACLhB,IAAAA,gBAAgB,EAAEgB,KAAK,CAACC,cAAN,CAAqBC,YADlC;AAELnB,IAAAA,OAAO,EAAEiB,KAAK,CAACC,cAAN,CAAqBlB,OAFzB,CAGL;AACA;AACA;;AALK,GAAP;AAOD,CARD;;AAUA,IAAMoB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACLzD,IAAAA,mBAAmB,EAAE,6BAACsC,GAAD;AAAA,aAASmB,QAAQ,CAACzD,oBAAmB,CAACsC,GAAD,CAApB,CAAjB;AAAA,KADhB;AAELrC,IAAAA,uBAAuB,EAAE,iCAACyD,OAAD;AAAA,aAAaD,QAAQ,CAACxD,wBAAuB,CAACyD,OAAD,CAAxB,CAArB;AAAA;AAFpB,GAAP;AAID,CALD;;AAOA,eAAe5D,OAAO,CACpBsD,eADoB,EAEpBI,kBAFoB,CAGpB;AAHoB,CAAP,CAIbzD,UAAU,CAACK,YAAD,CAJG,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport Select from '../common/selectAll';\nimport SkuHistoryModal from '../skuHistoryModal';\n\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { getCascadingFilters, persistCascadingFilters } from '../../actions/markDownCommonActions';\nimport _ from 'lodash';\n\nimport PropTypes from 'prop-types';\n\nclass AddSkuFilter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      SelectedCategory: { label: null, value: null },\n      SelectedSubCategory: { label: null, value: null },\n      SelectedClass: { label: null, value: null },\n      SelectedSubClass: { label: null, value: null },\n      SelectedBrand: { label: null, value: null },\n      disableFilterBtn: true,\n      selectedSkus: [],\n    };\n  }\n\n  componentDidMount() {\n    if (\n      this.props.subClassID &&\n      this.props.brandID &&\n      this.props.category &&\n      this.props.subCategory &&\n      this.props.class\n    ) {\n      this.setState({\n        SelectedCategory: {\n          label: this.props.category.replace('%20', ' '),\n          value: this.props.category,\n        },\n        SelectedSubCategory: {\n          label: this.props.subCategory.replace('%20', ' '),\n          value: this.props.subCategory,\n        },\n        SelectedClass: {\n          label: this.props.class.replace('%20', ' '),\n          value: this.props.class,\n        },\n        SelectedSubClass: {\n          label: this.props.subClassID.replace('%20', ' '),\n          value: this.props.subClassID,\n        },\n        SelectedBrand: {\n          label: this.props.brandID.replace('%20', ' '),\n          value: this.props.brandID,\n        },\n        disableFilterBtn: true,\n      });\n    } else {\n      this.props.getCascadingFilters(\n        `category=${null}&subCategory=${null}&class=${null}&subClass=${null}`\n      );\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.selectedSkuData != this.props.selectedSkuData) {\n      var skuData = this.props.selectedSkuData || [];\n      this.setState({\n        selectedSkus: skuData,\n      });\n    }\n  }\n  setSelectedSku = (data, type) => {\n    this.setState({\n      selectedSkus: data,\n      type: type,\n    });\n  };\n  onClose = () => {\n    this.setState({\n      modalShow: false,\n    });\n  };\n  onOpen = () => {\n    this.setState({\n      modalShow: true,\n    });\n  };\n\n  // Triggered on all select elements.\n  onChangeHandler = (string) => {\n    this.props.getCascadingFilters(\n      `category=${this.state.SelectedCategory.value}&subCategory=${this.state.SelectedSubCategory.value}&class=${this.state.SelectedClass.value}&subClass=${this.state.SelectedSubClass.value}`\n    );\n    this.setState({\n      disableFilterBtn: false,\n    });\n  };\n\n  onFilterClick = () => {\n    if (this.props.presistData) {\n      this.props.persistCascadingFilters(this.state);\n    }\n    this.props.onFilterClick(this.state);\n  };\n\n  render() {\n    return (\n      <div className=\"row add-sku-row\">\n        <div className=\"col-md-2\">\n          <label className=\"input-label\">Department</label>\n          <Select\n            isDisabled={this.props.loading || this.props.subClassID ? true : false}\n            name=\"category\"\n            options={(this.props.getAllFilterProp && this.props.getAllFilterProp.category) || []}\n            value={this.state.SelectedCategory}\n            onChange={(val) => {\n              this.setState(\n                {\n                  SelectedCategory: { label: val.label, value: val.value },\n                  SelectedSubCategory: { label: null, value: null },\n                  SelectedClass: { label: null, value: null },\n                  SelectedSubClass: { label: null, value: null },\n                  SelectedBrand: { label: null, value: null },\n                },\n                () => {\n                  //   this.clearNextState(\"category\");\n                  this.onChangeHandler();\n                }\n              );\n            }}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <label className=\"input-label\">Sub Department</label>\n          <Select\n            isDisabled={this.props.loading || this.props.subClassID ? true : false}\n            name=\"subCategory\"\n            options={\n              this.state.SelectedCategory.value !== null\n                ? (this.props.getAllFilterProp && this.props.getAllFilterProp.subCategory) || []\n                : []\n            }\n            value={this.state.SelectedSubCategory}\n            onChange={(val) => {\n              this.setState(\n                {\n                  SelectedSubCategory: { label: val.label, value: val.value },\n                  SelectedClass: { label: null, value: null },\n                  SelectedSubClass: { label: null, value: null },\n                  SelectedBrand: { label: null, value: null },\n                },\n                () => {\n                  //   this.clearNextState(\"subcategory\");\n                  this.onChangeHandler();\n                }\n              );\n            }}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <label className=\"input-label\">Category</label>\n          <Select\n            isDisabled={this.props.loading || this.props.subClassID ? true : false}\n            name=\"subCategory\"\n            options={\n              this.state.SelectedSubCategory.value !== null\n                ? (this.props.getAllFilterProp && this.props.getAllFilterProp.class) || []\n                : []\n            }\n            value={this.state.SelectedClass}\n            onChange={(val) => {\n              this.setState(\n                {\n                  SelectedClass: { label: val.label, value: val.value },\n                  SelectedSubClass: { label: null, value: null },\n                  SelectedBrand: { label: null, value: null },\n                },\n                () => {\n                  //   this.clearNextState(\"class\");\n                  this.onChangeHandler();\n                }\n              );\n            }}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <label className=\"input-label\">Sub Category</label>\n          <Select\n            isDisabled={this.props.loading || this.props.subClassID ? true : false}\n            name=\"subCategory\"\n            options={\n              this.state.SelectedClass.value !== null\n                ? (this.props.getAllFilterProp && this.props.getAllFilterProp.subClass) || []\n                : []\n            }\n            value={this.state.SelectedSubClass}\n            onChange={(val) => {\n              this.setState(\n                {\n                  SelectedSubClass: { label: val.label, value: val.value },\n                  SelectedBrand: { label: null, value: null },\n                },\n                () => {\n                  //   this.clearNextState(\"subclass\");\n                  this.onChangeHandler();\n                }\n              );\n            }}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <label className=\"input-label\">Brand</label>\n          <Select\n            isDisabled={this.props.loading || this.props.subClassID ? true : false}\n            name=\"subCategory\"\n            options={(this.props.getAllFilterProp && this.props.getAllFilterProp.brand) || []}\n            value={this.state.SelectedBrand}\n            onChange={(val) =>\n              this.setState(\n                {\n                  SelectedBrand: { label: val.label, value: val.value },\n                },\n                this.onChangeHandler('brand')\n              )\n            }\n          />\n        </div>\n\n        {/* {this.props.showSkuSelect && (\n          <React.Fragment>\n            <div className=\"col-md-1\" style={{ marginRight: \"2rem\" }}>\n              <label className=\"input-label\">\n                SKUs Selected {this.props.selectedSkuCount}\n              </label>\n              <button\n                className=\"btn btn-primary\"\n                onClick={this.props.switchSkuModal}\n              >\n                Select SKUs\n              </button>\n            </div>\n            <SkuHistoryModal\n              modalShow={this.props.modalShow}\n              switchSkuModal={this.props.switchSkuModal}\n              startDate={this.props.startDate}\n              endDate={this.props.endDate}\n              nextYear={this.props.nextYear}\n              prevYear={this.props.prevYear}\n            />\n          </React.Fragment>\n        )} */}\n\n        {this.props.showSkuSelect && (\n          <React.Fragment>\n            <div>\n              <label className=\"input-label\"> SKUs {this.state.selectedSkus.length}</label>\n              <button className=\"btn btn-primary\" onClick={() => this.onOpen()}>\n                Select SKUs\n              </button>\n            </div>\n            {this.state.modalShow ? (\n              <SkuHistoryModal\n                skuAPI={this.props.actionSkuLineData}\n                setSelectedSku={this.setSelectedSku}\n                modalShow={this.state.modalShow}\n                switchSkuModal={this.onClose}\n                startDate={this.props.startDate}\n                endDate={this.props.endDate}\n                nextYear={this.props.nextYear}\n                prevYear={this.props.prevYear}\n                selectedSkuData={this.state.selectedSkus}\n                getSelectedSkuData={this.props.getSelectedSkuData}\n                brandID={this.state.SelectedBrand.label}\n                bID={this.state.SelectedBrand.value}\n              />\n            ) : null}\n          </React.Fragment>\n        )}\n        <button\n          onClick={() => {\n            this.onFilterClick();\n          }}\n          disabled={this.state.disableFilterBtn}\n          className=\"btn btn-primary AddSkuFilter-Submit-btn\">\n          Filter\n        </button>\n        {/* <div className=\"col-md-3\"> */}\n\n        {/* </div> */}\n      </div>\n    );\n  }\n}\n\nAddSkuFilter.propTypes = {\n  presistData: PropTypes.bool,\n};\n\nAddSkuFilter.defaultProps = {\n  presistData: false,\n};\n\nconst mapStateToProps = (store) => {\n  return {\n    getAllFilterProp: store.markDownFilter.getAllFilter,\n    loading: store.markDownFilter.loading,\n    // category: store.markDownFilter.getAllFilter.category\n    //   ? store.markDownFilter.getAllFilter.category\n    //   : null\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getCascadingFilters: (val) => dispatch(getCascadingFilters(val)),\n    persistCascadingFilters: (payload) => dispatch(persistCascadingFilters(payload)),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n  // mapActionToProps\n)(withRouter(AddSkuFilter));\n"]},"metadata":{},"sourceType":"module"}