{"ast":null,"code":"import _defineProperty from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/Markdown/components/aiAssisted/AIAssistedPreSeason.js\";\nimport React, { Component } from \"react\";\nimport SKUListCard from \"../SKUListCard\";\nimport InventoryInfo from \"../createMarkdown/inventoryInfo\";\nimport \"../createMarkdown/createMarkdown.css\";\nimport Constraints from \"../createMarkdown/constraints\";\nimport CadenceScenarios from \"../createMarkdown/candenceScenarios\";\nimport Inventory from \"../calenderComponents/inventoryDetails\";\nimport CadenceChartComp from \"../calenderComponents/cadenceChatComponent\";\nimport AutopromoCharts from \"../../../components/AutoPromoCreation/Autopromocharts\";\nimport Modal from \"react-awesome-modal\";\nimport AgGridTableWithCheckbox from \"../AgGridTableWithCheckbox\";\nimport \"./aiAssistedStyle.css\";\nimport Select from \"react-select\";\nimport { getPromoFilters } from \"../../../actions/promo\";\nimport { actionInvDataByFiltered as _actionInvDataByFiltered } from \"../../actions/markdown\";\nimport { connect } from \"react-redux\";\nimport { fetchStoreData as _fetchStoreData, simulateMarkdownCadenceAndSkuList, flushStoreData as _flushStoreData, saveOverAllMarkdown as _saveOverAllMarkdown, resetMakrdownSave as _resetMakrdownSave, saveSkuMarkdown as _saveSkuMarkdown } from \"../../../actions/aiAssistedIn_PreSeasonActions\";\nimport AddSkuFilter from \"../createMarkdown/AddSkuFilter\";\nimport * as moment from \"moment\";\nimport { isEqual } from \"lodash\";\nimport LoaderComponent from \"../../../utils/Loader\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport AlertSuccess from \"../../../utils/AlertMessage/alertSuccess\";\nvar skuListInCadence = [];\n\nvar AIAssistedPreSeason =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AIAssistedPreSeason, _Component);\n\n  function AIAssistedPreSeason(props) {\n    var _this;\n\n    _classCallCheck(this, AIAssistedPreSeason);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AIAssistedPreSeason).call(this, props));\n\n    _this.onExcludeStores = function () {\n      _this.setState({\n        showSKUListPopup: true\n      });\n    };\n\n    _this.showAgGridTableWithCheckboxPopup = function () {\n      _this.setState({\n        showSKUListPopup: false\n      });\n    };\n\n    _this.onChangeCategory = function (category) {\n      _this.setState({\n        category: category\n      });\n    };\n\n    _this.onChangeSubCategory = function (subCategory) {\n      _this.setState({\n        subCategory: subCategory\n      }); // this.props.actionInventoryData({\n      //   category: this.state.category.value,\n      //   subCategory: this.state.subCategory.value\n      // })\n\n    };\n\n    _this.simulateMarkdown = function () {};\n\n    _this.functionUpdateDropdownData = function (idx) {\n      var listCadence = _this.props.simulateData[\"set\".concat(idx)].skuList;\n\n      console.log(\"dropdown\", listCadence);\n      skuListInCadence = listCadence.map(function (data) {\n        return {\n          label: data,\n          value: data,\n          set: \"set\".concat(idx)\n        };\n      });\n      return skuListInCadence;\n    };\n\n    _this.handleWeeklyInventoryDivisionsSku = function (skuData) {\n      console.log(\"asfdlaskdfjabs\", skuData);\n\n      if (_this.state.cadenceConstraintsVal === \"sku\" && skuData !== null) {\n        var inventoryUtilizationData = {};\n        skuData.overall.weekly_markdown.forEach(function (markdown, idx) {\n          if (!inventoryUtilizationData[markdown]) {\n            inventoryUtilizationData[markdown] = [];\n          }\n\n          inventoryUtilizationData[markdown].push(skuData.overall.weekly_inventory[idx]);\n        });\n        var inventoryUtilizationSku = {\n          data: [],\n          totalInventory: skuData.overall.inventory[1],\n          weeklyInventoryData: Object.keys(inventoryUtilizationData).map(function (key) {\n            return inventoryUtilizationData[key];\n          })\n        };\n        Object.keys(inventoryUtilizationData).map(function (key) {\n          inventoryUtilizationSku.data.push(inventoryUtilizationData[key].reduce(function (acc) {\n            var num = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            return acc + num;\n          }));\n        });\n        return inventoryUtilizationSku;\n      }\n    };\n\n    _this.handleWeeklyInventoryDivisions = function (simData) {\n      console.log(\"asfdlaskdfjabs\", simData);\n      var inventoryUtilization = {};\n      var inventoryUtilizationData = {};\n      simData.overall.weekly_markdown.forEach(function (markdown, idx) {\n        if (!inventoryUtilizationData[markdown]) {\n          inventoryUtilizationData[markdown] = [];\n        }\n\n        inventoryUtilizationData[markdown].push(simData.overall.weekly_inventory[idx]);\n      });\n      inventoryUtilization = {\n        data: [],\n        totalInventory: simData.overall.inventory[1],\n        weeklyInventoryData: Object.keys(inventoryUtilizationData).map(function (key) {\n          return inventoryUtilizationData[key];\n        })\n      };\n      Object.keys(inventoryUtilizationData).map(function (key) {\n        inventoryUtilization.data.push(inventoryUtilizationData[key].reduce(function (acc) {\n          var num = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return acc + num;\n        }));\n      });\n      return inventoryUtilization;\n    };\n\n    _this.constraintsCadenceHandler = function (cadence) {\n      if (cadence === \"overall\") {\n        _this.setState({\n          cadenceConstraintsVal: \"overall\",\n          skuList: \"\",\n          simulateData: null,\n          selectedCadenceSet: null,\n          showSkuOrCadence: false\n        });\n\n        return;\n      }\n\n      _this.setState({\n        cadenceConstraintsVal: \"sku\",\n        skuList: \"5348,5364,5685\",\n        simulateData: null,\n        selectedCadenceSet: null,\n        showSkuOrCadence: false\n      });\n    };\n\n    _this.onDatesChange = function (_ref) {\n      var startDate = _ref.startDate,\n          endDate = _ref.endDate;\n\n      _this.setState({\n        dateRange: {\n          startDate: startDate,\n          endDate: endDate\n        }\n      });\n    };\n\n    _this.showSkuOrCadence = function () {\n      var _this$state = _this.state,\n          targetClearenceVal = _this$state.targetClearenceVal,\n          _this$state$dateRange = _this$state.dateRange,\n          startDate = _this$state$dateRange.startDate,\n          endDate = _this$state$dateRange.endDate,\n          inverse = _this$state.inverse,\n          cadenceConstraintsVal = _this$state.cadenceConstraintsVal,\n          marginPercentage = _this$state.marginPercentage;\n      targetClearenceVal = (Number(targetClearenceVal) / 100).toFixed(2);\n      marginPercentage = (Number(marginPercentage) / 100).toFixed(2);\n      console.log(\"asdfnasdjf\", targetClearenceVal, startDate, endDate, inverse, cadenceConstraintsVal);\n\n      if (targetClearenceVal && startDate && endDate && inverse !== null && cadenceConstraintsVal) {\n        _this.setState({\n          showSkuOrCadence: true\n        });\n\n        var start_date = moment(startDate).format().split(\"T\")[0];\n        var end_date = moment(endDate).format().split(\"T\")[0];\n\n        _this.props.fetchCadenceAndSku({\n          markdown: \"\",\n          start_date: start_date,\n          end_date: end_date,\n          inventory: _this.state.currentInventory,\n          skus: _this.state.skuList,\n          burn_rate: new String(targetClearenceVal),\n          margin: new String(marginPercentage),\n          inverse: inverse\n        });\n      }\n    };\n\n    _this.targetClearenceValueHandler = function (e) {\n      _this.setState({\n        targetClearenceVal: e.target.value\n      });\n    };\n\n    _this.marginValueHandler = function (e) {\n      _this.setState({\n        marginPercentage: e.target.value\n      });\n    };\n\n    _this.inverseValueHandler = function (val) {\n      _this.setState({\n        inverse: val\n      });\n    };\n\n    _this.selectCadenceScenariosHandler = function (index) {\n      console.log(\"sflkjasdvfa\", index);\n\n      _this.setState({\n        selectedCadenceSet: _this.state.simulateData[index],\n        activeTab: index\n      });\n    };\n\n    _this.onFilterClick = function (data) {\n      _this.props.fetchStoreData({\n        sku: \"\",\n        category: data.SelectedCategory ? new String(data.SelectedCategory.value) : \"\",\n        subcategory: data.SelectedSubCategory ? new String(data.SelectedSubCategory.value) : \"\",\n        classname: data.SelectedClass ? new String(data.SelectedClass.value) : \"\",\n        subclass: data.SelectedSubClass ? new String(data.SelectedSubClass.value) : \"\",\n        brand: data.SelectedBrand ? new String(data.SelectedBrand.value) : \"\"\n      });\n\n      _this.setState({\n        enableSimulate: false\n      });\n    };\n\n    _this.onSetClick = function (idx) {\n      console.log(\"index came here\", idx);\n\n      var skuListInCadence = _this.functionUpdateDropdownData(idx);\n\n      var selectedSku = skuListInCadence[0];\n\n      _this.setState({\n        selectedIndex: idx,\n        showCadenceAfterGanerate: false,\n        skuDropdownData: skuListInCadence,\n        selectedSku: selectedSku\n      });\n    };\n\n    _this.generateBasedOnSkuSet = function (indx) {\n      console.log(\"index on click generate based on set\", indx);\n\n      _this.setState({\n        selectedCadenceSet: {\n          overall: _this.props.simulateData[\"set\".concat(indx)][\"5348\"]\n        },\n        showCadenceAfterGanerate: true\n      }); // selectedCadenceSet:{ overall: this.props.simulateData[`set${indx}`]['5348'] },\n\n    };\n\n    _this.onSetchangeData = function (val) {\n      var skuvalue = val.value;\n      var skuSet = val.set;\n\n      _this.setState({\n        selectedCadenceSet: {\n          overall: _this.props.simulateData[skuSet][skuvalue]\n        },\n        selectedSku: val,\n        showGraph: !_this.state.showGraph\n      });\n\n      console.log(\"value selected\", val, _this.props.simulateData[skuSet][skuvalue], skuvalue, skuSet);\n    };\n\n    _this.setActiveTab = function (tab) {\n      _this.setState({\n        activeTab: tab\n      });\n    };\n\n    _this.limitClearenceHandler = function (selectedNodesData) {\n      console.log(\"afdmakswrfd\", selectedNodesData);\n\n      if (selectedNodesData.length > 0) {\n        var invData = selectedNodesData.map(function (data) {\n          return data.inv;\n        });\n        var totalInv = invData.reduce(function (acc) {\n          var d = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return acc + d;\n        });\n\n        _this.setState({\n          currentInventory: totalInv,\n          selectedStores: selectedNodesData.length,\n          showSKUListPopup: false\n        });\n      } else {\n        _this.setState({\n          currentInventory: 0,\n          selectedStores: 0,\n          showSKUListPopup: false\n        });\n      } // const invData = selectedNodesData.map((data) => data.inv);\n      // const totalInv = invData.reduce((acc, d = 0) => acc + d);\n\n    };\n\n    _this.onSave = function () {\n      _this.setState({\n        showModalFlag: true\n      });\n\n      setTimeout(function () {\n        _this.setState({\n          showModalFlag: false\n        });\n      }, 2000);\n    };\n\n    _this.onSaveCadenceHandler = function (data) {\n      var cadenceData = [];\n      cadenceData.push(data);\n      var payload = {\n        markdown: \"\",\n        start_date: moment(_this.state.dateRange.startDate).format(\"YYYY-MM-DD\"),\n        end_date: moment(_this.state.dateRange.endDate).format(\"YYYY-MM-DD\"),\n        inventory: _this.state.currentInventory,\n        inverse: _this.state.inverse,\n        skus: \"\",\n        burn_rate: _this.state.targetClearenceVal,\n        saveObj: {\n          data: cadenceData\n        }\n      };\n\n      _this.props.saveOverAllMarkdown(payload);\n\n      console.log(\"adsfkasidtfg2qr3\", payload, data);\n    };\n\n    _this.onSaveSkuCadenceHandler = function (indx) {\n      var payload = {\n        markdown: \"\",\n        start_date: moment(_this.state.dateRange.startDate).format(\"YYYY-MM-DD\"),\n        end_date: moment(_this.state.dateRange.endDate).format(\"YYYY-MM-DD\"),\n        inventory: _this.state.currentInventory,\n        inverse: _this.state.inverse,\n        skus: \"\",\n        burn_rate: _this.state.targetClearenceVal,\n        saveObj: {\n          data: _defineProperty({}, \"set\".concat(indx), _this.props.simulateData[\"set\".concat(indx)])\n        }\n      };\n\n      _this.props.saveSkuMarkdown(payload);\n\n      console.log(\"asdfasodtf6guyasdf\", _this.props.simulateData[\"set\".concat(indx)], payload);\n    };\n\n    _this.deletedSkuListHandler = function (skuId) {\n      console.log(\"asdfashgdfsa\", skuId, _this.state.selectedCadenceSet);\n      var skuDropdownData = _this.state.skuDropdownData;\n      var newSkuDropdownData = skuDropdownData.filter(function (item) {\n        console.log(\"lkafjsldkjfsld\", item.label, skuId, item.label == skuId[0]);\n        return item.label !== skuId[0];\n      });\n      console.log(\"asdfjkjatsr6qwye\", newSkuDropdownData);\n\n      _this.setState({\n        skuDropdownData: newSkuDropdownData,\n        selectedSku: newSkuDropdownData[0]\n      });\n    };\n\n    _this.state = {\n      totalInventory: 0,\n      currentInventory: 0,\n      totalStores: 0,\n      selectedStores: 0,\n      showSkuSelect: false,\n      showSKUListPopup: false,\n      selectedTab: \"PreSeason\",\n      category: {},\n      subCategory: {},\n      categories: [{\n        label: \"abc\",\n        value: \"def\"\n      }],\n      subCategories: [{\n        label: \"abc\",\n        value: \"def\"\n      }],\n      dateRange: {\n        startDate: null,\n        endDate: null\n      },\n      showSkuOrCadence: false,\n      inverse: false,\n      targetClearenceVal: null,\n      simulateData: null,\n      selectedCadenceSet: null,\n      skuList: \"\",\n      inventoryUtilization: null,\n      selectedIndex: 0,\n      skuDropdownData: [],\n      showCadenceAfterGanerate: false,\n      selectedSku: {},\n      activeTab: 0,\n      cadenceConstraintsVal: \"overall\",\n      showGraph: false,\n      showModalFlag: false,\n      enableSimulate: true,\n      marginPercentage: null\n    };\n    return _this;\n  }\n\n  _createClass(AIAssistedPreSeason, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// this.props.actionFilterData();\n      // this.props.fetchStoreData({\n      //   sku: [],\n      //   category: [],\n      //   subcategory: [],\n      //   classname: [],\n      //   subclass: [],\n      //   brand: []\n      // });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      console.log(\"datassss\", prevProps.storeData, this.props.storeData);\n\n      if (!isEqual(prevProps.storeData, this.props.storeData)) {\n        if (this.props.storeData.length > 0) {\n          var invData = this.props.storeData.map(function (data) {\n            return data.inv;\n          });\n          var totalInv = invData.reduce(function (acc) {\n            var d = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            return acc + d;\n          });\n          var totalStores = this.props.storeData.length;\n          this.setState({\n            totalInventory: totalInv,\n            currentInventory: totalInv,\n            selectedStores: totalStores,\n            totalStores: totalStores\n          });\n        } else {\n          this.setState({\n            totalInventory: 0,\n            currentInventory: 0,\n            selectedStores: 0,\n            totalStores: 0\n          });\n        }\n      }\n\n      console.log(\"hasdhfkjsadf\", prevProps.simulateData, this.props.simulateData);\n\n      if (!isEqual(prevProps.simulateData, this.props.simulateData) && Object.keys(this.props.simulateData).length > 0) {\n        console.log(\"asfsadnfas\");\n\n        if (this.state.cadenceConstraintsVal === \"overall\") {\n          this.setState({\n            simulateData: this.props.simulateData,\n            selectedCadenceSet: this.props.simulateData[0]\n          });\n        } else {\n          var _skuListInCadence = null;\n          var selectedSku = null;\n\n          if (this.props.simulateData && Object.keys(this.props.simulateData).length > 0) {\n            _skuListInCadence = this.functionUpdateDropdownData(this.state.selectedIndex);\n            selectedSku = _skuListInCadence[this.state.selectedIndex];\n            this.setState({\n              simulateData: this.props.simulateData,\n              selectedCadenceSet: {\n                overall: this.props.simulateData.set0[\"5348\"]\n              },\n              skuDropdownData: _skuListInCadence,\n              showCadenceAfterGanerate: false,\n              selectedSku: selectedSku\n            });\n          }\n        }\n      } else if (!isEqual(prevProps.simulateData, this.props.simulateData) && this.props.simulateData.length === 0) {\n        console.log(\"asdfk;lkasgdjfads,fkas\", this.props.simulateData);\n        this.setState({\n          simulateData: null,\n          selectedCadenceSet: null\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this,\n          _React$createElement;\n\n      console.log(\"simulateData\", this.state.simulateData);\n      var selectedCadenceSet = this.state.selectedCadenceSet;\n      var inventory = selectedCadenceSet ? selectedCadenceSet.overall.inventory : [0, 0];\n      var margin = selectedCadenceSet ? selectedCadenceSet.overall.margin : [0, 0];\n      var revenue = selectedCadenceSet ? selectedCadenceSet.overall.revenue : [0, 0];\n      var inventoryUtilizationSku = this.handleWeeklyInventoryDivisionsSku(selectedCadenceSet);\n      console.log(\"sku inventory\", inventoryUtilizationSku);\n\n      if (this.props.markdownSaved) {\n        setTimeout(function () {\n          _this2.props.resetMakrdownSave();\n        }, 2000);\n      }\n\n      return React.createElement(LoaderComponent, {\n        loader: this.props.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\",\n        style: {\n          paddingTop: \"3px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"font-size-14 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551\n        },\n        __self: this\n      }, \"Markdown Optimization /\", React.createElement(\"span\", {\n        className: \"font-bold color-blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, \"AI Assisted Pre-Season MD\")), React.createElement(\"hr\", {\n        className: \"mb-2\",\n        style: {\n          marginTop: \"-4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557\n        },\n        __self: this\n      }), React.createElement(AddSkuFilter, {\n        onFilterClick: this.onFilterClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559\n        },\n        __self: this\n      }), React.createElement(InventoryInfo, {\n        totalInventory: this.state.totalInventory,\n        currentInventory: this.state.currentInventory,\n        totalStores: this.state.totalStores,\n        selectedStores: this.state.selectedStores,\n        onExcludeStores: this.onExcludeStores,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567\n        },\n        __self: this\n      }), React.createElement(Constraints, {\n        constraintsCadenceHandler: this.constraintsCadenceHandler,\n        onDatesChange: this.onDatesChange,\n        startDate: this.state.dateRange.startDate,\n        endDate: this.state.dateRange.endDate,\n        targetClearenceValueHandler: this.targetClearenceValueHandler,\n        inverseValueHandler: this.inverseValueHandler,\n        cadenceConstraintsVal: this.state.cadenceConstraintsVal,\n        inverserVal: this.state.inverse,\n        marginValueHandler: this.marginValueHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579\n        },\n        __self: this\n      }), React.createElement(\"div\", (_React$createElement = {\n        className: \"col-md-4\"\n      }, _defineProperty(_React$createElement, \"className\", \"btn-center\"), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 580\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: this.state.enableSimulate,\n        onClick: this.showSkuOrCadence,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, \"Simulate\"))), this.state.showSkuOrCadence && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          marginTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592\n        },\n        __self: this\n      }, this.state.cadenceConstraintsVal === \"overall\" && React.createElement(React.Fragment, null, React.createElement(\"h4\", {\n        className: \"font-size-14 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596\n        },\n        __self: this\n      }, \"Cadence Scenarios\")), React.createElement(\"hr\", {\n        className: \"mb-2\",\n        style: {\n          marginTop: \"-4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 598\n        },\n        __self: this\n      }), this.state.simulateData ? React.createElement(CadenceScenarios, {\n        simulateData: this.state.simulateData,\n        selectCadenceScenariosHandler: this.selectCadenceScenariosHandler,\n        activeCadence: this.state.activeTab,\n        onSaveCadenceHandler: this.onSaveCadenceHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }, \"No data found\")), this.state.cadenceConstraintsVal === \"sku\" && React.createElement(React.Fragment, null, React.createElement(\"h4\", {\n        className: \"font-size-14 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616\n        },\n        __self: this\n      }, \"Sub Category List\")), React.createElement(\"hr\", {\n        className: \"mb-2\",\n        style: {\n          marginTop: \"-4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      }), this.state.simulateData ? React.createElement(SKUListCard, {\n        simulateData: this.state.simulateData,\n        onClickCard: this.onSetClick,\n        selectedIndex: this.state.selectedIndex,\n        deletedSkuListHandler: this.deletedSkuListHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 627\n        },\n        __self: this\n      }, \"No Data Found\"), React.createElement(\"div\", {\n        className: \"btn-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: this.state.simulateData ? false : true,\n        onClick: function onClick() {\n          return _this2.generateBasedOnSkuSet(_this2.state.selectedIndex);\n        },\n        style: {\n          marginRight: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631\n        },\n        __self: this\n      }, \"Generate Cadence\"), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: this.state.simulateData ? false : true,\n        onClick: function onClick() {\n          return _this2.onSaveSkuCadenceHandler(_this2.state.selectedIndex);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641\n        },\n        __self: this\n      }, \"Save\"))))), this.state.cadenceConstraintsVal === \"sku\" ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 658\n        },\n        __self: this\n      }, this.state.showCadenceAfterGanerate ? React.createElement(\"div\", {\n        className: \"chart-Ai \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 660\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          marginTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 661\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"font-size-14 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 662\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 663\n        },\n        __self: this\n      }, \"Set 0\", this.state.selectedIndex + 1, \" Cadence\")), React.createElement(\"hr\", {\n        className: \"mb-2\",\n        style: {\n          marginTop: \"-4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 667\n        },\n        __self: this\n      }), this.state.cadenceConstraintsVal === \"sku\" ? React.createElement(\"div\", {\n        className: \"cadence-chart-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 669\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 670\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-3 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 671\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 673\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 674\n        },\n        __self: this\n      }, \"SKU\")), React.createElement(\"div\", {\n        className: \"col-md-9\",\n        style: {\n          marginLeft: \"-29px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 676\n        },\n        __self: this\n      }, React.createElement(Select, {\n        id: \"shopSelect\",\n        placeholder: \"Select Sku\",\n        options: this.state.skuDropdownData // isDisabled={(this.state.formData.subCategory)?true:false}\n        ,\n        value: this.state.selectedSku,\n        onChange: function onChange(val) {\n          _this2.onSetchangeData(val);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680\n        },\n        __self: this\n      }))))), this.state.selectedCadenceSet && this.state.showGraph === true && React.createElement(CadenceChartComp, {\n        selectedCadenceSet: this.state.selectedCadenceSet,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 697\n        },\n        __self: this\n      }), this.state.selectedCadenceSet && this.state.showGraph === false && React.createElement(CadenceChartComp, {\n        selectedCadenceSet: this.state.selectedCadenceSet,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706\n        },\n        __self: this\n      }), React.createElement(Inventory, {\n        inventoryUtilization: inventoryUtilizationSku,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 712\n        },\n        __self: this\n      })) : null)) : null, this.state.showCadenceAfterGanerate ? React.createElement(\"div\", {\n        className: \"card mt-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721\n        },\n        __self: this\n      }, this.state.selectedCadenceSet && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"row mt-20 j-c-even\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 724\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 725\n        },\n        __self: this\n      }, React.createElement(AutopromoCharts, {\n        title: \"Quanity\",\n        width: \"16.5rem\",\n        height: \"328px\",\n        data: [inventory[0], inventory[1]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 726\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 733\n        },\n        __self: this\n      }, React.createElement(AutopromoCharts, {\n        title: \"Revenue\",\n        width: \"16.5rem\",\n        height: \"328px\",\n        data: [margin[0], margin[1]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 734\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741\n        },\n        __self: this\n      }, React.createElement(AutopromoCharts, {\n        title: \"Margin\",\n        width: \"16.5rem\",\n        height: \"328px\",\n        data: [revenue[0], revenue[1]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 742\n        },\n        __self: this\n      }))))) : null) : React.createElement(\"div\", {\n        className: \"chart-Ai \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          marginTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 757\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"font-size-14 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 758\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        activeKey: this.state.activeTab,\n        onSelect: function onSelect(tab) {\n          return _this2.setActiveTab(tab);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 759\n        },\n        __self: this\n      }, this.state.simulateData && this.state.simulateData.map(function (simData, idx) {\n        var inventoryUtilization = _this2.handleWeeklyInventoryDivisions(simData);\n\n        console.log(\"overall inventory\", inventoryUtilization);\n        var inventory = simData.overall.inventory;\n        var margin = simData.overall.margin;\n        var revenue = simData.overall.revenue;\n        console.log(\"asfmasdfas\", simData, idx == _this2.state.activeTab, idx, _this2.state.activeTab);\n        return React.createElement(Tab, {\n          eventKey: idx,\n          title: \"Scenario \".concat(idx + 1),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 783\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cadence-chart-div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 784\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 785\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-3 \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 786\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 787\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 788\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-9\",\n          style: {\n            marginLeft: \"-29px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 789\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"col-md-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 795\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-3 text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 796\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 797\n          },\n          __self: this\n        })), idx == _this2.state.activeTab && React.createElement(React.Fragment, null, React.createElement(CadenceChartComp, {\n          selectedCadenceSet: simData,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 807\n          },\n          __self: this\n        }), React.createElement(Inventory, {\n          inventoryUtilization: inventoryUtilization,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 810\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"card mt-20\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 818\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row mt-20 j-c-even\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 819\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 820\n          },\n          __self: this\n        }, idx == _this2.state.activeTab && React.createElement(AutopromoCharts, {\n          title: \"Quanity\",\n          width: \"16.5rem\",\n          height: \"328px\",\n          data: [inventory[0], inventory[1]],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 822\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-md-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 830\n          },\n          __self: this\n        }, idx == _this2.state.activeTab && React.createElement(AutopromoCharts, {\n          title: \"Revenue\",\n          width: \"16.5rem\",\n          height: \"328px\",\n          data: [revenue[0], revenue[1]],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 832\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-md-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 840\n          },\n          __self: this\n        }, idx == _this2.state.activeTab && React.createElement(AutopromoCharts, {\n          title: \"Margin\",\n          width: \"16.5rem\",\n          height: \"328px\",\n          data: [margin[0], margin[1]],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 842\n          },\n          __self: this\n        })))));\n      })))))), React.createElement(Modal, {\n        visible: this.state.showSKUListPopup,\n        effect: \"fadeInDown\",\n        onClickAway: function onClickAway() {\n          return _this2.showAgGridTableWithCheckboxPopup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 870\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 875\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 876\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 877\n        },\n        __self: this\n      }, \"Select Stores\", React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this2.showAgGridTableWithCheckboxPopup();\n        },\n        className: \"pull-right select-store-span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 879\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        \"aria-hidden\": \"true\",\n        style: {\n          fontSize: \"22px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 883\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 890\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ai-pre-grid-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 893\n        },\n        __self: this\n      }, this.props.storeData && this.props.storeData.length > 0 && React.createElement(AgGridTableWithCheckbox, {\n        inventoryData: this.props.storeData,\n        rowSelection: \"multiple\",\n        initialAllRowSelected: true,\n        limitClearenceHandler: this.limitClearenceHandler,\n        flushStoreData: this.props.flushStoreData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 895\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"alertDivs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 909\n        },\n        __self: this\n      }, this.props.markdownSaved && React.createElement(AlertSuccess, {\n        message: this.state.cadenceConstraintsVal === \"overall\" ? \"Cadence Scenario \".concat(this.state.activeTab + 1, \" Saved Successfully\") : \"Cadence Set \".concat(this.state.selectedIndex + 1, \" Saved Successfully\"),\n        show: this.props.markdownSaved,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 911\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return AIAssistedPreSeason;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    filterData: state.filterData,\n    storeData: state.aiAssitedIn_PreSeason.storeData,\n    simulateData: state.aiAssitedIn_PreSeason.simulateData,\n    loading: state.aiAssitedIn_PreSeason.loading,\n    markdownSaved: state.aiAssitedIn_PreSeason.markdownSaved\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actionFilterData: function actionFilterData(val) {\n      return dispatch(getPromoFilters(val));\n    },\n    actionInvDataByFiltered: function actionInvDataByFiltered(val) {\n      return dispatch(_actionInvDataByFiltered(val));\n    },\n    fetchStoreData: function fetchStoreData(payload) {\n      return dispatch(_fetchStoreData(payload));\n    },\n    fetchCadenceAndSku: function fetchCadenceAndSku(payload) {\n      return dispatch(simulateMarkdownCadenceAndSkuList(payload));\n    },\n    flushStoreData: function flushStoreData() {\n      return dispatch(_flushStoreData());\n    },\n    saveOverAllMarkdown: function saveOverAllMarkdown(payload) {\n      return dispatch(_saveOverAllMarkdown(payload));\n    },\n    resetMakrdownSave: function resetMakrdownSave() {\n      return dispatch(_resetMakrdownSave());\n    },\n    saveSkuMarkdown: function saveSkuMarkdown(payload) {\n      return dispatch(_saveSkuMarkdown(payload));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AIAssistedPreSeason);","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/Markdown/components/aiAssisted/AIAssistedPreSeason.js"],"names":["React","Component","SKUListCard","InventoryInfo","Constraints","CadenceScenarios","Inventory","CadenceChartComp","AutopromoCharts","Modal","AgGridTableWithCheckbox","Select","getPromoFilters","actionInvDataByFiltered","connect","fetchStoreData","simulateMarkdownCadenceAndSkuList","flushStoreData","saveOverAllMarkdown","resetMakrdownSave","saveSkuMarkdown","AddSkuFilter","moment","isEqual","LoaderComponent","Tabs","Tab","AlertSuccess","skuListInCadence","AIAssistedPreSeason","props","onExcludeStores","setState","showSKUListPopup","showAgGridTableWithCheckboxPopup","onChangeCategory","category","onChangeSubCategory","subCategory","simulateMarkdown","functionUpdateDropdownData","idx","listCadence","simulateData","skuList","console","log","map","data","label","value","set","handleWeeklyInventoryDivisionsSku","skuData","state","cadenceConstraintsVal","inventoryUtilizationData","overall","weekly_markdown","forEach","markdown","push","weekly_inventory","inventoryUtilizationSku","totalInventory","inventory","weeklyInventoryData","Object","keys","key","reduce","acc","num","handleWeeklyInventoryDivisions","simData","inventoryUtilization","constraintsCadenceHandler","cadence","selectedCadenceSet","showSkuOrCadence","onDatesChange","startDate","endDate","dateRange","targetClearenceVal","inverse","marginPercentage","Number","toFixed","start_date","format","split","end_date","fetchCadenceAndSku","currentInventory","skus","burn_rate","String","margin","targetClearenceValueHandler","e","target","marginValueHandler","inverseValueHandler","val","selectCadenceScenariosHandler","index","activeTab","onFilterClick","sku","SelectedCategory","subcategory","SelectedSubCategory","classname","SelectedClass","subclass","SelectedSubClass","brand","SelectedBrand","enableSimulate","onSetClick","selectedSku","selectedIndex","showCadenceAfterGanerate","skuDropdownData","generateBasedOnSkuSet","indx","onSetchangeData","skuvalue","skuSet","showGraph","setActiveTab","tab","limitClearenceHandler","selectedNodesData","length","invData","inv","totalInv","d","selectedStores","onSave","showModalFlag","setTimeout","onSaveCadenceHandler","cadenceData","payload","saveObj","onSaveSkuCadenceHandler","deletedSkuListHandler","skuId","newSkuDropdownData","filter","item","totalStores","showSkuSelect","selectedTab","categories","subCategories","prevProps","storeData","set0","revenue","markdownSaved","loading","paddingTop","marginTop","marginRight","marginLeft","fontSize","mapStateToProps","filterData","aiAssitedIn_PreSeason","mapDispatchToProps","dispatch","actionFilterData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SKUListCard from \"../SKUListCard\";\nimport InventoryInfo from \"../createMarkdown/inventoryInfo\";\nimport \"../createMarkdown/createMarkdown.css\";\nimport Constraints from \"../createMarkdown/constraints\";\nimport CadenceScenarios from \"../createMarkdown/candenceScenarios\";\nimport Inventory from \"../calenderComponents/inventoryDetails\";\nimport CadenceChartComp from \"../calenderComponents/cadenceChatComponent\";\nimport AutopromoCharts from \"../../../components/AutoPromoCreation/Autopromocharts\";\nimport Modal from \"react-awesome-modal\";\nimport AgGridTableWithCheckbox from \"../AgGridTableWithCheckbox\";\nimport \"./aiAssistedStyle.css\";\nimport Select from \"react-select\";\nimport { getPromoFilters } from \"../../../actions/promo\";\nimport { actionInvDataByFiltered } from \"../../actions/markdown\";\nimport { connect } from \"react-redux\";\nimport {\n  fetchStoreData,\n  simulateMarkdownCadenceAndSkuList,\n  flushStoreData,\n  saveOverAllMarkdown,\n  resetMakrdownSave,\n  saveSkuMarkdown\n} from \"../../../actions/aiAssistedIn_PreSeasonActions\";\nimport AddSkuFilter from \"../createMarkdown/AddSkuFilter\";\nimport * as moment from \"moment\";\nimport { isEqual } from \"lodash\";\nimport LoaderComponent from \"../../../utils/Loader\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\n\nimport AlertSuccess from \"../../../utils/AlertMessage/alertSuccess\";\n\nlet skuListInCadence = [];\n\nclass AIAssistedPreSeason extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      totalInventory: 0,\n      currentInventory: 0,\n      totalStores: 0,\n      selectedStores: 0,\n      showSkuSelect: false,\n      showSKUListPopup: false,\n      selectedTab: \"PreSeason\",\n      category: {},\n      subCategory: {},\n      categories: [\n        {\n          label: \"abc\",\n          value: \"def\"\n        }\n      ],\n      subCategories: [\n        {\n          label: \"abc\",\n          value: \"def\"\n        }\n      ],\n      dateRange: {\n        startDate: null,\n        endDate: null\n      },\n      showSkuOrCadence: false,\n      inverse: false,\n      targetClearenceVal: null,\n      simulateData: null,\n      selectedCadenceSet: null,\n      skuList: \"\",\n      inventoryUtilization: null,\n      selectedIndex: 0,\n      skuDropdownData: [],\n      showCadenceAfterGanerate: false,\n      selectedSku: {},\n      activeTab: 0,\n      cadenceConstraintsVal: \"overall\",\n      showGraph: false,\n      showModalFlag: false,\n      enableSimulate: true,\n      marginPercentage: null\n    };\n  }\n\n  onExcludeStores = () => {\n    this.setState({ showSKUListPopup: true });\n  };\n\n  showAgGridTableWithCheckboxPopup = () => {\n    this.setState({ showSKUListPopup: false });\n  };\n  onChangeCategory = category => {\n    this.setState({ category });\n  };\n  onChangeSubCategory = subCategory => {\n    this.setState({ subCategory });\n    // this.props.actionInventoryData({\n    //   category: this.state.category.value,\n    //   subCategory: this.state.subCategory.value\n    // })\n  };\n  simulateMarkdown = () => {};\n\n  componentDidMount() {\n    // this.props.actionFilterData();\n    // this.props.fetchStoreData({\n    //   sku: [],\n    //   category: [],\n    //   subcategory: [],\n    //   classname: [],\n    //   subclass: [],\n    //   brand: []\n    // });\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(\"datassss\", prevProps.storeData, this.props.storeData);\n\n    if (!isEqual(prevProps.storeData, this.props.storeData)) {\n      if (this.props.storeData.length > 0) {\n        const invData = this.props.storeData.map(data => data.inv);\n        const totalInv = invData.reduce((acc, d = 0) => acc + d);\n        const totalStores = this.props.storeData.length;\n        this.setState({\n          totalInventory: totalInv,\n          currentInventory: totalInv,\n          selectedStores: totalStores,\n          totalStores: totalStores\n        });\n      } else {\n        this.setState({\n          totalInventory: 0,\n          currentInventory: 0,\n          selectedStores: 0,\n          totalStores: 0\n        });\n      }\n    }\n\n    console.log(\n      \"hasdhfkjsadf\",\n      prevProps.simulateData,\n      this.props.simulateData\n    );\n\n    if (\n      !isEqual(prevProps.simulateData, this.props.simulateData) &&\n      Object.keys(this.props.simulateData).length > 0\n    ) {\n      console.log(\"asfsadnfas\");\n      if (this.state.cadenceConstraintsVal === \"overall\") {\n        this.setState({\n          simulateData: this.props.simulateData,\n          selectedCadenceSet: this.props.simulateData[0]\n        });\n      } else {\n        let skuListInCadence = null;\n        let selectedSku = null;\n        if (\n          this.props.simulateData &&\n          Object.keys(this.props.simulateData).length > 0\n        ) {\n          skuListInCadence = this.functionUpdateDropdownData(\n            this.state.selectedIndex\n          );\n          selectedSku = skuListInCadence[this.state.selectedIndex];\n          this.setState({\n            simulateData: this.props.simulateData,\n            selectedCadenceSet: {\n              overall: this.props.simulateData.set0[\"5348\"]\n            },\n            skuDropdownData: skuListInCadence,\n            showCadenceAfterGanerate: false,\n            selectedSku: selectedSku\n          });\n        }\n      }\n    } else if (\n      !isEqual(prevProps.simulateData, this.props.simulateData) &&\n      this.props.simulateData.length === 0\n    ) {\n      console.log(\"asdfk;lkasgdjfads,fkas\", this.props.simulateData);\n      this.setState({\n        simulateData: null,\n        selectedCadenceSet: null\n      });\n    }\n  }\n\n  functionUpdateDropdownData = idx => {\n    let listCadence = this.props.simulateData[`set${idx}`].skuList;\n    console.log(\"dropdown\", listCadence);\n\n    skuListInCadence = listCadence.map(data => {\n      return {\n        label: data,\n        value: data,\n        set: `set${idx}`\n      };\n    });\n    return skuListInCadence;\n  };\n\n  handleWeeklyInventoryDivisionsSku = skuData => {\n    console.log(\"asfdlaskdfjabs\", skuData);\n    if (this.state.cadenceConstraintsVal === \"sku\" && skuData !== null) {\n      let inventoryUtilizationData = {};\n      skuData.overall.weekly_markdown.forEach((markdown, idx) => {\n        if (!inventoryUtilizationData[markdown]) {\n          inventoryUtilizationData[markdown] = [];\n        }\n        inventoryUtilizationData[markdown].push(\n          skuData.overall.weekly_inventory[idx]\n        );\n      });\n      let inventoryUtilizationSku = {\n        data: [],\n        totalInventory: skuData.overall.inventory[1],\n        weeklyInventoryData: Object.keys(inventoryUtilizationData).map(\n          key => inventoryUtilizationData[key]\n        )\n      };\n\n      Object.keys(inventoryUtilizationData).map(key => {\n        inventoryUtilizationSku.data.push(\n          inventoryUtilizationData[key].reduce((acc, num = 0) => acc + num)\n        );\n      });\n      return inventoryUtilizationSku;\n    }\n  };\n\n  handleWeeklyInventoryDivisions = simData => {\n    console.log(\"asfdlaskdfjabs\", simData);\n    let inventoryUtilization = {};\n    let inventoryUtilizationData = {};\n    simData.overall.weekly_markdown.forEach((markdown, idx) => {\n      if (!inventoryUtilizationData[markdown]) {\n        inventoryUtilizationData[markdown] = [];\n      }\n      inventoryUtilizationData[markdown].push(\n        simData.overall.weekly_inventory[idx]\n      );\n    });\n\n    inventoryUtilization = {\n      data: [],\n      totalInventory: simData.overall.inventory[1],\n      weeklyInventoryData: Object.keys(inventoryUtilizationData).map(\n        key => inventoryUtilizationData[key]\n      )\n    };\n\n    Object.keys(inventoryUtilizationData).map(key => {\n      inventoryUtilization.data.push(\n        inventoryUtilizationData[key].reduce((acc, num = 0) => acc + num)\n      );\n    });\n\n    return inventoryUtilization;\n  };\n  constraintsCadenceHandler = cadence => {\n    if (cadence === \"overall\") {\n      this.setState({\n        cadenceConstraintsVal: \"overall\",\n        skuList: \"\",\n        simulateData: null,\n        selectedCadenceSet: null,\n        showSkuOrCadence: false\n      });\n      return;\n    }\n    this.setState({\n      cadenceConstraintsVal: \"sku\",\n      skuList: \"5348,5364,5685\",\n      simulateData: null,\n      selectedCadenceSet: null,\n      showSkuOrCadence: false\n    });\n  };\n  onDatesChange = ({ startDate, endDate }) => {\n    this.setState({\n      dateRange: {\n        startDate,\n        endDate\n      }\n    });\n  };\n\n  showSkuOrCadence = () => {\n    let {\n      targetClearenceVal,\n      dateRange: { startDate, endDate },\n      inverse,\n      cadenceConstraintsVal,\n      marginPercentage\n    } = this.state;\n    targetClearenceVal = (Number(targetClearenceVal) / 100).toFixed(2);\n    marginPercentage = (Number(marginPercentage) / 100).toFixed(2);\n    console.log(\n      \"asdfnasdjf\",\n      targetClearenceVal,\n      startDate,\n      endDate,\n      inverse,\n      cadenceConstraintsVal\n    );\n    if (\n      targetClearenceVal &&\n      startDate &&\n      endDate &&\n      inverse !== null &&\n      cadenceConstraintsVal\n    ) {\n      this.setState({\n        showSkuOrCadence: true\n      });\n\n      let start_date = moment(startDate)\n        .format()\n        .split(\"T\")[0];\n      let end_date = moment(endDate)\n        .format()\n        .split(\"T\")[0];\n\n      this.props.fetchCadenceAndSku({\n        markdown: \"\",\n        start_date: start_date,\n        end_date: end_date,\n        inventory: this.state.currentInventory,\n        skus: this.state.skuList,\n        burn_rate: new String(targetClearenceVal),\n        margin: new String(marginPercentage),\n        inverse: inverse\n      });\n    }\n  };\n\n  targetClearenceValueHandler = e => {\n    this.setState({\n      targetClearenceVal: e.target.value\n    });\n  };\n\n  marginValueHandler = e => {\n    this.setState({\n      marginPercentage: e.target.value\n    });\n  };\n\n  inverseValueHandler = val => {\n    this.setState({\n      inverse: val\n    });\n  };\n\n  selectCadenceScenariosHandler = index => {\n    console.log(\"sflkjasdvfa\", index);\n    this.setState({\n      selectedCadenceSet: this.state.simulateData[index],\n      activeTab: index\n    });\n  };\n\n  onFilterClick = data => {\n    this.props.fetchStoreData({\n      sku: \"\",\n      category: data.SelectedCategory\n        ? new String(data.SelectedCategory.value)\n        : \"\",\n      subcategory: data.SelectedSubCategory\n        ? new String(data.SelectedSubCategory.value)\n        : \"\",\n      classname: data.SelectedClass ? new String(data.SelectedClass.value) : \"\",\n      subclass: data.SelectedSubClass\n        ? new String(data.SelectedSubClass.value)\n        : \"\",\n      brand: data.SelectedBrand ? new String(data.SelectedBrand.value) : \"\"\n    });\n    this.setState({\n      enableSimulate: false\n    });\n  };\n\n  onSetClick = idx => {\n    console.log(\"index came here\", idx);\n    let skuListInCadence = this.functionUpdateDropdownData(idx);\n    let selectedSku = skuListInCadence[0];\n    this.setState({\n      selectedIndex: idx,\n      showCadenceAfterGanerate: false,\n      skuDropdownData: skuListInCadence,\n      selectedSku: selectedSku\n    });\n  };\n\n  generateBasedOnSkuSet = indx => {\n    console.log(\"index on click generate based on set\", indx);\n    this.setState({\n      selectedCadenceSet: {\n        overall: this.props.simulateData[`set${indx}`][\"5348\"]\n      },\n      showCadenceAfterGanerate: true\n    });\n    // selectedCadenceSet:{ overall: this.props.simulateData[`set${indx}`]['5348'] },\n  };\n\n  onSetchangeData = val => {\n    let skuvalue = val.value;\n    let skuSet = val.set;\n    this.setState({\n      selectedCadenceSet: {\n        overall: this.props.simulateData[skuSet][skuvalue]\n      },\n      selectedSku: val,\n      showGraph: !this.state.showGraph\n    });\n    console.log(\n      \"value selected\",\n      val,\n      this.props.simulateData[skuSet][skuvalue],\n      skuvalue,\n      skuSet\n    );\n  };\n\n  setActiveTab = tab => {\n    this.setState({\n      activeTab: tab\n    });\n  };\n\n  limitClearenceHandler = selectedNodesData => {\n    console.log(\"afdmakswrfd\", selectedNodesData);\n    if (selectedNodesData.length > 0) {\n      const invData = selectedNodesData.map(data => data.inv);\n      const totalInv = invData.reduce((acc, d = 0) => acc + d);\n      this.setState({\n        currentInventory: totalInv,\n        selectedStores: selectedNodesData.length,\n        showSKUListPopup: false\n      });\n    } else {\n      this.setState({\n        currentInventory: 0,\n        selectedStores: 0,\n        showSKUListPopup: false\n      });\n    }\n    // const invData = selectedNodesData.map((data) => data.inv);\n    // const totalInv = invData.reduce((acc, d = 0) => acc + d);\n  };\n\n  onSave = () => {\n    this.setState({\n      showModalFlag: true\n    });\n    setTimeout(() => {\n      this.setState({\n        showModalFlag: false\n      });\n    }, 2000);\n  };\n\n  onSaveCadenceHandler = data => {\n    const cadenceData = [];\n    cadenceData.push(data);\n    const payload = {\n      markdown: \"\",\n      start_date: moment(this.state.dateRange.startDate).format(\"YYYY-MM-DD\"),\n      end_date: moment(this.state.dateRange.endDate).format(\"YYYY-MM-DD\"),\n      inventory: this.state.currentInventory,\n      inverse: this.state.inverse,\n      skus: \"\",\n      burn_rate: this.state.targetClearenceVal,\n      saveObj: {\n        data: cadenceData\n      }\n    };\n    this.props.saveOverAllMarkdown(payload);\n    console.log(\"adsfkasidtfg2qr3\", payload, data);\n  };\n\n  onSaveSkuCadenceHandler = indx => {\n    const payload = {\n      markdown: \"\",\n      start_date: moment(this.state.dateRange.startDate).format(\"YYYY-MM-DD\"),\n      end_date: moment(this.state.dateRange.endDate).format(\"YYYY-MM-DD\"),\n      inventory: this.state.currentInventory,\n      inverse: this.state.inverse,\n      skus: \"\",\n      burn_rate: this.state.targetClearenceVal,\n      saveObj: {\n        data: {\n          [`set${indx}`]: this.props.simulateData[`set${indx}`]\n        }\n      }\n    };\n    this.props.saveSkuMarkdown(payload);\n    console.log(\n      \"asdfasodtf6guyasdf\",\n      this.props.simulateData[`set${indx}`],\n      payload\n    );\n  };\n\n  deletedSkuListHandler = skuId => {\n    console.log(\"asdfashgdfsa\", skuId, this.state.selectedCadenceSet);\n    const { skuDropdownData } = this.state;\n    const newSkuDropdownData = skuDropdownData.filter(item => {\n      console.log(\"lkafjsldkjfsld\", item.label, skuId, item.label == skuId[0]);\n      return item.label !== skuId[0];\n    });\n    console.log(\"asdfjkjatsr6qwye\", newSkuDropdownData);\n    this.setState({\n      skuDropdownData: newSkuDropdownData,\n      selectedSku: newSkuDropdownData[0]\n    });\n  };\n\n  render() {\n    console.log(\"simulateData\", this.state.simulateData);\n\n    const { selectedCadenceSet } = this.state;\n    const inventory = selectedCadenceSet\n      ? selectedCadenceSet.overall.inventory\n      : [0, 0];\n    const margin = selectedCadenceSet\n      ? selectedCadenceSet.overall.margin\n      : [0, 0];\n    const revenue = selectedCadenceSet\n      ? selectedCadenceSet.overall.revenue\n      : [0, 0];\n\n    let inventoryUtilizationSku = this.handleWeeklyInventoryDivisionsSku(\n      selectedCadenceSet\n    );\n\n    console.log(\"sku inventory\", inventoryUtilizationSku);\n\n    if (this.props.markdownSaved) {\n      setTimeout(() => {\n        this.props.resetMakrdownSave();\n      }, 2000);\n    }\n\n    return (\n      <LoaderComponent loader={this.props.loading}>\n        <div className=\"\" style={{ paddingTop: \"3px\" }}>\n          <div className=\"card\">\n            <h4 className=\"font-size-14 markdown-heading\">\n              Markdown Optimization /\n              <span className=\"font-bold color-blue\">\n                AI Assisted Pre-Season MD\n              </span>\n            </h4>\n            <hr className=\"mb-2\" style={{ marginTop: \"-4px\" }} />\n            <AddSkuFilter onFilterClick={this.onFilterClick} />\n            <hr className=\"dotted-line\" />\n            <InventoryInfo\n              totalInventory={this.state.totalInventory}\n              currentInventory={this.state.currentInventory}\n              totalStores={this.state.totalStores}\n              selectedStores={this.state.selectedStores}\n              onExcludeStores={this.onExcludeStores}\n            />\n            <hr className=\"dotted-line\" />\n            <Constraints\n              constraintsCadenceHandler={this.constraintsCadenceHandler}\n              onDatesChange={this.onDatesChange}\n              startDate={this.state.dateRange.startDate}\n              endDate={this.state.dateRange.endDate}\n              targetClearenceValueHandler={this.targetClearenceValueHandler}\n              inverseValueHandler={this.inverseValueHandler}\n              cadenceConstraintsVal={this.state.cadenceConstraintsVal}\n              inverserVal={this.state.inverse}\n              marginValueHandler={this.marginValueHandler}\n            />\n            <hr className=\"dotted-line\" />\n            <div className=\"col-md-4\" className=\"btn-center\">\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.enableSimulate}\n                onClick={this.showSkuOrCadence}\n              >\n                Simulate\n              </button>\n            </div>\n          </div>\n          {this.state.showSkuOrCadence && (\n            <>\n              <div className=\"card\" style={{ marginTop: \"20px\" }}>\n                {this.state.cadenceConstraintsVal === \"overall\" && (\n                  <>\n                    <h4 className=\"font-size-14 markdown-heading\">\n                      <span className=\"font-bold\">Cadence Scenarios</span>\n                    </h4>\n                    <hr className=\"mb-2\" style={{ marginTop: \"-4px\" }} />\n                    {this.state.simulateData ? (\n                      <CadenceScenarios\n                        simulateData={this.state.simulateData}\n                        selectCadenceScenariosHandler={\n                          this.selectCadenceScenariosHandler\n                        }\n                        activeCadence={this.state.activeTab}\n                        onSaveCadenceHandler={this.onSaveCadenceHandler}\n                      />\n                    ) : (\n                      <div className=\"text-center\">No data found</div>\n                    )}\n                  </>\n                )}\n                {this.state.cadenceConstraintsVal === \"sku\" && (\n                  <>\n                    <h4 className=\"font-size-14 markdown-heading\">\n                      <span className=\"font-bold\">Sub Category List</span>\n                    </h4>\n                    <hr className=\"mb-2\" style={{ marginTop: \"-4px\" }} />\n                    {this.state.simulateData ? (\n                      <SKUListCard\n                        simulateData={this.state.simulateData}\n                        onClickCard={this.onSetClick}\n                        selectedIndex={this.state.selectedIndex}\n                        deletedSkuListHandler={this.deletedSkuListHandler}\n                      />\n                    ) : (\n                      <div className=\"text-center\">No Data Found</div>\n                    )}\n                    <div className=\"btn-center\">\n                      <div>\n                        <button\n                          className=\"btn btn-primary\"\n                          disabled={this.state.simulateData ? false : true}\n                          onClick={() =>\n                            this.generateBasedOnSkuSet(this.state.selectedIndex)\n                          }\n                          style={{ marginRight: \"10px\" }}\n                        >\n                          Generate Cadence\n                        </button>\n                        <button\n                          className=\"btn btn-primary\"\n                          disabled={this.state.simulateData ? false : true}\n                          onClick={() =>\n                            this.onSaveSkuCadenceHandler(\n                              this.state.selectedIndex\n                            )\n                          }\n                        >\n                          Save\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n              {this.state.cadenceConstraintsVal === \"sku\" ? (\n                <div>\n                  {this.state.showCadenceAfterGanerate ? (\n                    <div className=\"chart-Ai \">\n                      <div className=\"card\" style={{ marginTop: \"20px\" }}>\n                        <h4 className=\"font-size-14 markdown-heading\">\n                          <span className=\"font-bold\">\n                            Set 0{this.state.selectedIndex + 1} Cadence\n                          </span>\n                        </h4>\n                        <hr className=\"mb-2\" style={{ marginTop: \"-4px\" }} />\n                        {this.state.cadenceConstraintsVal === \"sku\" ? (\n                          <div className=\"cadence-chart-div\">\n                            <div className=\"row\">\n                              <div className=\"col-md-3 \">\n                                <div className=\"row\">\n                                  <div className=\"col-md-3\">\n                                    <span>SKU</span>\n                                  </div>\n                                  <div\n                                    className=\"col-md-9\"\n                                    style={{ marginLeft: \"-29px\" }}\n                                  >\n                                    <Select\n                                      id=\"shopSelect\"\n                                      placeholder=\"Select Sku\"\n                                      options={this.state.skuDropdownData}\n                                      // isDisabled={(this.state.formData.subCategory)?true:false}\n                                      value={this.state.selectedSku}\n                                      onChange={val => {\n                                        this.onSetchangeData(val);\n                                      }}\n                                    />\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n\n                            {this.state.selectedCadenceSet &&\n                              this.state.showGraph === true && (\n                                <CadenceChartComp\n                                  selectedCadenceSet={\n                                    this.state.selectedCadenceSet\n                                  }\n                                />\n                              )}\n\n                            {this.state.selectedCadenceSet &&\n                              this.state.showGraph === false && (\n                                <CadenceChartComp\n                                  selectedCadenceSet={\n                                    this.state.selectedCadenceSet\n                                  }\n                                />\n                              )}\n                            <Inventory\n                              inventoryUtilization={inventoryUtilizationSku}\n                            />\n                          </div>\n                        ) : null}\n                      </div>\n                    </div>\n                  ) : null}\n                  {this.state.showCadenceAfterGanerate ? (\n                    <div className=\"card mt-20\">\n                      {this.state.selectedCadenceSet && (\n                        <>\n                          <div className=\"row mt-20 j-c-even\">\n                            <div className=\"col-md-3\">\n                              <AutopromoCharts\n                                title=\"Quanity\"\n                                width=\"16.5rem\"\n                                height=\"328px\"\n                                data={[inventory[0], inventory[1]]}\n                              />\n                            </div>\n                            <div className=\"col-md-3\">\n                              <AutopromoCharts\n                                title=\"Revenue\"\n                                width=\"16.5rem\"\n                                height=\"328px\"\n                                data={[margin[0], margin[1]]}\n                              />\n                            </div>\n                            <div className=\"col-md-3\">\n                              <AutopromoCharts\n                                title=\"Margin\"\n                                width=\"16.5rem\"\n                                height=\"328px\"\n                                data={[revenue[0], revenue[1]]}\n                              />\n                            </div>\n                          </div>\n                        </>\n                      )}\n                    </div>\n                  ) : null}\n                </div>\n              ) : (\n                <div className=\"chart-Ai \">\n                  <div className=\"card\" style={{ marginTop: \"20px\" }}>\n                    <h4 className=\"font-size-14 markdown-heading\">\n                      <Tabs\n                        activeKey={this.state.activeTab}\n                        onSelect={tab => this.setActiveTab(tab)}\n                      >\n                        {this.state.simulateData &&\n                          this.state.simulateData.map((simData, idx) => {\n                            const inventoryUtilization = this.handleWeeklyInventoryDivisions(\n                              simData\n                            );\n                            console.log(\n                              \"overall inventory\",\n                              inventoryUtilization\n                            );\n                            const inventory = simData.overall.inventory;\n                            const margin = simData.overall.margin;\n                            const revenue = simData.overall.revenue;\n                            console.log(\n                              \"asfmasdfas\",\n                              simData,\n                              idx == this.state.activeTab,\n                              idx,\n                              this.state.activeTab\n                            );\n                            return (\n                              <Tab eventKey={idx} title={`Scenario ${idx + 1}`}>\n                                <div className=\"cadence-chart-div\">\n                                  <div className=\"row\">\n                                    <div className=\"col-md-3 \">\n                                      <div className=\"row\">\n                                        <div className=\"col-md-3\" />\n                                        <div\n                                          className=\"col-md-9\"\n                                          style={{ marginLeft: \"-29px\" }}\n                                        />\n                                      </div>\n                                    </div>\n                                    <div className=\"col-md-3\" />\n                                    <div className=\"col-md-3 text-center\" />\n                                    <div className=\"col-md-3\">\n                                      {/* <div className=\"btn-group height-btngrp\">\n                                  <button className=\"btn btn-outline-primary btnModal1 \"\n                                    onClick={() => this.showMessageModal()}>Pre Season</button>\n                                  <button className=\"btn btn-outline-primary btnModal1 active\">In Season</button>\n                                </div> */}\n                                    </div>\n                                  </div>\n                                  {idx == this.state.activeTab && (\n                                    <>\n                                      <CadenceChartComp\n                                        selectedCadenceSet={simData}\n                                      />\n                                      <Inventory\n                                        inventoryUtilization={\n                                          inventoryUtilization\n                                        }\n                                      />\n                                    </>\n                                  )}\n                                </div>\n                                <div className=\"card mt-20\">\n                                  <div className=\"row mt-20 j-c-even\">\n                                    <div className=\"col-md-3\">\n                                      {idx == this.state.activeTab && (\n                                        <AutopromoCharts\n                                          title=\"Quanity\"\n                                          width=\"16.5rem\"\n                                          height=\"328px\"\n                                          data={[inventory[0], inventory[1]]}\n                                        />\n                                      )}\n                                    </div>\n                                    <div className=\"col-md-3\">\n                                      {idx == this.state.activeTab && (\n                                        <AutopromoCharts\n                                          title=\"Revenue\"\n                                          width=\"16.5rem\"\n                                          height=\"328px\"\n                                          data={[revenue[0], revenue[1]]}\n                                        />\n                                      )}\n                                    </div>\n                                    <div className=\"col-md-3\">\n                                      {idx == this.state.activeTab && (\n                                        <AutopromoCharts\n                                          title=\"Margin\"\n                                          width=\"16.5rem\"\n                                          height=\"328px\"\n                                          data={[margin[0], margin[1]]}\n                                        />\n                                      )}\n                                    </div>\n                                  </div>\n\n                                  {/* <div className=\"btn-center\">\n                              <div>\n                                <button className=\"btn btn-primary\" style={{ marginRight: \"10px\" }}>Reset</button>\n                                <button className=\"btn btn-primary\">Comment</button>\n                              </div>\n\n                            </div> */}\n                                </div>\n                              </Tab>\n                            );\n                          })}\n                      </Tabs>\n                    </h4>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n          <Modal\n            visible={this.state.showSKUListPopup}\n            effect=\"fadeInDown\"\n            onClickAway={() => this.showAgGridTableWithCheckboxPopup()}\n          >\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">\n                  Select Stores\n                  <span\n                    onClick={() => this.showAgGridTableWithCheckboxPopup()}\n                    className=\"pull-right select-store-span\"\n                  >\n                    <i\n                      className=\"fa fa-times\"\n                      aria-hidden=\"true\"\n                      style={{ fontSize: \"22px\" }}\n                    />\n                  </span>\n                </h5>\n                <hr />\n              </div>\n\n              <div className=\"ai-pre-grid-table\">\n                {this.props.storeData && this.props.storeData.length > 0 && (\n                  <AgGridTableWithCheckbox\n                    inventoryData={this.props.storeData}\n                    rowSelection=\"multiple\"\n                    initialAllRowSelected\n                    limitClearenceHandler={this.limitClearenceHandler}\n                    flushStoreData={this.props.flushStoreData}\n                  />\n                )}\n              </div>\n            </div>\n\n            {/* <p>Promotion submitted successfully for approval</p> */}\n            {/* </Modal.Body>*/}\n          </Modal>\n          <div className=\"alertDivs\">\n            {this.props.markdownSaved && (\n              <AlertSuccess\n                message={\n                  this.state.cadenceConstraintsVal === \"overall\"\n                    ? `Cadence Scenario ${this.state.activeTab +\n                        1} Saved Successfully`\n                    : `Cadence Set ${this.state.selectedIndex +\n                        1} Saved Successfully`\n                }\n                show={this.props.markdownSaved}\n              />\n            )}\n          </div>\n        </div>\n      </LoaderComponent>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    filterData: state.filterData,\n    storeData: state.aiAssitedIn_PreSeason.storeData,\n    simulateData: state.aiAssitedIn_PreSeason.simulateData,\n    loading: state.aiAssitedIn_PreSeason.loading,\n    markdownSaved: state.aiAssitedIn_PreSeason.markdownSaved\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionFilterData: val => dispatch(getPromoFilters(val)),\n    actionInvDataByFiltered: val => dispatch(actionInvDataByFiltered(val)),\n    fetchStoreData: payload => dispatch(fetchStoreData(payload)),\n    fetchCadenceAndSku: payload =>\n      dispatch(simulateMarkdownCadenceAndSkuList(payload)),\n    flushStoreData: () => dispatch(flushStoreData()),\n    saveOverAllMarkdown: payload => dispatch(saveOverAllMarkdown(payload)),\n    resetMakrdownSave: () => dispatch(resetMakrdownSave()),\n    saveSkuMarkdown: payload => dispatch(saveSkuMarkdown(payload))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AIAssistedPreSeason);\n"]},"metadata":{},"sourceType":"module"}