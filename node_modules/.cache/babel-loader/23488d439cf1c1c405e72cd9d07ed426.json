{"ast":null,"code":"import _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/createNewPromo/promoSimulation.js\";\nimport React, { Component } from 'react';\nimport \"./createPromoStyle.css\";\nimport { Nav } from 'react-bootstrap';\nimport DataTable from '../DataTable';\nimport CanvasJSReact from '../../assets/canvasjs.react';\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nfunction emptyValueFormatter2(value) {\n  if (value) {\n    var toSting = Math.round(value);\n\n    if (value > 0) {\n      return toSting.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    } else {\n      var splitAvalue = Math.abs(toSting);\n      return \"-\" + splitAvalue.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n  } else {\n    if (value === 0) {\n      return 0;\n    } else {\n      return \"-\";\n    }\n  }\n}\n\nvar PromoSimulation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PromoSimulation, _Component);\n\n  function PromoSimulation(props) {\n    var _this;\n\n    _classCallCheck(this, PromoSimulation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PromoSimulation).call(this, props));\n\n    _this.optionsWaterfall = function (criteria) {\n      return {\n        animationEnabled: true,\n        exportEnabled: true,\n        title: {\n          text: criteria,\n          fontSize: 14,\n          fontFamily: 'Poppins'\n        },\n        axisY: {\n          labelFontSize: 12,\n          labelMaxWidth: 70,\n          labelFontColor: 'gray',\n          gridThickness: 0,\n          stripLines: [{\n            value: 0,\n            showOnTop: true,\n            color: 'gray',\n            thickness: 2\n          }]\n        },\n        axisX: {\n          labelFontColor: 'gray',\n          labelFontSize: 12\n        },\n        toolTip: {\n          shared: true,\n          contentFormatter: function contentFormatter(e) {\n            return e.entries[0].dataPoint.label + \":\" + emptyValueFormatter2(e.entries[0].dataPoint.y);\n          }\n        },\n        height: 250,\n        data: [{\n          risingColor: '#5B9BD5',\n          fallingColor: '#ED7D31',\n          type: 'waterfall',\n          indexLabelOrientation: 'vertical',\n          lineColor: 'gray',\n          dataPoints: [{\n            label: 'Baseline',\n            y: _this.state.simulationData[0].simulation[\"baseline\".concat(criteria)]\n          }, {\n            label: 'Incremental',\n            y: _this.state.simulationData[0].simulation[\"directIncremental\".concat(criteria)]\n          }, {\n            label: 'Affinity',\n            y: _this.state.simulationData[0].simulation[\"halo\".concat(criteria)]\n          }, {\n            label: 'Cannibalisation',\n            y: _this.state.simulationData[0].simulation[\"cannibalization\".concat(criteria)]\n          }, {\n            label: 'Pull Forward',\n            y: -parseFloat(2 * (_this.state.simulationData[0].simulation[\"directIncremental\".concat(criteria)] / 100))\n          }, {\n            label: 'Total',\n            y: Math.round(_this.state.simulationData[0].simulation[\"total\".concat(criteria)] - 2 / 100 * _this.state.simulationData[0].simulation[\"directIncremental\".concat(criteria)]),\n            isIntermediateSum: true\n          }]\n        }]\n      };\n    };\n\n    _this.createPromotionData = function () {\n      var simulationData = _this.props.simulationResults.hierarchies.map(function (obj, index) {\n        obj.name = \"\".concat(obj.hierarchy.hierarchyLevel1, \" >\\n              \").concat(obj.hierarchy.hierarchyLevel2, \" >\\n              \").concat(obj.hierarchy.hierarchyLevel3, \" >\\n              \").concat(obj.hierarchy.hierarchyLevel4);\n        obj.simulation = _this.props.simulationResults.simulation[_this.state.currentTab][index];\n        return obj;\n      });\n\n      if (simulationData.length > 1) {\n        var summedSimulationData = {\n          name: 'Consolidated'\n        };\n        var simulatedObj = {\n          baselineUnits: 0,\n          forecastUnits: 0,\n          directIncrementalUnits: 0,\n          haloUnits: 0,\n          cannibalizationUnits: 0,\n          totalUnits: 0,\n          baselineMargin: 0,\n          forecastMargin: 0,\n          directIncrementalMargin: 0,\n          haloMargin: 0,\n          cannibalizationMargin: 0,\n          totalMargin: 0,\n          baselineSales: 0,\n          forecastSales: 0,\n          directIncrementalSales: 0,\n          haloSales: 0,\n          cannibalizationSales: 0,\n          totalSales: 0\n        };\n        simulationData.forEach(function (_ref) {\n          var simulation = _ref.simulation;\n          simulatedObj.baselineUnits += simulation.baselineUnits;\n          simulatedObj.forecastUnits += simulation.forecastUnits;\n          simulatedObj.directIncrementalUnits += simulation.directIncrementalUnits;\n          simulatedObj.haloUnits += simulation.haloUnits;\n          simulatedObj.cannibalizationUnits += simulation.cannibalizationUnits;\n          simulatedObj.totalUnits += simulation.totalUnits;\n          simulatedObj.baselineMargin += simulation.baselineMargin;\n          simulatedObj.forecastMargin += simulation.forecastMargin;\n          simulatedObj.directIncrementalMargin += simulation.directIncrementalMargin;\n          simulatedObj.haloMargin += simulation.haloMargin;\n          simulatedObj.cannibalizationMargin += simulation.cannibalizationMargin;\n          simulatedObj.totalMargin += simulation.totalMargin;\n          simulatedObj.baselineSales += simulation.baselineSales;\n          simulatedObj.forecastSales += simulation.forecastSales;\n          simulatedObj.directIncrementalSales += simulation.directIncrementalSales;\n          simulatedObj.haloSales += simulation.haloSales;\n          simulatedObj.cannibalizationSales += simulation.cannibalizationSales;\n          simulatedObj.totalSales += simulation.totalSales;\n        });\n        summedSimulationData.simulation = simulatedObj;\n\n        _this.setState({\n          selectedCategory: summedSimulationData\n        });\n\n        simulationData.unshift(summedSimulationData);\n      }\n\n      _this.setState({\n        simulationData: simulationData\n      });\n\n      var analysisDataMargin = [];\n      var analysisDataSales = [];\n      var analysisDataUnits = [];\n      analysisDataMargin = [{\n        metric: 'Baseline',\n        value: simulationData[0].simulation.baselineMargin\n      }, {\n        metric: 'Incremental',\n        value: simulationData[0].simulation.directIncrementalMargin\n      }, {\n        metric: 'Affinity',\n        value: simulationData[0].simulation.haloMargin\n      }, {\n        metric: 'Cannibalization',\n        value: simulationData[0].simulation.cannibalizationMargin\n      }, {\n        metric: 'Pull Forward',\n        value: -parseFloat(2 * (simulationData[0].simulation.directIncrementalMargin / 100))\n      }, {\n        metric: 'Total',\n        value: simulationData[0].simulation.totalMargin\n      }];\n\n      _this.setState({\n        analysisDataMargin: analysisDataMargin\n      });\n\n      analysisDataSales = [{\n        metric: 'Baseline',\n        value: simulationData[0].simulation.baselineSales\n      }, {\n        metric: 'Incremental',\n        value: simulationData[0].simulation.directIncrementalSales\n      }, {\n        metric: 'Affinity',\n        value: simulationData[0].simulation.haloSales\n      }, {\n        metric: 'Cannibalization',\n        value: simulationData[0].simulation.cannibalizationSales\n      }, {\n        metric: 'Pull Forward',\n        value: -parseFloat(2 * simulationData[0].simulation.directIncrementalSales / 100)\n      }, {\n        metric: 'Total',\n        value: simulationData[0].simulation.totalSales\n      }];\n\n      _this.setState({\n        analysisDataSales: analysisDataSales\n      });\n\n      analysisDataUnits = [{\n        metric: 'Baseline',\n        value: simulationData[0].simulation.baselineUnits\n      }, {\n        metric: 'Incremental',\n        value: simulationData[0].simulation.directIncrementalUnits\n      }, {\n        metric: 'Affinity',\n        value: simulationData[0].simulation.haloUnits\n      }, {\n        metric: 'Cannibalization',\n        value: simulationData[0].simulation.cannibalizationUnits\n      }, {\n        metric: 'Pull Forward',\n        value: -parseFloat(2 * simulationData[0].simulation.directIncrementalUnits / 100)\n      }, {\n        metric: 'Total',\n        value: simulationData[0].simulation.totalUnits\n      }];\n\n      _this.setState({\n        analysisDataUnits: analysisDataUnits\n      });\n    };\n\n    _this.createTabs = function () {\n      var tabs = [];\n\n      for (var i = 0; i < _this.props.simulationResults.simulation.length; i++) {\n        tabs.push(React.createElement(Nav.Item, {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, React.createElement(Nav.Link, {\n          eventKey: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        }, i === 0 && 'Optimum ', \"Scenario \", i > 0 && i)));\n      }\n\n      return tabs;\n    };\n\n    _this.changeTab = function (eventKey) {\n      _this.setState({\n        currentTab: eventKey\n      }, function () {\n        _this.createPromotionData();\n      });\n    };\n\n    _this.state = {\n      selectedCategory: '',\n      simulationData: [],\n      currentTab: 0,\n      analysisDataMargin: [],\n      analysisDataSales: [],\n      analysisDataUnits: []\n    };\n\n    _this.emptyValueFormatter = function (value) {\n      if (value.value) {\n        var toSting = Math.round(value.value);\n\n        if (value.value > 0) {\n          return toSting.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        } else {\n          var splitAvalue = Math.abs(toSting);\n          return \"-\" + splitAvalue.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \"\";\n        }\n      } else {\n        if (value.value === 0) {\n          return 0;\n        } else {\n          return \"-\";\n        }\n      }\n    };\n\n    _this.analysisMetrics = [{\n      headerName: 'Metric',\n      field: 'metric'\n    }, {\n      headerName: 'Value (in $)',\n      field: 'value',\n      valueFormatter: _this.emptyValueFormatter\n    }];\n    _this.unitsMetrics = [{\n      headerName: 'Metric',\n      field: 'metric'\n    }, {\n      headerName: 'Value',\n      field: 'value',\n      valueFormatter: _this.emptyValueFormatter\n    }];\n    return _this;\n  }\n\n  _createClass(PromoSimulation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createPromotionData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"card promo-simulation-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"font-size-14 font-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \"Simulation Results\"), React.createElement(Nav, {\n        fill: true,\n        variant: \"tabs\",\n        onSelect: this.changeTab,\n        defaultActiveKey: 0,\n        activeKey: this.state.currentTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, this.createTabs()), React.createElement(\"div\", {\n        className: \"row mt-4 mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, this.state.simulationData.length && React.createElement(CanvasJSChart, {\n        options: this.optionsWaterfall('Margin'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"trial-version-patch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, this.state.simulationData.length && React.createElement(CanvasJSChart, {\n        options: this.optionsWaterfall('Sales'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"trial-version-patch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, this.state.simulationData.length && React.createElement(CanvasJSChart, {\n        options: this.optionsWaterfall('Units'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"trial-version-patch1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          height: '200px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        isSizetoFit: true,\n        columnDefs: this.analysisMetrics,\n        rowData: this.state.analysisDataMargin,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        isSizetoFit: true,\n        columnDefs: this.analysisMetrics,\n        rowData: this.state.analysisDataSales,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        isSizetoFit: true,\n        columnDefs: this.unitsMetrics,\n        rowData: this.state.analysisDataUnits,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return PromoSimulation;\n}(Component);\n\nexport default PromoSimulation;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/createNewPromo/promoSimulation.js"],"names":["React","Component","Nav","DataTable","CanvasJSReact","CanvasJSChart","emptyValueFormatter2","value","toSting","Math","round","toString","replace","splitAvalue","abs","PromoSimulation","props","optionsWaterfall","criteria","animationEnabled","exportEnabled","title","text","fontSize","fontFamily","axisY","labelFontSize","labelMaxWidth","labelFontColor","gridThickness","stripLines","showOnTop","color","thickness","axisX","toolTip","shared","contentFormatter","e","entries","dataPoint","label","y","height","data","risingColor","fallingColor","type","indexLabelOrientation","lineColor","dataPoints","state","simulationData","simulation","parseFloat","isIntermediateSum","createPromotionData","simulationResults","hierarchies","map","obj","index","name","hierarchy","hierarchyLevel1","hierarchyLevel2","hierarchyLevel3","hierarchyLevel4","currentTab","length","summedSimulationData","simulatedObj","baselineUnits","forecastUnits","directIncrementalUnits","haloUnits","cannibalizationUnits","totalUnits","baselineMargin","forecastMargin","directIncrementalMargin","haloMargin","cannibalizationMargin","totalMargin","baselineSales","forecastSales","directIncrementalSales","haloSales","cannibalizationSales","totalSales","forEach","setState","selectedCategory","unshift","analysisDataMargin","analysisDataSales","analysisDataUnits","metric","createTabs","tabs","i","push","changeTab","eventKey","emptyValueFormatter","analysisMetrics","headerName","field","valueFormatter","unitsMetrics","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"./createPromoStyle.css\";\nimport { Nav } from 'react-bootstrap';\nimport DataTable from '../DataTable';\nimport CanvasJSReact from '../../assets/canvasjs.react';\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart\nfunction emptyValueFormatter2(value) {\n  if (value) {\n    var toSting = Math.round(value);\n    if (value > 0) {\n      return toSting.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    } else {\n      var splitAvalue = Math.abs(toSting);\n      return (\n        \"-\" + splitAvalue.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n      );\n    }\n  } else {\n    if (value === 0) {\n      return 0;\n    } else {\n      return \"-\";\n    }\n  }\n}\nclass PromoSimulation extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selectedCategory: '',\n      simulationData: [],\n      currentTab: 0,\n      analysisDataMargin: [],\n      analysisDataSales: [],\n      analysisDataUnits: []\n    }\n    this.emptyValueFormatter = (value) => {\n      if (value.value) {\n        var toSting = Math.round(value.value);\n        if (value.value > 0) {\n          return toSting.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        } else {\n          var splitAvalue = Math.abs(toSting);\n          return (\"-\" + splitAvalue.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \"\"\n          );\n        }\n      } else {\n        if (value.value === 0) {\n          return 0;\n        } else {\n          return \"-\";\n        }\n      }\n    }\n    this.analysisMetrics = [\n      {\n        headerName: 'Metric',\n        field: 'metric'\n      },\n      {\n        headerName: 'Value (in $)',\n        field: 'value',\n        valueFormatter: this.emptyValueFormatter\n      }\n    ]\n    this.unitsMetrics = [\n      {\n        headerName: 'Metric',\n        field: 'metric'\n      },\n      {\n        headerName: 'Value',\n        field: 'value',\n        valueFormatter: this.emptyValueFormatter\n      }\n    ]\n  }\n\n  optionsWaterfall = criteria => {\n    return {\n      animationEnabled: true,\n      exportEnabled: true,\n      title: {\n        text: criteria,\n        fontSize: 14,\n        fontFamily: 'Poppins'\n      },\n      axisY: {\n        labelFontSize: 12,\n        labelMaxWidth: 70,\n        labelFontColor: 'gray',\n        gridThickness: 0,\n        stripLines: [\n          {\n            value: 0,\n            showOnTop: true,\n            color: 'gray',\n            thickness: 2\n          }\n        ]\n      },\n      axisX: {\n        labelFontColor: 'gray',\n        labelFontSize: 12\n      },\n      toolTip: {\n        shared: true,\n        contentFormatter: function(e) {\n          return (\n            e.entries[0].dataPoint.label +\n            \":\" +\n            emptyValueFormatter2(e.entries[0].dataPoint.y)\n          );\n        }\n      },\n      height: 250,\n      data: [\n        {\n          risingColor: '#5B9BD5',\n          fallingColor: '#ED7D31',\n          type: 'waterfall',\n          indexLabelOrientation: 'vertical',\n          lineColor: 'gray',\n          dataPoints: [\n            {\n              label: 'Baseline',\n              y: this.state.simulationData[0].simulation[`baseline${criteria}`]\n            },\n            {\n              label: 'Incremental',\n              y: this.state.simulationData[0].simulation[`directIncremental${criteria}`]\n            },\n            {\n              label: 'Affinity',\n              y: this.state.simulationData[0].simulation[`halo${criteria}`]\n            },\n            {\n              label: 'Cannibalisation',\n              y: this.state.simulationData[0].simulation[\n                `cannibalization${criteria}`\n              ]\n            },\n            {\n              label: 'Pull Forward',\n              y: -parseFloat(2*(this.state.simulationData[0].simulation[`directIncremental${criteria}`]/100))\n            },\n            {\n              label: 'Total',\n              y: Math.round(\n                this.state.simulationData[0].simulation[`total${criteria}`] -((2/100)*this.state.simulationData[0].simulation[`directIncremental${criteria}`])\n              ),\n              isIntermediateSum: true\n            }\n          ]\n        }\n      ]\n    }\n  }\n\n  componentDidMount() {\n    this.createPromotionData()\n  }\n  createPromotionData = () => {\n    let simulationData = this.props.simulationResults.hierarchies.map(\n      (obj, index) => {\n        obj.name = `${obj.hierarchy.hierarchyLevel1} >\n              ${obj.hierarchy.hierarchyLevel2} >\n              ${obj.hierarchy.hierarchyLevel3} >\n              ${obj.hierarchy.hierarchyLevel4}`\n        obj.simulation = this.props.simulationResults.simulation[\n          this.state.currentTab\n        ][index]\n        return obj\n      }\n    )\n    if (simulationData.length > 1) {\n      const summedSimulationData = {\n        name: 'Consolidated'\n      }\n      const simulatedObj = {\n        baselineUnits: 0,\n        forecastUnits: 0,\n        directIncrementalUnits: 0,\n        haloUnits: 0,\n        cannibalizationUnits: 0,\n        totalUnits: 0,\n        baselineMargin: 0,\n        forecastMargin: 0,\n        directIncrementalMargin: 0,\n        haloMargin: 0,\n        cannibalizationMargin: 0,\n        totalMargin: 0,\n        baselineSales: 0,\n        forecastSales: 0,\n        directIncrementalSales: 0,\n        haloSales: 0,\n        cannibalizationSales: 0,\n        totalSales: 0\n      }\n      simulationData.forEach(({ simulation }) => {\n        simulatedObj.baselineUnits += simulation.baselineUnits\n        simulatedObj.forecastUnits += simulation.forecastUnits\n        simulatedObj.directIncrementalUnits += simulation.directIncrementalUnits\n        simulatedObj.haloUnits += simulation.haloUnits\n        simulatedObj.cannibalizationUnits += simulation.cannibalizationUnits\n        simulatedObj.totalUnits += simulation.totalUnits\n        simulatedObj.baselineMargin += simulation.baselineMargin\n        simulatedObj.forecastMargin += simulation.forecastMargin\n        simulatedObj.directIncrementalMargin +=\n          simulation.directIncrementalMargin\n        simulatedObj.haloMargin += simulation.haloMargin\n        simulatedObj.cannibalizationMargin += simulation.cannibalizationMargin\n        simulatedObj.totalMargin += simulation.totalMargin\n        simulatedObj.baselineSales += simulation.baselineSales\n        simulatedObj.forecastSales += simulation.forecastSales\n        simulatedObj.directIncrementalSales += simulation.directIncrementalSales\n        simulatedObj.haloSales += simulation.haloSales\n        simulatedObj.cannibalizationSales += simulation.cannibalizationSales\n        simulatedObj.totalSales += simulation.totalSales\n      })\n      summedSimulationData.simulation = simulatedObj\n      this.setState({ selectedCategory: summedSimulationData })\n\n      simulationData.unshift(summedSimulationData)\n    }\n    this.setState({ simulationData })\n    let analysisDataMargin = []\n    let analysisDataSales = []\n    let analysisDataUnits = []\n    analysisDataMargin = [\n      {\n        metric: 'Baseline',\n        value: simulationData[0].simulation.baselineMargin\n      },\n      {\n        metric: 'Incremental',\n        value: simulationData[0].simulation.directIncrementalMargin\n      },\n      {\n        metric: 'Affinity',\n        value: simulationData[0].simulation.haloMargin\n      },\n      {\n        metric: 'Cannibalization',\n        value: simulationData[0].simulation.cannibalizationMargin\n      },\n      {\n        metric: 'Pull Forward',\n        value: -parseFloat(2*(simulationData[0].simulation.directIncrementalMargin/100))\n      },\n      {\n        metric: 'Total',\n        value: simulationData[0].simulation.totalMargin\n      }\n    ]\n    this.setState({ analysisDataMargin })\n    analysisDataSales = [\n      {\n        metric: 'Baseline',\n        value: simulationData[0].simulation.baselineSales\n      },\n      {\n        metric: 'Incremental',\n        value: simulationData[0].simulation.directIncrementalSales\n      },\n      {\n        metric: 'Affinity',\n        value: simulationData[0].simulation.haloSales\n      },\n      {\n        metric: 'Cannibalization',\n        value: simulationData[0].simulation.cannibalizationSales\n      },\n      {\n        metric: 'Pull Forward',\n        value: -parseFloat(2*(simulationData[0].simulation.directIncrementalSales)/100)\n      },\n      {\n        metric: 'Total',\n        value: simulationData[0].simulation.totalSales\n      }\n    ]\n    this.setState({ analysisDataSales })\n    analysisDataUnits = [\n      {\n        metric: 'Baseline',\n        value: simulationData[0].simulation.baselineUnits\n      },\n      {\n        metric: 'Incremental',\n        value: simulationData[0].simulation.directIncrementalUnits\n      },\n      {\n        metric: 'Affinity',\n        value: simulationData[0].simulation.haloUnits\n      },\n      {\n        metric: 'Cannibalization',\n        value: simulationData[0].simulation.cannibalizationUnits\n      },\n      {\n        metric: 'Pull Forward',\n        value: -parseFloat(2*(simulationData[0].simulation.directIncrementalUnits)/100)\n      },\n      {\n        metric: 'Total',\n        value: simulationData[0].simulation.totalUnits\n      }\n    ]\n    this.setState({ analysisDataUnits })\n  }\n  createTabs = () => {\n    let tabs = []\n    for (let i = 0; i < this.props.simulationResults.simulation.length; i++) {\n      tabs.push(\n        <Nav.Item key={i}>\n          <Nav.Link eventKey={i}>\n            {i === 0 && 'Optimum '}Scenario {i > 0 && i}\n          </Nav.Link>\n        </Nav.Item>\n      )\n    }\n    return tabs\n  }\n  changeTab = eventKey => {\n    this.setState({ currentTab: eventKey }, () => {\n      this.createPromotionData()\n    })\n  }\n  render() {\n    return (\n      <div className=\"card promo-simulation-container\">\n        <div className=\"font-size-14 font-bold\">Simulation Results</div>\n        <Nav\n          fill\n          variant=\"tabs\"\n          onSelect={this.changeTab}\n          defaultActiveKey={0}\n          activeKey={this.state.currentTab}\n        >\n          {this.createTabs()}\n        </Nav>\n        <div className=\"row mt-4 mb-4\">\n          <div className=\"col-md-4\">\n            {this.state.simulationData.length && (\n              <CanvasJSChart options={this.optionsWaterfall('Margin')} />\n            )}\n            <div className=\"trial-version-patch\"></div>\n          </div>\n          <div className=\"col-md-4\">\n            {this.state.simulationData.length && (\n              <CanvasJSChart options={this.optionsWaterfall('Sales')} />\n            )}\n             <div className=\"trial-version-patch\"></div>\n          </div>\n          <div className=\"col-md-4\">\n            {this.state.simulationData.length && (\n              <CanvasJSChart options={this.optionsWaterfall('Units')} />\n            )}\n             <div className=\"trial-version-patch1\"></div>\n          </div>\n        </div>\n        <div className=\"row\" style={{ height: '200px' }}>\n          <div className=\"col-md-4\">\n            <DataTable\n              isSizetoFit={true}\n              columnDefs={this.analysisMetrics}\n              rowData={this.state.analysisDataMargin}\n              style={{ height: '100%', width: '100%' }}\n            />\n          </div>\n          <div className=\"col-md-4\">\n            <DataTable\n              isSizetoFit={true}\n              columnDefs={this.analysisMetrics}\n              rowData={this.state.analysisDataSales}\n              style={{ height: '100%', width: '100%' }}\n            />\n          </div>\n          <div className=\"col-md-4\">\n            <DataTable\n              isSizetoFit={true}\n              columnDefs={this.unitsMetrics}\n              rowData={this.state.analysisDataUnits}\n              style={{ height: '100%', width: '100%' }}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PromoSimulation\n"]},"metadata":{},"sourceType":"module"}