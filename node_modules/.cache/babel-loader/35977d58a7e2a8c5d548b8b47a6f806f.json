{"ast":null,"code":"import axios from '../utils/axios';\nimport { config } from '../utils/config';\nimport { toast } from 'react-toastify';\nvar manuallyCreateMdActions = {\n  onResetInventoryInfo: function onResetInventoryInfo() {\n    return function (dispatch) {\n      dispatch({\n        type: 'RESET_INVENTORY_INFO_DATA'\n      });\n    };\n  },\n  onResetEditedInfo: function onResetEditedInfo() {\n    return function (dispatch) {\n      dispatch({\n        type: 'RESET_EDITED_INFO_DATA'\n      });\n    };\n  },\n  fetchInventoryInfo: function fetchInventoryInfo(reqObj) {\n    return function (dispatch) {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true\n        }\n      });\n      axios({\n        url: \"\".concat(config.createMarkdownURL, \"/getInventoryInfo/\"),\n        method: 'POST',\n        data: reqObj\n      }).then(function (resp) {\n        console.log(resp.data, 'data');\n\n        if (resp.data && resp.data.data && resp.data.data.store_data.length <= 0) {\n          toast.error(\"Current filter selection doesn't have inventory please retry with different selection\", {\n            autoClose: 15000,\n            hideProgressBar: true\n          });\n        }\n\n        dispatch({\n          type: 'GET_INVENTORY_INFO',\n          payload: resp.data\n        });\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n      }).catch(function (err) {\n        toast.error(err.message, {\n          autoClose: 15000,\n          hideProgressBar: true\n        });\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n      });\n    };\n  },\n  fetchCadence: function fetchCadence(reqObj) {\n    return function (dispatch) {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true\n        }\n      });\n      axios({\n        // url: `${config.createMarkdownURL}/generateCadence/`,\n        url: \"\".concat(config.cadenceUrl, \"/MarkdownOptimization\"),\n        method: 'POST',\n        data: reqObj\n      }).then(function (resp) {\n        if (resp.data && resp.data.status !== 'false') {\n          var skus = [];\n\n          if (resp.data.skus && resp.data.skus.length) {\n            skus = resp.data.skus.map(function (sku) {\n              return {\n                label: sku,\n                value: sku\n              };\n            });\n          }\n\n          dispatch({\n            type: 'GET_CADENCE_DATA',\n            payload: [resp.data.cadenceData],\n            csv_names: resp.data.csv_names,\n            skus: skus,\n            savedData: resp.data.saveData\n          });\n          dispatch({\n            type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n            payload: resp.data.simulateData,\n            isEdit: reqObj.isEdit\n          });\n          dispatch({\n            type: 'SET_ANALYSIS_TABLE_DATA',\n            payload: resp.data.simulateData,\n            data: resp.data,\n            cadenceType: 'Optimal',\n            comparisonData: [],\n            isEdit: reqObj.isEdit\n          });\n        } else {\n          toast.error(resp.data.message, {\n            autoClose: 15000,\n            hideProgressBar: true\n          });\n        }\n\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n      }).catch(function (err) {\n        toast.error(err.message, {\n          autoClose: 15000,\n          hideProgressBar: true\n        });\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n      });\n    };\n  },\n  fetchSkuAndCsv: function fetchSkuAndCsv(reqObj) {\n    return function (dispatch) {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true\n        }\n      });\n      axios({\n        // url: `${config.createMarkdownURL}/generateCadence/`,\n        url: \"\".concat(config.cadenceUrl, \"/MarkdownOptimization\"),\n        method: 'POST',\n        data: reqObj\n      }).then(function (resp) {\n        var skus = [];\n\n        if (resp.data.skus && resp.data.skus.length) {\n          skus = resp.data.skus.map(function (sku) {\n            return {\n              label: sku,\n              value: sku\n            };\n          });\n        }\n\n        dispatch({\n          type: 'GET_SKUS_AND_CSV',\n          csv_names: resp.data.csv_names,\n          skus: skus\n        });\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n      }).catch(function (err) {\n        toast.error(err.message, {\n          autoClose: 15000,\n          hideProgressBar: true\n        });\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n      });\n    };\n  },\n  updateAnalysisData: function updateAnalysisData(req, cadenceType) {\n    return function (dispatch) {\n      dispatch({\n        type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n        payload: cadenceType === 'Optimal' ? req.simulateData : req\n      }); // if (this.state.defaultActiveKey === 'Optimal') {\n      //   obj.analysisData[key] = this.props.analysisData[this.state.defaultActiveKey]\n      //     ? this.props.analysisData[this.state.defaultActiveKey].simulateData\n      //     : [];\n      // } else {\n      //   const { analysisTabledata, detailed, overview } = this.props.analysisData[\n      //     this.state.defaultActiveKey\n      //   ];\n      //   obj.analysisData[key] = { analysisTabledata, detailed, overview };\n      // }\n\n      dispatch({\n        type: 'SET_ANALYSIS_TABLE_DATA',\n        payload: cadenceType === 'Optimal' ? req.simulateData : req,\n        data: req,\n        cadenceType: cadenceType\n      });\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: false\n        }\n      });\n    };\n  },\n  simulate: function simulate(reqObj, cadenceType, editData) {\n    return function (dispatch) {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true\n        }\n      });\n      return axios({\n        url: \"\".concat(config.cadenceUrl, \"/CalculationData\"),\n        method: 'POST',\n        data: reqObj\n      }).then(function (resp) {\n        var returnStatus = true;\n\n        if (resp.data.status === 'false') {\n          toast.error(resp.data.message, {\n            autoClose: 15000,\n            hideProgressBar: true\n          });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false\n            }\n          });\n          returnStatus = false;\n        }\n\n        var uniqueSellThroughValue = new Set(resp.data.overview.sellThrough);\n\n        if (resp.data && resp.data.overview && uniqueSellThroughValue.size === 1 && uniqueSellThroughValue.has('0.0')) {\n          toast.error('Data not found', {\n            autoClose: 15000,\n            hideProgressBar: true\n          });\n        }\n\n        if (reqObj.skus === 'all') {\n          dispatch({\n            type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n            payload: resp.data,\n            isEdit: reqObj.isEdit\n          });\n          dispatch({\n            type: 'SET_ANALYSIS_TABLE_DATA',\n            payload: resp.data,\n            data: resp.data,\n            cadenceType: cadenceType,\n            isEdit: reqObj.isEdit\n          });\n        } else {\n          dispatch({\n            type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA_BY_SKUS',\n            payload: resp.data,\n            isEdit: reqObj.isEdit\n          });\n          dispatch({\n            type: 'SET_ANALYSIS_TABLE_DATA_BY_SKUS',\n            payload: resp.data,\n            data: resp.data,\n            cadenceType: cadenceType,\n            isEdit: reqObj.isEdit\n          });\n        }\n\n        if (editData) {\n          dispatch({\n            type: 'GET_CADENCE_DATA',\n            payload: [reqObj.scenario_data],\n            csv_names: reqObj.csv_names,\n            skus: editData,\n            savedData: resp.data.saveData\n          });\n        }\n\n        dispatch({\n          type: 'GET_COLUMNHEADERS'\n        }); // dispatch({\n        //   type: 'SET_ANALYSIS_TABLE_DATA',\n        //   payload: resp.data,\n        //   data: resp.data,\n        //   cadenceType,\n        // });\n        // dispatch({\n        //   type: 'LOADER_STATE',\n        //   payload: {\n        //     status: false,\n        //   },\n        // });\n\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n        return {\n          status: returnStatus\n        };\n      }).catch(function (err) {\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n        return {\n          status: false\n        };\n      });\n    };\n  },\n  savedStatusFalse: function savedStatusFalse(status) {\n    return function (dispatch) {\n      dispatch({\n        type: 'MARKDOWN_SAVED_STATUS',\n        status: status\n      });\n    };\n  },\n  saveData: function saveData(reqObj) {\n    return function (dispatch) {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true\n        }\n      });\n      axios({\n        url: \"\".concat(config.createMarkdownURL, \"/saveMarkDown/\"),\n        method: 'POST',\n        data: reqObj\n      }).then(function (resp) {\n        toast.success('Data Saved Sucessfully', {\n          autoClose: 15000,\n          hideProgressBar: true\n        });\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n        dispatch({\n          type: 'MARKDOWN_SAVED_STATUS',\n          status: true\n        }); // dispatch({\n        //   type: 'GET_INVENTORY_INFO',\n        //   payload: resp.data,\n        // });\n      }).catch(function (err) {\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n      });\n    };\n  },\n  fetchEditPlanData: function fetchEditPlanData(reqObj) {\n    return function (dispatch) {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true\n        }\n      });\n      return axios({\n        url: \"\".concat(config.createMarkdownURL, \"/markdownDetails/\"),\n        method: 'POST',\n        data: reqObj\n      }).then(function (resp) {\n        if (resp.data && resp.data.status !== 'false') {\n          var dataObj = resp.data.data && resp.data.data[0] && resp.data.data[0].request_obj;\n          var simulateData = Object.values(dataObj.analysisData);\n          var cadenceData = Object.values(dataObj.cadenceData);\n          dispatch({\n            type: 'GET_EDITPLAN_DETAILS',\n            payload: resp.data.data\n          });\n          dispatch({\n            type: 'GET_CADENCE_DATA',\n            payload: cadenceData\n          });\n          dispatch({\n            type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n            payload: simulateData[0]\n          });\n          dispatch({\n            type: 'SET_ANALYSIS_TABLE_DATA',\n            payload: simulateData[0],\n            cadenceType: 'Optimal',\n            comparisonData: []\n          });\n        }\n\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n        return resp.data.data;\n      }).catch(function (err) {\n        dispatch({\n          type: 'LOADER_STATE',\n          payload: {\n            status: false\n          }\n        });\n        return [];\n      });\n    };\n  }\n};\nexport default manuallyCreateMdActions;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/actions/manuallyCreateMdActions.js"],"names":["axios","config","toast","manuallyCreateMdActions","onResetInventoryInfo","dispatch","type","onResetEditedInfo","fetchInventoryInfo","reqObj","payload","status","url","createMarkdownURL","method","data","then","resp","console","log","store_data","length","error","autoClose","hideProgressBar","catch","err","message","fetchCadence","cadenceUrl","skus","map","sku","label","value","cadenceData","csv_names","savedData","saveData","simulateData","isEdit","cadenceType","comparisonData","fetchSkuAndCsv","updateAnalysisData","req","simulate","editData","returnStatus","uniqueSellThroughValue","Set","overview","sellThrough","size","has","scenario_data","savedStatusFalse","success","fetchEditPlanData","dataObj","request_obj","Object","values","analysisData"],"mappings":"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","sourcesContent":["import axios from '../utils/axios';\nimport { config } from '../utils/config';\nimport { toast } from 'react-toastify';\n\nconst manuallyCreateMdActions = {\n  onResetInventoryInfo: () => {\n    return (dispatch) => {\n      dispatch({\n        type: 'RESET_INVENTORY_INFO_DATA',\n      });\n    };\n  },\n  onResetEditedInfo: () => {\n    return (dispatch) => {\n      dispatch({\n        type: 'RESET_EDITED_INFO_DATA',\n      });\n    };\n  },\n  fetchInventoryInfo: (reqObj) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true,\n        },\n      });\n      axios({\n        url: `${config.createMarkdownURL}/getInventoryInfo/`,\n        method: 'POST',\n        data: reqObj,\n      })\n        .then((resp) => {\n          console.log(resp.data, 'data');\n          if (resp.data && resp.data.data && resp.data.data.store_data.length <= 0) {\n            toast.error(\n              `Current filter selection doesn't have inventory please retry with different selection`,\n              {\n                autoClose: 15000,\n                hideProgressBar: true,\n              }\n            );\n          }\n          dispatch({\n            type: 'GET_INVENTORY_INFO',\n            payload: resp.data,\n          });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n        })\n        .catch((err) => {\n          toast.error(err.message, {\n            autoClose: 15000,\n            hideProgressBar: true,\n          });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n        });\n    };\n  },\n  fetchCadence: (reqObj) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true,\n        },\n      });\n      axios({\n        // url: `${config.createMarkdownURL}/generateCadence/`,\n        url: `${config.cadenceUrl}/MarkdownOptimization`,\n        method: 'POST',\n        data: reqObj,\n      })\n        .then((resp) => {\n          if (resp.data && resp.data.status !== 'false') {\n            let skus = [];\n            if (resp.data.skus && resp.data.skus.length) {\n              skus = resp.data.skus.map((sku) => {\n                return {\n                  label: sku,\n                  value: sku,\n                };\n              });\n            }\n            dispatch({\n              type: 'GET_CADENCE_DATA',\n              payload: [resp.data.cadenceData],\n              csv_names: resp.data.csv_names,\n              skus: skus,\n              savedData: resp.data.saveData,\n            });\n            dispatch({\n              type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n              payload: resp.data.simulateData,\n              isEdit: reqObj.isEdit,\n            });\n            dispatch({\n              type: 'SET_ANALYSIS_TABLE_DATA',\n              payload: resp.data.simulateData,\n              data: resp.data,\n              cadenceType: 'Optimal',\n              comparisonData: [],\n              isEdit: reqObj.isEdit,\n            });\n          } else {\n            toast.error(resp.data.message, {\n              autoClose: 15000,\n              hideProgressBar: true,\n            });\n          }\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n        })\n        .catch((err) => {\n          toast.error(err.message, {\n            autoClose: 15000,\n            hideProgressBar: true,\n          });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n        });\n    };\n  },\n  fetchSkuAndCsv: (reqObj) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true,\n        },\n      });\n      axios({\n        // url: `${config.createMarkdownURL}/generateCadence/`,\n        url: `${config.cadenceUrl}/MarkdownOptimization`,\n        method: 'POST',\n        data: reqObj,\n      })\n        .then((resp) => {\n          let skus = [];\n          if (resp.data.skus && resp.data.skus.length) {\n            skus = resp.data.skus.map((sku) => {\n              return {\n                label: sku,\n                value: sku,\n              };\n            });\n          }\n          dispatch({\n            type: 'GET_SKUS_AND_CSV',\n            csv_names: resp.data.csv_names,\n            skus: skus,\n          });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n        })\n        .catch((err) => {\n          toast.error(err.message, {\n            autoClose: 15000,\n            hideProgressBar: true,\n          });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n        });\n    };\n  },\n  updateAnalysisData: (req, cadenceType) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n        payload: cadenceType === 'Optimal' ? req.simulateData : req,\n      });\n      // if (this.state.defaultActiveKey === 'Optimal') {\n      //   obj.analysisData[key] = this.props.analysisData[this.state.defaultActiveKey]\n      //     ? this.props.analysisData[this.state.defaultActiveKey].simulateData\n      //     : [];\n      // } else {\n      //   const { analysisTabledata, detailed, overview } = this.props.analysisData[\n      //     this.state.defaultActiveKey\n      //   ];\n      //   obj.analysisData[key] = { analysisTabledata, detailed, overview };\n      // }\n      dispatch({\n        type: 'SET_ANALYSIS_TABLE_DATA',\n        payload: cadenceType === 'Optimal' ? req.simulateData : req,\n        data: req,\n        cadenceType,\n      });\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: false,\n        },\n      });\n    };\n  },\n\n  simulate: (reqObj, cadenceType, editData) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true,\n        },\n      });\n      return axios({\n        url: `${config.cadenceUrl}/CalculationData`,\n        method: 'POST',\n        data: reqObj,\n      })\n        .then((resp) => {\n          let returnStatus = true;\n          if (resp.data.status === 'false') {\n            toast.error(resp.data.message, {\n              autoClose: 15000,\n              hideProgressBar: true,\n            });\n            dispatch({\n              type: 'LOADER_STATE',\n              payload: {\n                status: false,\n              },\n            });\n            returnStatus = false;\n          }\n          let uniqueSellThroughValue = new Set(resp.data.overview.sellThrough);\n          if (\n            resp.data &&\n            resp.data.overview &&\n            uniqueSellThroughValue.size === 1 &&\n            uniqueSellThroughValue.has('0.0')\n          ) {\n            toast.error('Data not found', {\n              autoClose: 15000,\n              hideProgressBar: true,\n            });\n          }\n          if (reqObj.skus === 'all') {\n            dispatch({\n              type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n              payload: resp.data,\n              isEdit: reqObj.isEdit,\n            });\n            dispatch({\n              type: 'SET_ANALYSIS_TABLE_DATA',\n              payload: resp.data,\n              data: resp.data,\n              cadenceType,\n              isEdit: reqObj.isEdit,\n            });\n          } else {\n            dispatch({\n              type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA_BY_SKUS',\n              payload: resp.data,\n              isEdit: reqObj.isEdit,\n            });\n            dispatch({\n              type: 'SET_ANALYSIS_TABLE_DATA_BY_SKUS',\n              payload: resp.data,\n              data: resp.data,\n              cadenceType,\n              isEdit: reqObj.isEdit,\n            });\n          }\n          if (editData) {\n            dispatch({\n              type: 'GET_CADENCE_DATA',\n              payload: [reqObj.scenario_data],\n              csv_names: reqObj.csv_names,\n              skus: editData,\n              savedData: resp.data.saveData,\n            });\n          }\n          dispatch({\n            type: 'GET_COLUMNHEADERS',\n          });\n          // dispatch({\n          //   type: 'SET_ANALYSIS_TABLE_DATA',\n          //   payload: resp.data,\n          //   data: resp.data,\n          //   cadenceType,\n          // });\n          // dispatch({\n          //   type: 'LOADER_STATE',\n          //   payload: {\n          //     status: false,\n          //   },\n          // });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n          return { status: returnStatus };\n        })\n        .catch((err) => {\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n\n          return { status: false };\n        });\n    };\n  },\n  savedStatusFalse: (status) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'MARKDOWN_SAVED_STATUS',\n        status,\n      });\n    };\n  },\n  saveData: (reqObj) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true,\n        },\n      });\n      axios({\n        url: `${config.createMarkdownURL}/saveMarkDown/`,\n        method: 'POST',\n        data: reqObj,\n      })\n        .then((resp) => {\n          toast.success('Data Saved Sucessfully', {\n            autoClose: 15000,\n            hideProgressBar: true,\n          });\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n          dispatch({\n            type: 'MARKDOWN_SAVED_STATUS',\n            status: true,\n          });\n          // dispatch({\n          //   type: 'GET_INVENTORY_INFO',\n          //   payload: resp.data,\n          // });\n        })\n        .catch((err) => {\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n        });\n    };\n  },\n  fetchEditPlanData: (reqObj) => {\n    return (dispatch) => {\n      dispatch({\n        type: 'LOADER_STATE',\n        payload: {\n          status: true,\n        },\n      });\n      return axios({\n        url: `${config.createMarkdownURL}/markdownDetails/`,\n        method: 'POST',\n        data: reqObj,\n      })\n        .then((resp) => {\n          if (resp.data && resp.data.status !== 'false') {\n            let dataObj = resp.data.data && resp.data.data[0] && resp.data.data[0].request_obj;\n\n            let simulateData = Object.values(dataObj.analysisData);\n            let cadenceData = Object.values(dataObj.cadenceData);\n\n            dispatch({\n              type: 'GET_EDITPLAN_DETAILS',\n              payload: resp.data.data,\n            });\n\n            dispatch({\n              type: 'GET_CADENCE_DATA',\n              payload: cadenceData,\n            });\n\n            dispatch({\n              type: 'GET_MARKDOWNANALYSIS_GRAPH_DATA',\n              payload: simulateData[0],\n            });\n\n            dispatch({\n              type: 'SET_ANALYSIS_TABLE_DATA',\n              payload: simulateData[0],\n              cadenceType: 'Optimal',\n              comparisonData: [],\n            });\n          }\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n          return resp.data.data;\n        })\n        .catch((err) => {\n          dispatch({\n            type: 'LOADER_STATE',\n            payload: {\n              status: false,\n            },\n          });\n          return [];\n        });\n    };\n  },\n};\nexport default manuallyCreateMdActions;\n"]},"metadata":{},"sourceType":"module"}