{"ast":null,"code":"import _toConsumableArray from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport kpiComponent from '../components/Summary/kpiComponent';\nimport _ from 'lodash';\nvar summaryKPIinitialState = {\n  markdownDetails: [],\n  detailedSummary: [],\n  aggregatedSummary: [],\n  summaryKPIData: {} //   KPIS: {\n  //     lw: {\n  //       revenue: 665.9475244175051,\n  //       margin: 302.587524417505,\n  //       cogs: 363.3599999999999,\n  //       margin_rate: 0.45437142315706336,\n  //       md_perc: 0.07130934315289243,\n  //       sales: 26.0,\n  //       inv_oh: 468.0,\n  //       sell_through: 0.05263154736842,\n  //       wos: 18.0,\n  //       avg_retail: 25.613366323750196,\n  //     },\n  //     tw: {\n  //       revenue: 7942941.359490866,\n  //       margin: 4220535.755455671,\n  //       cogs: 3722405.6040351954,\n  //       margin_rate: 0.5313567813783032,\n  //       md_perc: 0.523803896985133,\n  //       sales: 266690.47614665213,\n  //       inv_oh: 432.0,\n  //       sell_through: 0.9983827643175828,\n  //       wos: 0.0016198553703224287,\n  //       avg_retail: 29.78337087344308,\n  //     },\n  //     total: {\n  //       revenue: 3733.6755253100155,\n  //       margin: 781.7955253100166,\n  //       cogs: 2951.8799999999974,\n  //       margin_rate: 0.20939032329144414,\n  //       md_perc: 0.08813966453039164,\n  //       sales: 211.0,\n  //       inv_oh: 2647.0,\n  //       sell_through: 0.07382785164450664,\n  //       wos: 12.545023696682465,\n  //       avg_retail: 17.695144669715713,\n  //     },\n  //   },\n  // },\n\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : summaryKPIinitialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'SET_KPI_DATA':\n      return _objectSpread({}, state, {\n        summaryKPIData: action.value // summaryKPIData: summaryKPIinitialState.summaryKPIData,\n\n      });\n\n    case 'SET_DETAILED_SUMMARY':\n      return _objectSpread({}, state, {\n        detailedSummary: action.payload\n      });\n\n    case 'SET_MARKDOWN_DETAILS':\n      return _objectSpread({}, state, {\n        markdownDetails: action.payload\n      });\n\n    case 'SET_AGGREGATED_SUMMARY':\n      var aggregatedSummary = action.payload;\n\n      if (action.pageNum > 1 && !_.isEmpty(action.payload)) {\n        var binToWeek = [].concat(_toConsumableArray(state.aggregatedSummary.bin_to_week_agg_data), _toConsumableArray(action.payload.bin_to_week_agg_data)),\n            weekToBin = [].concat(_toConsumableArray(state.aggregatedSummary.week_to_bin_agg_data), _toConsumableArray(action.payload.week_to_bin_agg_data));\n        aggregatedSummary = {\n          bin_to_week_agg_data: _.uniqBy(binToWeek, 'markdown_id'),\n          week_to_bin_agg_data: _.uniqBy(weekToBin, 'markdown_id')\n        };\n      }\n\n      return _objectSpread({}, state, {\n        aggregatedSummary: aggregatedSummary\n      });\n\n    case 'RESET_SUMMARY':\n      return _objectSpread({}, state, {\n        detailedSummary: [],\n        aggregatedSummary: [],\n        summaryKPIData: {}\n      });\n\n    default:\n      return _objectSpread({}, state);\n  }\n});","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/reducers/summaryMDReducer.js"],"names":["kpiComponent","_","summaryKPIinitialState","markdownDetails","detailedSummary","aggregatedSummary","summaryKPIData","state","action","type","value","payload","pageNum","isEmpty","binToWeek","bin_to_week_agg_data","weekToBin","week_to_bin_agg_data","uniqBy"],"mappings":";;AAAA,OAAOA,YAAP,MAAyB,oCAAzB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,IAAMC,sBAAsB,GAAG;AAC7BC,EAAAA,eAAe,EAAE,EADY;AAE7BC,EAAAA,eAAe,EAAE,EAFY;AAG7BC,EAAAA,iBAAiB,EAAE,EAHU;AAI7BC,EAAAA,cAAc,EAAE,EAJa,CAK7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA3C6B,CAA/B;AA8CA,gBAAe,YAA4C;AAAA,MAA3CC,KAA2C,uEAAnCL,sBAAmC;AAAA,MAAXM,MAAW;;AACzD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,cAAL;AACE,+BACKF,KADL;AAEED,QAAAA,cAAc,EAAEE,MAAM,CAACE,KAFzB,CAGE;;AAHF;;AAKF,SAAK,sBAAL;AACE,+BACKH,KADL;AAEEH,QAAAA,eAAe,EAAEI,MAAM,CAACG;AAF1B;;AAIF,SAAK,sBAAL;AACE,+BACKJ,KADL;AAEEJ,QAAAA,eAAe,EAAEK,MAAM,CAACG;AAF1B;;AAIF,SAAK,wBAAL;AACE,UAAIN,iBAAiB,GAAGG,MAAM,CAACG,OAA/B;;AACA,UAAIH,MAAM,CAACI,OAAP,GAAiB,CAAjB,IAAsB,CAACX,CAAC,CAACY,OAAF,CAAUL,MAAM,CAACG,OAAjB,CAA3B,EAAsD;AACpD,YAAIG,SAAS,gCACNP,KAAK,CAACF,iBAAN,CAAwBU,oBADlB,sBAENP,MAAM,CAACG,OAAP,CAAeI,oBAFT,EAAb;AAAA,YAIEC,SAAS,gCACJT,KAAK,CAACF,iBAAN,CAAwBY,oBADpB,sBAEJT,MAAM,CAACG,OAAP,CAAeM,oBAFX,EAJX;AAQAZ,QAAAA,iBAAiB,GAAG;AAClBU,UAAAA,oBAAoB,EAAEd,CAAC,CAACiB,MAAF,CAASJ,SAAT,EAAoB,aAApB,CADJ;AAElBG,UAAAA,oBAAoB,EAAEhB,CAAC,CAACiB,MAAF,CAASF,SAAT,EAAoB,aAApB;AAFJ,SAApB;AAID;;AAED,+BACKT,KADL;AAEEF,QAAAA,iBAAiB,EAAjBA;AAFF;;AAIF,SAAK,eAAL;AACE,+BACKE,KADL;AAEEH,QAAAA,eAAe,EAAE,EAFnB;AAGEC,QAAAA,iBAAiB,EAAE,EAHrB;AAIEC,QAAAA,cAAc,EAAE;AAJlB;;AAMF;AACE,+BACKC,KADL;AA9CJ;AAkDD,CAnDD","sourcesContent":["import kpiComponent from '../components/Summary/kpiComponent';\nimport _ from 'lodash';\n\nconst summaryKPIinitialState = {\n  markdownDetails: [],\n  detailedSummary: [],\n  aggregatedSummary: [],\n  summaryKPIData: {},\n  //   KPIS: {\n  //     lw: {\n  //       revenue: 665.9475244175051,\n  //       margin: 302.587524417505,\n  //       cogs: 363.3599999999999,\n  //       margin_rate: 0.45437142315706336,\n  //       md_perc: 0.07130934315289243,\n  //       sales: 26.0,\n  //       inv_oh: 468.0,\n  //       sell_through: 0.05263154736842,\n  //       wos: 18.0,\n  //       avg_retail: 25.613366323750196,\n  //     },\n  //     tw: {\n  //       revenue: 7942941.359490866,\n  //       margin: 4220535.755455671,\n  //       cogs: 3722405.6040351954,\n  //       margin_rate: 0.5313567813783032,\n  //       md_perc: 0.523803896985133,\n  //       sales: 266690.47614665213,\n  //       inv_oh: 432.0,\n  //       sell_through: 0.9983827643175828,\n  //       wos: 0.0016198553703224287,\n  //       avg_retail: 29.78337087344308,\n  //     },\n  //     total: {\n  //       revenue: 3733.6755253100155,\n  //       margin: 781.7955253100166,\n  //       cogs: 2951.8799999999974,\n  //       margin_rate: 0.20939032329144414,\n  //       md_perc: 0.08813966453039164,\n  //       sales: 211.0,\n  //       inv_oh: 2647.0,\n  //       sell_through: 0.07382785164450664,\n  //       wos: 12.545023696682465,\n  //       avg_retail: 17.695144669715713,\n  //     },\n  //   },\n  // },\n};\n\nexport default (state = summaryKPIinitialState, action) => {\n  switch (action.type) {\n    case 'SET_KPI_DATA':\n      return {\n        ...state,\n        summaryKPIData: action.value,\n        // summaryKPIData: summaryKPIinitialState.summaryKPIData,\n      };\n    case 'SET_DETAILED_SUMMARY':\n      return {\n        ...state,\n        detailedSummary: action.payload,\n      };\n    case 'SET_MARKDOWN_DETAILS':\n      return {\n        ...state,\n        markdownDetails: action.payload,\n      };\n    case 'SET_AGGREGATED_SUMMARY':\n      let aggregatedSummary = action.payload;\n      if (action.pageNum > 1 && !_.isEmpty(action.payload)) {\n        let binToWeek = [\n            ...state.aggregatedSummary.bin_to_week_agg_data,\n            ...action.payload.bin_to_week_agg_data,\n          ],\n          weekToBin = [\n            ...state.aggregatedSummary.week_to_bin_agg_data,\n            ...action.payload.week_to_bin_agg_data,\n          ];\n        aggregatedSummary = {\n          bin_to_week_agg_data: _.uniqBy(binToWeek, 'markdown_id'),\n          week_to_bin_agg_data: _.uniqBy(weekToBin, 'markdown_id'),\n        };\n      }\n\n      return {\n        ...state,\n        aggregatedSummary,\n      };\n    case 'RESET_SUMMARY':\n      return {\n        ...state,\n        detailedSummary: [],\n        aggregatedSummary: [],\n        summaryKPIData: {},\n      };\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n"]},"metadata":{},"sourceType":"module"}