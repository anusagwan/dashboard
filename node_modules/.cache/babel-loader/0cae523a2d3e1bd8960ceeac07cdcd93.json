{"ast":null,"code":"import _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/Header/Header.js\";\nimport React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logoutUser, someAction } from '../../actions/auth';\nimport { clearCurrentChartdata } from '../../actions/chart';\nimport { dataLoadStatusCheck } from '../../actions/dataLoadProcess';\nimport manuallyCreateMdActions from '../../actions/manuallyCreateMdActions.js';\nimport './headerStyle.css';\nvar isApiStillRunning = false;\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.dataLoadStatusCheck = function () {\n      _this.props.dataLoadStatusCheck().then(function (res) {\n        isApiStillRunning = false;\n      });\n    };\n\n    _this.onLogout = function (e) {\n      _this.props.history.push('/QuIQ');\n    };\n\n    _this.onNotificationClick = function (eachItem) {\n      var simulationIdArray = _this.props.simulationId.filter(function (item) {\n        return item !== eachItem;\n      });\n\n      _this.props.setSimulationId(simulationIdArray);\n\n      _this.props.history.push({\n        pathname: \"/vis/Markdown/create-markdown\",\n        state: {\n          fromNotification: true,\n          plan_id: eachItem\n        }\n      });\n    };\n\n    _this.showList = function (event) {\n      _this.props.getNotificationList();\n\n      event.preventDefault();\n\n      _this.setState({\n        showDropdown: true\n      }, function () {\n        document.addEventListener('click', _this.closeList);\n      });\n    };\n\n    _this.onListIconClick = function () {\n      _this.props.history.push('/vis/Markdown/create-markdown');\n    };\n\n    _this.closeList = function (event) {\n      // if (!this.dropdownMenu.contains(event.target)) {\n      _this.setState({\n        showDropdown: false\n      }, function () {\n        document.removeEventListener('click', _this.closeList);\n      }); // }\n\n    };\n\n    _this.state = {\n      showDropdown: false // notificationIds: [],\n\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.dataLoadStatusCheck();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!isApiStillRunning && this.props.overlayLoaderState && prevProps !== this.props) {\n        isApiStillRunning = true;\n        this.dataLoadStatusCheck();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: this.props.dataLoadStatus ? 'headerContainer batch-process' : 'headerContainer',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.props.dataLoadStatus ? React.createElement(\"div\", {\n        className: \"batch-process-notification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Data Load process currently underway. Create Markdown will be disabled for time being!\") : null, React.createElement(\"nav\", {\n        className: \"navbar navbar-expand-sm navbar-light bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"navbar-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"titleColor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"MarkSmart\")), React.createElement(\"button\", {\n        className: \"navbar-toggler\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \"#navbarMenu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"navbar-toggler-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"collapse navbar-collapse\",\n        id: \"navbar-menu-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"navbar-nav ml-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"btn HeaderNamebutton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, localStorage.getItem('name')[0]))), React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"header-username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Hi \", localStorage.getItem('name')))), React.createElement(\"li\", {\n        title: \"Notifications\",\n        className: \"nav-item\",\n        style: {\n          color: '#44677b',\n          fontSize: '1.7em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fa fa-layers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-bell  notfication-icon\",\n        style: {\n          cursor: 'pointer'\n        },\n        \"aria-hidden\": \"true\",\n        onClick: this.showList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), this.props.simulationId && this.props.simulationId.length && !this.state.showDropdown ? React.createElement(\"span\", {\n        className: \"fa-layers-top-right\",\n        style: {\n          background: 'red',\n          fontSize: '0.6em',\n          color: 'white',\n          borderRadius: '25%',\n          fontWeight: 'bold',\n          float: 'right',\n          textAlign: 'center',\n          padding: '1px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, this.props.simulationId.length) : null)), React.createElement(\"li\", {\n        title: \"Logout\",\n        onClick: this.onLogoutClick,\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        onClick: function onClick() {\n          return _this2.props.logoutUser();\n        },\n        className: \"fa fa-sign-out iconHeader\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })))))), this.state.showDropdown && this.props.simulationId.length ? React.createElement(\"div\", {\n        className: \"menu\" // ref={(element) => {\n        //   this.dropdownMenu = element;\n        //}}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, this.props.simulationId.map(function (eachItem) {\n        return React.createElement(\"ul\", {\n          className: \"notification-ul\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"notification-list\",\n          onClick: function onClick() {\n            _this2.onNotificationClick(eachItem);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Generate Cadence for ID:\", eachItem));\n      })) : null);\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nHeader.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  authReducer: PropTypes.object.isRequired,\n  simulationId: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    authReducer: state.authReducer,\n    dataLoadStatus: state.dataLoadReducer.dataLoadStatus,\n    overlayLoaderState: state.loaderReducer.overlayLoaderState,\n    simulationId: state.manuallyCreateMdData.simulationId\n  };\n};\n\nexport default connect(mapStateToProps, {\n  logoutUser: logoutUser,\n  setSimulationId: manuallyCreateMdActions.setSimulationId,\n  getNotificationList: manuallyCreateMdActions.getNotificationList,\n  clearCurrentChartdata: clearCurrentChartdata,\n  someAction: someAction,\n  dataLoadStatusCheck: dataLoadStatusCheck\n})(withRouter(Header));","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/Header/Header.js"],"names":["React","Component","withRouter","Link","PropTypes","connect","logoutUser","someAction","clearCurrentChartdata","dataLoadStatusCheck","manuallyCreateMdActions","isApiStillRunning","Header","props","then","res","onLogout","e","history","push","onNotificationClick","eachItem","simulationIdArray","simulationId","filter","item","setSimulationId","pathname","state","fromNotification","plan_id","showList","event","getNotificationList","preventDefault","setState","showDropdown","document","addEventListener","closeList","onListIconClick","removeEventListener","prevProps","overlayLoaderState","dataLoadStatus","localStorage","getItem","color","fontSize","cursor","length","background","borderRadius","fontWeight","float","textAlign","padding","onLogoutClick","map","propTypes","func","isRequired","authReducer","object","mapStateToProps","ownProps","dataLoadReducer","loaderReducer","manuallyCreateMdData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logoutUser, someAction } from '../../actions/auth';\nimport { clearCurrentChartdata } from '../../actions/chart';\nimport { dataLoadStatusCheck } from '../../actions/dataLoadProcess';\nimport manuallyCreateMdActions from '../../actions/manuallyCreateMdActions.js';\nimport './headerStyle.css';\n\nvar isApiStillRunning = false;\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDropdown: false,\n      // notificationIds: [],\n    };\n  }\n  componentDidMount() {\n    this.dataLoadStatusCheck();\n  }\n  dataLoadStatusCheck = () => {\n    this.props.dataLoadStatusCheck().then((res) => {\n      isApiStillRunning = false;\n    });\n  };\n  componentDidUpdate(prevProps) {\n    if (!isApiStillRunning && this.props.overlayLoaderState && prevProps !== this.props) {\n      isApiStillRunning = true;\n      this.dataLoadStatusCheck();\n    }\n  }\n  onLogout = (e) => {\n    this.props.history.push('/QuIQ');\n  };\n\n  onNotificationClick = (eachItem) => {\n    let simulationIdArray = this.props.simulationId.filter((item) => item !== eachItem);\n    this.props.setSimulationId(simulationIdArray);\n    this.props.history.push({\n      pathname: `/vis/Markdown/create-markdown`,\n      state: { fromNotification: true, plan_id: eachItem },\n    });\n  };\n  showList = (event) => {\n    this.props.getNotificationList();\n\n    event.preventDefault();\n\n    this.setState({ showDropdown: true }, () => {\n      document.addEventListener('click', this.closeList);\n    });\n  };\n  onListIconClick = () => {\n    this.props.history.push('/vis/Markdown/create-markdown');\n  };\n\n  closeList = (event) => {\n    // if (!this.dropdownMenu.contains(event.target)) {\n    this.setState({ showDropdown: false }, () => {\n      document.removeEventListener('click', this.closeList);\n    });\n    // }\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.dataLoadStatus ? 'headerContainer batch-process' : 'headerContainer'}>\n        {this.props.dataLoadStatus ? (\n          <div className=\"batch-process-notification\">\n            Data Load process currently underway. Create Markdown will be disabled for time being!\n          </div>\n        ) : null}\n        <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n          <p className=\"navbar-brand\">\n            <span id=\"titleColor\">MarkSmart</span>\n          </p>\n          <button className=\"navbar-toggler\" data-toggle=\"collapse\" data-target=\"#navbarMenu\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbar-menu-right\">\n            <ul className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <span>\n                  <div className=\"btn HeaderNamebutton\">{localStorage.getItem('name')[0]}</div>\n                </span>\n              </li>\n              <li className=\"nav-item\">\n                <span>\n                  <p className=\"header-username\">Hi {localStorage.getItem('name')}</p>\n                </span>\n              </li>\n              <li\n                title=\"Notifications\"\n                className=\"nav-item\"\n                style={{ color: '#44677b', fontSize: '1.7em' }}>\n                <span className=\"fa fa-layers\">\n                  <i\n                    className=\"fa fa-bell  notfication-icon\"\n                    style={{ cursor: 'pointer' }}\n                    aria-hidden=\"true\"\n                    onClick={this.showList}></i>\n\n                  {this.props.simulationId &&\n                  this.props.simulationId.length &&\n                  !this.state.showDropdown ? (\n                    <span\n                      className=\"fa-layers-top-right\"\n                      style={{\n                        background: 'red',\n                        fontSize: '0.6em',\n                        color: 'white',\n                        borderRadius: '25%',\n                        fontWeight: 'bold',\n                        float: 'right',\n                        textAlign: 'center',\n                        padding: '1px',\n                      }}>\n                      {this.props.simulationId.length}\n                    </span>\n                  ) : null}\n                </span>\n              </li>\n              <li title=\"Logout\" onClick={this.onLogoutClick} className=\"nav-item\">\n                <Link to=\"/\">\n                  <i\n                    onClick={() => this.props.logoutUser()}\n                    className=\"fa fa-sign-out iconHeader\"\n                    aria-hidden=\"true\"></i>\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </nav>\n        {this.state.showDropdown && this.props.simulationId.length ? (\n          <div\n            className=\"menu\"\n            // ref={(element) => {\n            //   this.dropdownMenu = element;\n            //}}\n          >\n            {this.props.simulationId.map((eachItem) => (\n              <ul className=\"notification-ul\">\n                {/* <Link to=\"/vis/Markdown/create-markdown\"> */}\n                <li\n                  className=\"notification-list\"\n                  onClick={() => {\n                    this.onNotificationClick(eachItem);\n                  }}>\n                  Generate Cadence for ID:{eachItem}\n                </li>\n                {/* </Link> */}\n              </ul>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nHeader.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  authReducer: PropTypes.object.isRequired,\n  simulationId: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  authReducer: state.authReducer,\n  dataLoadStatus: state.dataLoadReducer.dataLoadStatus,\n  overlayLoaderState: state.loaderReducer.overlayLoaderState,\n  simulationId: state.manuallyCreateMdData.simulationId,\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser,\n  setSimulationId: manuallyCreateMdActions.setSimulationId,\n  getNotificationList: manuallyCreateMdActions.getNotificationList,\n  clearCurrentChartdata,\n  someAction,\n  dataLoadStatusCheck,\n})(withRouter(Header));\n"]},"metadata":{},"sourceType":"module"}