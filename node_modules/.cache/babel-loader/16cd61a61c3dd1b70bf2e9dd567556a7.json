{"ast":null,"code":"import _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/MarkdownAnalysis/index.js\";\nimport React, { Component } from 'react';\nimport Tippy from '@tippy.js/react';\nimport Select from 'react-select';\nimport AnalysisTable from '../MarkdownAnalysis/AnalysisTable';\nimport moment from 'moment';\nimport 'tippy.js/dist/tippy.css';\nimport BarChart from '../support/Charts/Barchart';\nimport './index.css';\nimport _ from 'lodash';\nvar options2 = {\n  tooltips: {\n    callbacks: {\n      label: function label(tooltipItem, data) {\n        var label = data.labels[tooltipItem.index];\n        var value = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n        var labelTip = 'Week' + ':' + label;\n        var valueTip = 'Margin%' + ':' + value;\n        return [labelTip, valueTip];\n      }\n    }\n  },\n  plugins: {\n    datalabels: {\n      display: false\n    }\n  },\n  legend: {\n    display: false,\n    position: 'bottom',\n    labels: {\n      boxWidth: 12\n    },\n    fontFamily: 'Helvetica',\n    fontSize: '12px'\n  },\n  maintainAspectRatio: false,\n  scales: {\n    yAxes: [{\n      gridLines: {\n        display: true\n      },\n      ticks: {\n        fontSize: 13,\n        suggestedMin: 0\n      },\n      scaleLabel: {\n        show: true,\n        display: true,\n        fontSize: 14,\n        fontStyle: 'bold',\n        fontColor: '#000',\n        labelString: 'Margin %'\n      }\n    }],\n    xAxes: [{\n      id: 'x-axis-0',\n      categoryPercentage: 1.0,\n      barPercentage: 1.0,\n      gridLines: {\n        display: false\n      },\n      ticks: {\n        autoSkip: true,\n        autoSkipPadding: 40,\n        maxRotation: 0,\n        suggestedMin: 0\n      },\n      scaleLabel: {\n        display: true,\n        labelString: 'Time (week)',\n        fontWeight: 900,\n        fontStyle: 'bold'\n      }\n    }]\n  }\n};\nvar options = {\n  tooltips: {\n    callbacks: {\n      label: function label(tooltipItem, data) {\n        var label = data.labels[tooltipItem.index];\n        var value = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n        var labelTip = 'Week' + ':' + label;\n        var valueTip = 'ST%' + ':' + value;\n        return [labelTip, valueTip];\n      }\n    }\n  },\n  plugins: {\n    datalabels: {\n      display: false\n    }\n  },\n  legend: {\n    display: false,\n    position: 'bottom',\n    labels: {\n      boxWidth: 12\n    },\n    fontFamily: 'Helvetica',\n    fontSize: '12px'\n  },\n  maintainAspectRatio: false,\n  scales: {\n    yAxes: [{\n      gridLines: {\n        display: true\n      },\n      ticks: {\n        fontSize: 13,\n        suggestedMin: 0\n      },\n      scaleLabel: {\n        show: true,\n        display: true,\n        fontSize: 14,\n        fontStyle: 'bold',\n        fontColor: '#000',\n        labelString: 'Sell Through %'\n      }\n    }],\n    xAxes: [{\n      id: 'x-axis-0',\n      categoryPercentage: 1.0,\n      barPercentage: 1.0,\n      gridLines: {\n        display: false\n      },\n      ticks: {\n        autoSkip: true,\n        autoSkipPadding: 40,\n        maxRotation: 0,\n        suggestedMin: 0\n      },\n      scaleLabel: {\n        display: true,\n        labelString: 'Time (week)',\n        fontWeight: 900,\n        fontStyle: 'bold'\n      }\n    }]\n  }\n};\n\nfunction appendObjTo(thatArray, newObj) {\n  var frozenObj = Object.freeze(newObj);\n  return Object.freeze(thatArray.concat(frozenObj));\n}\n\nvar MarkdownAnalysis =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MarkdownAnalysis, _Component);\n\n  function MarkdownAnalysis(props) {\n    var _this;\n\n    _classCallCheck(this, MarkdownAnalysis);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkdownAnalysis).call(this, props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(MarkdownAnalysis, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var arr1 = [{\n        style_desc: '18.52%',\n        style_id: 'Sell Through %'\n      }, {\n        style_desc: '78.15%',\n        style_id: 'Margin %'\n      }];\n      var arr2 = [{\n        style_desc: '48.52%',\n        style_id: 'Sell Through %'\n      }, {\n        style_desc: '8.15%',\n        style_id: 'Margin %'\n      }];\n      var result = arr1.map(function (e) {\n        for (var _i = 0, _arr = arr2; _i < _arr.length; _i++) {\n          var element = _arr[_i];\n          if (e.a == element.a) Object.assign(e, element);\n        }\n\n        return e;\n      });\n      console.log(result, 'result'); // var abc = this.props.analysisTable;\n      // var def = this.props.editAnalysisData;\n      // var ghi = [abc, def];\n\n      var borderColors = ['#44677B', '#6F9FC3', '#83BE8C', '#88ad5f', '#b06d58', '#86588a', '#17a69c', '#b0a819', '#d97c30', '#5d5b85'];\n      var backgroundColors = ['rgba(68, 103, 123, 0.3)', 'rgba(166, 206, 227, 0.3)', 'rgba(131, 190, 140, 0.3)', 'rgba(136, 173, 95, 0.3)', 'rgba(176, 109, 88, 0.3)', 'rgba(134, 88, 138, 0.3)', 'rgba(23, 166, 156, 0.3)', 'rgba(89, 86, 25, 0.3)', 'rgba(217, 124, 48, 0.3)', 'rgba(93, 91, 133, 0.3)'];\n      var backgroundColors1 = ['rgba(68, 103, 123, 0.1)', 'rgba(166, 206, 227, 0.1)', 'rgba(131, 190, 140, 0.1)', 'rgba(136, 173, 95, 0.1)', 'rgba(176, 109, 88, 0.1)', 'rgba(134, 88, 138, 0.1)', 'rgba(23, 166, 156, 0.1)', 'rgba(89, 86, 25, 0.1)', 'rgba(217, 124, 48, 0.1)', 'rgba(93, 91, 133, 0.1)'];\n      var uniqueWeek = {};\n      this.props.markdownAnalysisGraphData.weekly_markdown.forEach(function (value, i) {\n        if (!uniqueWeek.hasOwnProperty(value)) {\n          uniqueWeek[value] = {\n            backgroundColor: backgroundColors.pop(),\n            backgroundColor1: backgroundColors1.pop()\n          };\n          uniqueWeek[value].borderColor = borderColors.pop();\n        }\n      });\n      var legendPercentages = Object.keys(uniqueWeek);\n      var labels = this.props.markdownAnalysisGraphData.weekNum.map(function (date) {\n        if (_this2.props.level === 'week') {\n          return date;\n        } else {\n          return moment(date).format('MMM DD');\n        }\n      });\n      var sellThroughData = {\n        labels: labels,\n        datasets: [{\n          data: this.props.markdownAnalysisGraphData.sellThrough,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].borderColor;\n          }),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].backgroundColor;\n          }),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0\n          }\n        }]\n      };\n      var sellThroughEditData = {\n        labels: labels,\n        datasets: [{\n          data: this.props.markdownAnalysisGraphData.sellThrough,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].borderColor;\n          }),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].backgroundColor;\n          }),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0\n          }\n        }, {\n          data: this.props.markdownAnalysisGraphData.sellThrough,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].borderColor;\n          }),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].backgroundColor1;\n          }),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0\n          },\n          borderDash: [5, 5]\n        }]\n      };\n      var marginData = {\n        labels: labels,\n        datasets: [{\n          data: this.props.markdownAnalysisGraphData.margin,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].borderColor;\n          }),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].backgroundColor;\n          }),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0\n          }\n        }]\n      };\n      var marginEditData = {\n        labels: labels,\n        datasets: [{\n          data: this.props.markdownAnalysisGraphData.margin,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].borderColor;\n          }),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].backgroundColor;\n          }),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0\n          }\n        }, {\n          data: this.props.markdownAnalysisGraphData.margin,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].borderColor;\n          }),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(function (m) {\n            return uniqueWeek[m].backgroundColor1;\n          }),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0\n          }\n        }]\n      };\n      var level = this.props.level === 'week' ? 'Week' : 'Month';\n      options.scales.xAxes[0].scaleLabel.labelString = level;\n      options2.scales.xAxes[0].scaleLabel.labelString = level;\n      legendPercentages = Object.keys(uniqueWeek).map(function (percentage) {\n        return \"\".concat(Number(percentage), \"%\");\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row skuLabelStyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"skuLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, \"Style-Color\"), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(Select, {\n        placeholder: \"Style-Color\",\n        value: this.props.selectedSku,\n        options: this.props.optionSku,\n        onChange: this.props.selectedSkuHandler,\n        isClearable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8\",\n        style: {\n          marginLeft: '4rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"chartContainermain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"sellThroughLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, \"Sell Through %\"), React.createElement(\"div\", {\n        className: \"chartContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row j-c-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, legendPercentages.map(function (percentage, index) {\n        return React.createElement(\"div\", {\n          className: \"d-flex\",\n          key: \"\".concat(Math.random() + index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        }, React.createElement(Tippy, {\n          style: {\n            cursor: 'pointer'\n          },\n          placement: 'left',\n          arrow: true,\n          distance: 10,\n          content: React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 392\n            },\n            __self: this\n          }, \" MD \", percentage),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"color-box mr-2\",\n          style: {\n            cursor: 'pointer',\n            backgroundColor: Object.keys(uniqueWeek).map(function (percentage) {\n              return uniqueWeek[percentage].borderColor;\n            })[index]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        })), React.createElement(\"span\", {\n          className: \"left-space\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        }, percentage));\n      }))), React.createElement(BarChart, {\n        width: '681px',\n        height: '280px',\n        data: this.props.isEdit ? sellThroughEditData : sellThroughData,\n        options: options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"chartContainermain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"sellThroughLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, \"Margin %\"), React.createElement(\"div\", {\n        className: \"chartContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row j-c-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, legendPercentages.map(function (percentage, index) {\n        return React.createElement(\"div\", {\n          className: \"d-flex\",\n          key: \"\".concat(Math.random() + index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420\n          },\n          __self: this\n        }, React.createElement(Tippy, {\n          style: {\n            cursor: 'pointer'\n          },\n          placement: 'left',\n          arrow: true,\n          distance: 10,\n          content: React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 426\n            },\n            __self: this\n          }, \" MD \", percentage),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 421\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"color-box mr-2\",\n          style: {\n            cursor: 'pointer',\n            backgroundColor: Object.keys(uniqueWeek).map(function (percentage) {\n              return uniqueWeek[percentage].borderColor;\n            })[index]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 427\n          },\n          __self: this\n        })), React.createElement(\"span\", {\n          className: \"left-space\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 437\n          },\n          __self: this\n        }, percentage));\n      }))), React.createElement(BarChart, {\n        width: '681px',\n        height: '280px',\n        data: this.props.isEdit ? marginEditData : marginData,\n        options: options2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        style: {\n          paddingTop: '2rem',\n          marginLeft: '5em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }, React.createElement(AnalysisTable // tableData={this.props.isEdit ? ghi || [] : this.props.analysisTable || []}\n      , {\n        tableData: this.props.analysisTable || [],\n        isEdit: this.props.isEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return MarkdownAnalysis;\n}(Component);\n\nexport default MarkdownAnalysis;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/MarkdownAnalysis/index.js"],"names":["React","Component","Tippy","Select","AnalysisTable","moment","BarChart","_","options2","tooltips","callbacks","label","tooltipItem","data","labels","index","value","datasets","datasetIndex","labelTip","valueTip","plugins","datalabels","display","legend","position","boxWidth","fontFamily","fontSize","maintainAspectRatio","scales","yAxes","gridLines","ticks","suggestedMin","scaleLabel","show","fontStyle","fontColor","labelString","xAxes","id","categoryPercentage","barPercentage","autoSkip","autoSkipPadding","maxRotation","fontWeight","options","appendObjTo","thatArray","newObj","frozenObj","Object","freeze","concat","MarkdownAnalysis","props","state","arr1","style_desc","style_id","arr2","result","map","e","element","a","assign","console","log","borderColors","backgroundColors","backgroundColors1","uniqueWeek","markdownAnalysisGraphData","weekly_markdown","forEach","i","hasOwnProperty","backgroundColor","pop","backgroundColor1","borderColor","legendPercentages","keys","weekNum","date","level","format","sellThroughData","sellThrough","m","borderWidth","top","right","bottom","left","sellThroughEditData","borderDash","marginData","margin","marginEditData","percentage","Number","selectedSku","optionSku","selectedSkuHandler","marginLeft","Math","random","cursor","isEdit","paddingTop","analysisTable"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Tippy from '@tippy.js/react';\nimport Select from 'react-select';\nimport AnalysisTable from '../MarkdownAnalysis/AnalysisTable';\nimport moment from 'moment';\nimport 'tippy.js/dist/tippy.css';\nimport BarChart from '../support/Charts/Barchart';\nimport './index.css';\nimport _ from 'lodash';\nconst options2 = {\n  tooltips: {\n    callbacks: {\n      label: function (tooltipItem, data) {\n        let label = data.labels[tooltipItem.index];\n        let value = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n        let labelTip = 'Week' + ':' + label;\n        let valueTip = 'Margin%' + ':' + value;\n        return [labelTip, valueTip];\n      },\n    },\n  },\n  plugins: {\n    datalabels: {\n      display: false,\n    },\n  },\n  legend: {\n    display: false,\n    position: 'bottom',\n    labels: {\n      boxWidth: 12,\n    },\n    fontFamily: 'Helvetica',\n    fontSize: '12px',\n  },\n  maintainAspectRatio: false,\n  scales: {\n    yAxes: [\n      {\n        gridLines: {\n          display: true,\n        },\n        ticks: {\n          fontSize: 13,\n          suggestedMin: 0,\n        },\n        scaleLabel: {\n          show: true,\n          display: true,\n          fontSize: 14,\n          fontStyle: 'bold',\n          fontColor: '#000',\n          labelString: 'Margin %',\n        },\n      },\n    ],\n    xAxes: [\n      {\n        id: 'x-axis-0',\n        categoryPercentage: 1.0,\n        barPercentage: 1.0,\n        gridLines: {\n          display: false,\n        },\n        ticks: {\n          autoSkip: true,\n          autoSkipPadding: 40,\n          maxRotation: 0,\n          suggestedMin: 0,\n        },\n        scaleLabel: {\n          display: true,\n          labelString: 'Time (week)',\n          fontWeight: 900,\n          fontStyle: 'bold',\n        },\n      },\n    ],\n  },\n};\nconst options = {\n  tooltips: {\n    callbacks: {\n      label: function (tooltipItem, data) {\n        let label = data.labels[tooltipItem.index];\n        let value = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n        let labelTip = 'Week' + ':' + label;\n        let valueTip = 'ST%' + ':' + value;\n        return [labelTip, valueTip];\n      },\n    },\n  },\n  plugins: {\n    datalabels: {\n      display: false,\n    },\n  },\n  legend: {\n    display: false,\n    position: 'bottom',\n    labels: {\n      boxWidth: 12,\n    },\n    fontFamily: 'Helvetica',\n    fontSize: '12px',\n  },\n  maintainAspectRatio: false,\n  scales: {\n    yAxes: [\n      {\n        gridLines: {\n          display: true,\n        },\n        ticks: {\n          fontSize: 13,\n          suggestedMin: 0,\n        },\n        scaleLabel: {\n          show: true,\n          display: true,\n          fontSize: 14,\n          fontStyle: 'bold',\n          fontColor: '#000',\n          labelString: 'Sell Through %',\n        },\n      },\n    ],\n    xAxes: [\n      {\n        id: 'x-axis-0',\n        categoryPercentage: 1.0,\n        barPercentage: 1.0,\n        gridLines: {\n          display: false,\n        },\n        ticks: {\n          autoSkip: true,\n          autoSkipPadding: 40,\n          maxRotation: 0,\n          suggestedMin: 0,\n        },\n        scaleLabel: {\n          display: true,\n          labelString: 'Time (week)',\n          fontWeight: 900,\n          fontStyle: 'bold',\n        },\n      },\n    ],\n  },\n};\nfunction appendObjTo(thatArray, newObj) {\n  const frozenObj = Object.freeze(newObj);\n  return Object.freeze(thatArray.concat(frozenObj));\n}\nclass MarkdownAnalysis extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    const arr1 = [\n      {\n        style_desc: '18.52%',\n        style_id: 'Sell Through %',\n      },\n      {\n        style_desc: '78.15%',\n        style_id: 'Margin %',\n      },\n    ];\n    const arr2 = [\n      {\n        style_desc: '48.52%',\n        style_id: 'Sell Through %',\n      },\n      {\n        style_desc: '8.15%',\n        style_id: 'Margin %',\n      },\n    ];\n\n    let result = arr1.map((e) => {\n      for (let element of arr2) {\n        if (e.a == element.a) Object.assign(e, element);\n      }\n      return e;\n    });\n\n    console.log(result, 'result');\n    // var abc = this.props.analysisTable;\n    // var def = this.props.editAnalysisData;\n    // var ghi = [abc, def];\n    const borderColors = [\n      '#44677B',\n      '#6F9FC3',\n      '#83BE8C',\n      '#88ad5f',\n      '#b06d58',\n      '#86588a',\n      '#17a69c',\n      '#b0a819',\n      '#d97c30',\n      '#5d5b85',\n    ];\n    const backgroundColors = [\n      'rgba(68, 103, 123, 0.3)',\n      'rgba(166, 206, 227, 0.3)',\n      'rgba(131, 190, 140, 0.3)',\n      'rgba(136, 173, 95, 0.3)',\n      'rgba(176, 109, 88, 0.3)',\n      'rgba(134, 88, 138, 0.3)',\n      'rgba(23, 166, 156, 0.3)',\n      'rgba(89, 86, 25, 0.3)',\n      'rgba(217, 124, 48, 0.3)',\n      'rgba(93, 91, 133, 0.3)',\n    ];\n    const backgroundColors1 = [\n      'rgba(68, 103, 123, 0.1)',\n      'rgba(166, 206, 227, 0.1)',\n      'rgba(131, 190, 140, 0.1)',\n      'rgba(136, 173, 95, 0.1)',\n      'rgba(176, 109, 88, 0.1)',\n      'rgba(134, 88, 138, 0.1)',\n      'rgba(23, 166, 156, 0.1)',\n      'rgba(89, 86, 25, 0.1)',\n      'rgba(217, 124, 48, 0.1)',\n      'rgba(93, 91, 133, 0.1)',\n    ];\n    let uniqueWeek = {};\n    this.props.markdownAnalysisGraphData.weekly_markdown.forEach((value, i) => {\n      if (!uniqueWeek.hasOwnProperty(value)) {\n        uniqueWeek[value] = {\n          backgroundColor: backgroundColors.pop(),\n          backgroundColor1: backgroundColors1.pop(),\n        };\n        uniqueWeek[value].borderColor = borderColors.pop();\n      }\n    });\n    let legendPercentages = Object.keys(uniqueWeek);\n    const labels = this.props.markdownAnalysisGraphData.weekNum.map((date) => {\n      if (this.props.level === 'week') {\n        return date;\n      } else {\n        return moment(date).format('MMM DD');\n      }\n    });\n    let sellThroughData = {\n      labels: labels,\n      datasets: [\n        {\n          data: this.props.markdownAnalysisGraphData.sellThrough,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].borderColor\n          ),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].backgroundColor\n          ),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0,\n          },\n        },\n      ],\n    };\n    let sellThroughEditData = {\n      labels: labels,\n      datasets: [\n        {\n          data: this.props.markdownAnalysisGraphData.sellThrough,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].borderColor\n          ),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].backgroundColor\n          ),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0,\n          },\n        },\n        {\n          data: this.props.markdownAnalysisGraphData.sellThrough,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].borderColor\n          ),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].backgroundColor1\n          ),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0,\n          },\n          borderDash: [5, 5],\n        },\n      ],\n    };\n    let marginData = {\n      labels: labels,\n      datasets: [\n        {\n          data: this.props.markdownAnalysisGraphData.margin,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].borderColor\n          ),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].backgroundColor\n          ),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0,\n          },\n        },\n      ],\n    };\n    let marginEditData = {\n      labels: labels,\n      datasets: [\n        {\n          data: this.props.markdownAnalysisGraphData.margin,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].borderColor\n          ),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].backgroundColor\n          ),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0,\n          },\n        },\n        {\n          data: this.props.markdownAnalysisGraphData.margin,\n          borderColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].borderColor\n          ),\n          backgroundColor: this.props.markdownAnalysisGraphData.weekly_markdown.map(\n            (m) => uniqueWeek[m].backgroundColor1\n          ),\n          borderWidth: {\n            top: 3,\n            right: 0,\n            bottom: 0,\n            left: 0,\n          },\n        },\n      ],\n    };\n    let level = this.props.level === 'week' ? 'Week' : 'Month';\n    options.scales.xAxes[0].scaleLabel.labelString = level;\n    options2.scales.xAxes[0].scaleLabel.labelString = level;\n    legendPercentages = Object.keys(uniqueWeek).map((percentage) => `${Number(percentage)}%`);\n    return (\n      <div>\n        <div className=\"mb-4\">\n          <div className=\"row skuLabelStyle\">\n            <label className=\"skuLabel\">Style-Color</label>\n            <div className=\"col-md-2\">\n              <Select\n                placeholder=\"Style-Color\"\n                value={this.props.selectedSku}\n                options={this.props.optionSku}\n                onChange={this.props.selectedSkuHandler}\n                isClearable\n              />\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-md-8\" style={{ marginLeft: '4rem' }}>\n              <div className=\"chartContainermain\">\n                <label className=\"sellThroughLabel\">Sell Through %</label>\n                <div className=\"chartContainer\">\n                  <div className=\"row j-c-c\">\n                    {legendPercentages.map((percentage, index) => (\n                      <div className=\"d-flex\" key={`${Math.random() + index}`}>\n                        <Tippy\n                          style={{ cursor: 'pointer' }}\n                          placement={'left'}\n                          arrow={true}\n                          distance={10}\n                          content={<div> MD {percentage}</div>}>\n                          <div\n                            className=\"color-box mr-2\"\n                            style={{\n                              cursor: 'pointer',\n                              backgroundColor: Object.keys(uniqueWeek).map(\n                                (percentage) => uniqueWeek[percentage].borderColor\n                              )[index],\n                            }}\n                          />\n                        </Tippy>\n                        <span className=\"left-space\">{percentage}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                <BarChart\n                  width={'681px'}\n                  height={'280px'}\n                  data={this.props.isEdit ? sellThroughEditData : sellThroughData}\n                  options={options}\n                />\n              </div>\n              <div className=\"chartContainermain\">\n                <label className=\"sellThroughLabel\">Margin %</label>\n                <div className=\"chartContainer\">\n                  <div className=\"row j-c-c\">\n                    {legendPercentages.map((percentage, index) => (\n                      <div className=\"d-flex\" key={`${Math.random() + index}`}>\n                        <Tippy\n                          style={{ cursor: 'pointer' }}\n                          placement={'left'}\n                          arrow={true}\n                          distance={10}\n                          content={<div> MD {percentage}</div>}>\n                          <div\n                            className=\"color-box mr-2\"\n                            style={{\n                              cursor: 'pointer',\n                              backgroundColor: Object.keys(uniqueWeek).map(\n                                (percentage) => uniqueWeek[percentage].borderColor\n                              )[index],\n                            }}\n                          />\n                        </Tippy>\n                        <span className=\"left-space\">{percentage}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                <BarChart\n                  width={'681px'}\n                  height={'280px'}\n                  data={this.props.isEdit ? marginEditData : marginData}\n                  options={options2}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-2\" style={{ paddingTop: '2rem', marginLeft: '5em' }}>\n              <AnalysisTable\n                // tableData={this.props.isEdit ? ghi || [] : this.props.analysisTable || []}\n                tableData={this.props.analysisTable || []}\n                isEdit={this.props.isEdit}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MarkdownAnalysis;\n"]},"metadata":{},"sourceType":"module"}