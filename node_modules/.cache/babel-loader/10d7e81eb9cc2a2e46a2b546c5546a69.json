{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/ManuallyCreateMD/MardownDetailedTable.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  margin-bottom: -3rem;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport DataTable from '../../services/reactTable';\nimport cloneDeep from 'clone-deep'; // import { toPercentage } from '../../helper/formatter';\n\nimport ColumnSelection from '../../components/columnSelection';\nimport styled from 'styled-components';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport NoData from '../noTableData';\nimport { toPercentage, toDollarWithlDraft, toUnitDraft, toDollarWithDecimal, toPercWithOneDecimal } from '../../helper/formatter';\n\nfunction FormatterStyling(props, value, val) {\n  var val1 = val || val == 0 ? val : props.value;\n  var props1 = val || val == 0 ? {\n    value: val\n  } : props;\n  if (value == 'planned_units' || value == 'units') return val1 || val1 == 0 ? toUnitDraft(props1) : '-';\n  if (value == 'revenue' || value == 'margin') return val1 || val1 == 0 ? toDollarWithlDraft(props1) : '-';\n  if (value == 'aur' || value == 'aum') return val1 || val1 == 0 ? toDollarWithDecimal(props1) : '-'; //case downloadFormatter\n\n  if (props === 'planned_units' || props === 'units') return toUnitDraft;\n  if (props === 'revenue' || props == 'margin') return toDollarWithlDraft;\n  if (props === 'aur' || props == 'aum') return toDollarWithDecimal;\n  return '-';\n}\n\nvar combinedData = [];\n\nvar MarkdownDetailedTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MarkdownDetailedTable, _Component);\n\n  function MarkdownDetailedTable() {\n    var _this;\n\n    _classCallCheck(this, MarkdownDetailedTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkdownDetailedTable).call(this));\n\n    _this.updateHeader = function (newColumns) {\n      var headers = [{\n        Header: 'Bin',\n        accessor: 'bins',\n        width: 300,\n        disableGroupBy: true,\n        enableRowSpan: true\n      }, {\n        Header: 'Style/Style Group',\n        accessor: 'SKU_Id',\n        width: 300,\n        disableGroupBy: true,\n        enableRowSpan: true\n      }, {\n        Header: 'Style Description',\n        accessor: 'style_description',\n        width: 300\n      }];\n\n      _.map(_this.props.data && _this.props.data.weeks, function (week) {\n        var weeksDate = {\n          w1: {\n            week_num: '1',\n            start_of_week_date: '2017-01-2',\n            end_of_week_date: '2017-02-2'\n          },\n          w2: {\n            week_num: '2',\n            start_of_week_date: '2017-01-2',\n            end_of_week_date: '2017-02-2'\n          },\n          w3: {\n            week_num: '3',\n            start_of_week_date: '2017-01-2',\n            end_of_week_date: '2017-02-2'\n          },\n          w4: {\n            week_num: '4',\n            start_of_week_date: '2017-01-2',\n            end_of_week_date: '2017-02-2'\n          }\n        };\n        var col = '';\n\n        for (weeksDate in object) {\n          var _col = object[property];\n        }\n\n        var value = Object.values(weeksDate)[0];\n        console.log(value, 'value');\n        var sMonth = moment(weeksDate && weeksDate.start_of_week_date).format('MMM');\n        var eMonth = moment(weeksDate && weeksDate.end_of_week_date).format('MMM');\n        var sDay = moment(weeksDate && weeksDate.start_of_week_date).format('DD');\n        var eDay = moment(weeksDate && weeksDate.end_of_week_date).format('DD');\n        var header = sMonth + ' ' + sDay + ' - ' + eMonth + ' ' + eDay;\n        var column = newColumns ? cloneDeep(newColumns) : cloneDeep(_this.state.column);\n        column.Header = col;\n        console.log(column.Header, 'hhhhhhh');\n\n        _.map(column.columns, function (item, index) {\n          if (item.accessor == 'scenario') {\n            item.Cell = function (props) {\n              return props.row.original.offer_value == '%off' || props.row.original.offer_value == 'percent_off' ? \"\".concat(props.value, \" %\") : \"\".concat(props.value, \"  PP\");\n            };\n          }\n\n          item.accessor = \"\".concat(week).concat(item.accessor);\n          item.downloadHeader = \"\".concat(week, \" \").concat(item.Header);\n          return item;\n        });\n\n        headers.push(column);\n      });\n\n      if (!_.isEmpty(_this.props.editData) && _this.props.isEdit) {\n        headers.splice(1, 0, {\n          Header: '',\n          disableSort: true,\n          accessor: 'metric',\n          disableGroupBy: true\n        });\n      }\n\n      _this.setState({\n        headers: headers\n      });\n    };\n\n    _this.onHandleCheckBox = function (e, label, index) {\n      //adding\n      if (e.target.checked) {\n        if (_this.state.selLabels.indexOf(label) === -1) {\n          var labels = [].concat(_toConsumableArray(_this.state.selLabels), [label]);\n          var tempArr = [];\n          labels.forEach(function (label) {\n            var columns = _this.props.columnHeaders[label];\n            var labelColumns = Object.keys(columns);\n            var options = labelColumns.map(function (label) {\n              return {\n                label: label,\n                value: columns[label]\n              };\n            });\n            tempArr.push.apply(tempArr, _toConsumableArray(options));\n          });\n\n          _this.setState({\n            selLabels: labels,\n            columnOptions: tempArr\n          });\n        }\n      } else {\n        //removing\n        var _index = _this.state.selLabels.indexOf(label);\n\n        if (_index !== -1) {\n          var selectedLabel = _.cloneDeep(_this.state.selLabels);\n\n          selectedLabel.splice(_index, 1);\n          var _tempArr = [];\n          selectedLabel.forEach(function (label) {\n            var columns = _this.props.columnHeaders[label];\n            var labelColumns = Object.keys(columns);\n            var options = labelColumns.map(function (label) {\n              return {\n                label: label,\n                value: columns[label]\n              };\n            });\n\n            _tempArr.push.apply(_tempArr, _toConsumableArray(options));\n          });\n\n          var selectedItemsClone = _.cloneDeep(_this.state.selectedItems);\n\n          var newSelectedItems = [];\n          var labelArr = Object.keys(_this.props.columnHeaders[label]);\n          selectedItemsClone.forEach(function (item) {\n            if (!labelArr.includes(item.label)) {\n              newSelectedItems.push(item);\n            }\n          });\n\n          _this.onHandleDropdownSelect(newSelectedItems);\n\n          _this.setState({\n            selLabels: selectedLabel,\n            columnOptions: _tempArr,\n            selectedItems: newSelectedItems\n          });\n        }\n      }\n    };\n\n    _this.onHandleDropdownSelect = function (options) {\n      var headers = cloneDeep(_this.state.headers);\n      var column = cloneDeep(_this.state.column);\n\n      _.remove(headers, function (item) {\n        return item.metric;\n      });\n\n      _.map(options, function (item) {\n        // let downloadFormatter = FormatterStyling(item.value);\n        column.columns.push({\n          Header: item.label,\n          accessor: item.value,\n          metric: true,\n          Cell: function Cell(props) {\n            return FormatterStyling(props, item.value);\n          } // downloadFormatter,\n\n        });\n      });\n\n      _this.updateHeader(column);\n\n      _this.setState({\n        selectedItems: options\n      });\n    };\n\n    _this.state = {\n      columnOptions: [],\n      selLabels: [],\n      selectedItems: [],\n      column: {\n        Header: '',\n        columns: [{\n          Header: 'ST %',\n          accessor: 'sellThrough',\n          // minWidth: 600,\n          width: 500,\n          Cell: function Cell(props) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 53\n              },\n              __self: this\n            }, \" \", toPercentage(props), \" \");\n          } // downloadFormatter: toPercentage,\n\n        }, {\n          Header: 'Margin %',\n          accessor: 'margin_percentage',\n          // minWidth: 600,\n          width: 500,\n          Cell: function Cell(props) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, \" \", toPercWithOneDecimal(props), \" \");\n          } // downloadFormatter: toPercentage,\n\n        }, {\n          Header: 'MD',\n          accessor: 'scenario',\n          // mi nWidth: 600,\n          width: 500\n        }]\n      },\n      headers: [],\n      tableData: [],\n      editedData: []\n    };\n    return _this;\n  }\n\n  _createClass(MarkdownDetailedTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var detailedTableData = this.props.detailedTableData;\n\n      if (!_.isEmpty(detailedTableData)) {\n        this.setState({\n          columnOptions: detailedTableData.columnOptions,\n          selLabels: detailedTableData.selLabels,\n          tableData: this.props.data && this.props.data.data\n        }, function () {\n          if (!_.isEmpty(detailedTableData.selectedItems)) _this2.onHandleDropdownSelect(detailedTableData.selectedItems);else _this2.updateHeader();\n        });\n        return;\n      }\n\n      this.updateHeader();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.data && prevProps.data && !_.isEqual(prevProps.data.weeks, this.props.data.weeks)) {\n        this.updateHeader();\n      }\n\n      if (!_.isEqual(this.props.data && this.props.data.data, this.state.tableData)) {\n        combinedData = this.props.data && this.props.data.data;\n        this.setState({\n          tableData: this.props.data && this.props.data.data\n        });\n      }\n\n      if (!_.isEmpty(this.props.editData) && !_.isEmpty(this.props.data) && !_.isEqual(this.props.editData.data, this.state.editedData)) {\n        var Data = [].concat(_toConsumableArray(this.props.data.data), _toConsumableArray(this.props.editData.data));\n        combinedData = _.sortBy(Data, [function (o) {\n          return o.SKU_Id;\n        }]);\n\n        var find = _.find(this.state.headers, {\n          accessor: 'metric'\n        });\n\n        if (!find) this.updateHeader();\n        this.setState({\n          editedData: this.props.editData.data\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.detailedTableDataHandler({\n        columnOptions: this.state.columnOptions,\n        selLabels: this.state.selLabels,\n        selectedItems: this.state.selectedItems,\n        headers: this.state.headers\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props.data, 'dadadadadadda');\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, combinedData && combinedData.length ? React.createElement(\"div\", {\n        style: {\n          overflowX: 'auto',\n          width: '100%',\n          paddingBottom: '28px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(ColSelBtn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(ColumnSelection, {\n        onHandleCheckBox: this.onHandleCheckBox,\n        columnHeaders: this.props.columnHeaders,\n        onHandleSelect: this.onHandleDropdownSelect,\n        columnOptions: this.state.columnOptions,\n        selectedItems: this.state.selectedItems,\n        selLabels: this.state.selLabels,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      })), React.createElement(DataTable, {\n        isSort: true,\n        fileName: \"Simulated details\",\n        columns: this.state.headers,\n        data: combinedData ? combinedData : '',\n        isPagination: true,\n        showExport: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }), ' ') : React.createElement(NoData, {\n        description: \"No Data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MarkdownDetailedTable;\n}(Component);\n\nexport default MarkdownDetailedTable;\nvar ColSelBtn = styled.div(_templateObject());","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/ManuallyCreateMD/MardownDetailedTable.js"],"names":["React","Component","DataTable","cloneDeep","ColumnSelection","styled","_","moment","NoData","toPercentage","toDollarWithlDraft","toUnitDraft","toDollarWithDecimal","toPercWithOneDecimal","FormatterStyling","props","value","val","val1","props1","combinedData","MarkdownDetailedTable","updateHeader","newColumns","headers","Header","accessor","width","disableGroupBy","enableRowSpan","map","data","weeks","week","weeksDate","w1","week_num","start_of_week_date","end_of_week_date","w2","w3","w4","col","object","property","Object","values","console","log","sMonth","format","eMonth","sDay","eDay","header","column","state","columns","item","index","Cell","row","original","offer_value","downloadHeader","push","isEmpty","editData","isEdit","splice","disableSort","setState","onHandleCheckBox","e","label","target","checked","selLabels","indexOf","labels","tempArr","forEach","columnHeaders","labelColumns","keys","options","columnOptions","selectedLabel","selectedItemsClone","selectedItems","newSelectedItems","labelArr","includes","onHandleDropdownSelect","remove","metric","tableData","editedData","detailedTableData","prevProps","isEqual","Data","sortBy","o","SKU_Id","find","detailedTableDataHandler","length","overflowX","paddingBottom","ColSelBtn","div"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport DataTable from '../../services/reactTable';\nimport cloneDeep from 'clone-deep';\n// import { toPercentage } from '../../helper/formatter';\nimport ColumnSelection from '../../components/columnSelection';\nimport styled from 'styled-components';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nimport NoData from '../noTableData';\nimport {\n  toPercentage,\n  toDollarWithlDraft,\n  toUnitDraft,\n  toDollarWithDecimal,\n  toPercWithOneDecimal,\n} from '../../helper/formatter';\n\nfunction FormatterStyling(props, value, val) {\n  let val1 = val || val == 0 ? val : props.value;\n  let props1 = val || val == 0 ? { value: val } : props;\n  if (value == 'planned_units' || value == 'units')\n    return val1 || val1 == 0 ? toUnitDraft(props1) : '-';\n  if (value == 'revenue' || value == 'margin')\n    return val1 || val1 == 0 ? toDollarWithlDraft(props1) : '-';\n\n  if (value == 'aur' || value == 'aum')\n    return val1 || val1 == 0 ? toDollarWithDecimal(props1) : '-';\n  //case downloadFormatter\n  if (props === 'planned_units' || props === 'units') return toUnitDraft;\n  if (props === 'revenue' || props == 'margin') return toDollarWithlDraft;\n\n  if (props === 'aur' || props == 'aum') return toDollarWithDecimal;\n\n  return '-';\n}\nlet combinedData = [];\nclass MarkdownDetailedTable extends Component {\n  constructor() {\n    super();\n    this.state = {\n      columnOptions: [],\n      selLabels: [],\n      selectedItems: [],\n      column: {\n        Header: '',\n        columns: [\n          {\n            Header: 'ST %',\n            accessor: 'sellThrough',\n            // minWidth: 600,\n            width: 500,\n            Cell: (props) => <div> {toPercentage(props)} </div>,\n            // downloadFormatter: toPercentage,\n          },\n          {\n            Header: 'Margin %',\n            accessor: 'margin_percentage',\n            // minWidth: 600,\n            width: 500,\n            Cell: (props) => <div> {toPercWithOneDecimal(props)} </div>,\n            // downloadFormatter: toPercentage,\n          },\n          {\n            Header: 'MD',\n            accessor: 'scenario',\n            // mi nWidth: 600,\n            width: 500,\n          },\n        ],\n      },\n      headers: [],\n      tableData: [],\n      editedData: [],\n    };\n  }\n  componentDidMount() {\n    let { detailedTableData } = this.props;\n    if (!_.isEmpty(detailedTableData)) {\n      this.setState(\n        {\n          columnOptions: detailedTableData.columnOptions,\n          selLabels: detailedTableData.selLabels,\n          tableData: this.props.data && this.props.data.data,\n        },\n        () => {\n          if (!_.isEmpty(detailedTableData.selectedItems))\n            this.onHandleDropdownSelect(detailedTableData.selectedItems);\n          else this.updateHeader();\n        }\n      );\n      return;\n    }\n    this.updateHeader();\n  }\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.data &&\n      prevProps.data &&\n      !_.isEqual(prevProps.data.weeks, this.props.data.weeks)\n    ) {\n      this.updateHeader();\n    }\n    if (!_.isEqual(this.props.data && this.props.data.data, this.state.tableData)) {\n      combinedData = this.props.data && this.props.data.data;\n      this.setState({\n        tableData: this.props.data && this.props.data.data,\n      });\n    }\n    if (\n      !_.isEmpty(this.props.editData) &&\n      !_.isEmpty(this.props.data) &&\n      !_.isEqual(this.props.editData.data, this.state.editedData)\n    ) {\n      let Data = [...this.props.data.data, ...this.props.editData.data];\n      combinedData = _.sortBy(Data, [\n        function (o) {\n          return o.SKU_Id;\n        },\n      ]);\n      let find = _.find(this.state.headers, { accessor: 'metric' });\n      if (!find) this.updateHeader();\n\n      this.setState({\n        editedData: this.props.editData.data,\n      });\n    }\n  }\n  updateHeader = (newColumns) => {\n    let headers = [\n      {\n        Header: 'Bin',\n        accessor: 'bins',\n        width: 300,\n        disableGroupBy: true,\n        enableRowSpan: true,\n      },\n      {\n        Header: 'Style/Style Group',\n        accessor: 'SKU_Id',\n        width: 300,\n        disableGroupBy: true,\n        enableRowSpan: true,\n      },\n      {\n        Header: 'Style Description',\n        accessor: 'style_description',\n        width: 300,\n      },\n    ];\n\n    _.map(this.props.data && this.props.data.weeks, (week) => {\n      let weeksDate = {\n        w1: {\n          week_num: '1',\n          start_of_week_date: '2017-01-2',\n          end_of_week_date: '2017-02-2',\n        },\n        w2: {\n          week_num: '2',\n          start_of_week_date: '2017-01-2',\n          end_of_week_date: '2017-02-2',\n        },\n        w3: {\n          week_num: '3',\n          start_of_week_date: '2017-01-2',\n          end_of_week_date: '2017-02-2',\n        },\n        w4: {\n          week_num: '4',\n          start_of_week_date: '2017-01-2',\n          end_of_week_date: '2017-02-2',\n        },\n      };\n      let col = '';\n      for (weeksDate in object) {\n        let col = object[property];\n      }\n      let value = Object.values(weeksDate)[0];\n      console.log(value, 'value');\n      let sMonth = moment(weeksDate && weeksDate.start_of_week_date).format('MMM');\n      let eMonth = moment(weeksDate && weeksDate.end_of_week_date).format('MMM');\n      let sDay = moment(weeksDate && weeksDate.start_of_week_date).format('DD');\n      let eDay = moment(weeksDate && weeksDate.end_of_week_date).format('DD');\n      let header = sMonth + ' ' + sDay + ' - ' + eMonth + ' ' + eDay;\n      let column = newColumns ? cloneDeep(newColumns) : cloneDeep(this.state.column);\n      column.Header = col;\n      console.log(column.Header, 'hhhhhhh');\n      _.map(column.columns, (item, index) => {\n        if (item.accessor == 'scenario') {\n          item.Cell = (props) => {\n            return props.row.original.offer_value == '%off' ||\n              props.row.original.offer_value == 'percent_off'\n              ? `${props.value} %`\n              : `${props.value}  PP`;\n          };\n        }\n        item.accessor = `${week}${item.accessor}`;\n\n        item.downloadHeader = `${week} ${item.Header}`;\n        return item;\n      });\n      headers.push(column);\n    });\n\n    if (!_.isEmpty(this.props.editData) && this.props.isEdit) {\n      headers.splice(1, 0, {\n        Header: '',\n        disableSort: true,\n        accessor: 'metric',\n        disableGroupBy: true,\n      });\n    }\n    this.setState({ headers });\n  };\n  onHandleCheckBox = (e, label, index) => {\n    //adding\n    if (e.target.checked) {\n      if (this.state.selLabels.indexOf(label) === -1) {\n        let labels = [...this.state.selLabels, label];\n        let tempArr = [];\n        labels.forEach((label) => {\n          let columns = this.props.columnHeaders[label];\n          let labelColumns = Object.keys(columns);\n          let options = labelColumns.map((label) => {\n            return {\n              label: label,\n              value: columns[label],\n            };\n          });\n          tempArr.push(...options);\n        });\n        this.setState({\n          selLabels: labels,\n          columnOptions: tempArr,\n        });\n      }\n    } else {\n      //removing\n      let index = this.state.selLabels.indexOf(label);\n      if (index !== -1) {\n        let selectedLabel = _.cloneDeep(this.state.selLabels);\n        selectedLabel.splice(index, 1);\n        let tempArr = [];\n        selectedLabel.forEach((label) => {\n          let columns = this.props.columnHeaders[label];\n          let labelColumns = Object.keys(columns);\n          let options = labelColumns.map((label) => {\n            return {\n              label: label,\n              value: columns[label],\n            };\n          });\n          tempArr.push(...options);\n        });\n\n        let selectedItemsClone = _.cloneDeep(this.state.selectedItems);\n        let newSelectedItems = [];\n        let labelArr = Object.keys(this.props.columnHeaders[label]);\n        selectedItemsClone.forEach((item) => {\n          if (!labelArr.includes(item.label)) {\n            newSelectedItems.push(item);\n          }\n        });\n\n        this.onHandleDropdownSelect(newSelectedItems);\n        this.setState({\n          selLabels: selectedLabel,\n          columnOptions: tempArr,\n          selectedItems: newSelectedItems,\n        });\n      }\n    }\n  };\n  onHandleDropdownSelect = (options) => {\n    let headers = cloneDeep(this.state.headers);\n    let column = cloneDeep(this.state.column);\n    _.remove(headers, (item) => item.metric);\n\n    _.map(options, (item) => {\n      // let downloadFormatter = FormatterStyling(item.value);\n      column.columns.push({\n        Header: item.label,\n        accessor: item.value,\n        metric: true,\n        Cell: (props) => FormatterStyling(props, item.value),\n        // downloadFormatter,\n      });\n    });\n    this.updateHeader(column);\n    this.setState({\n      selectedItems: options,\n    });\n  };\n  componentWillUnmount() {\n    this.props.detailedTableDataHandler({\n      columnOptions: this.state.columnOptions,\n      selLabels: this.state.selLabels,\n      selectedItems: this.state.selectedItems,\n      headers: this.state.headers,\n    });\n  }\n  render() {\n    console.log(this.props.data, 'dadadadadadda');\n    return (\n      <div>\n        {combinedData && combinedData.length ? (\n          <div style={{ overflowX: 'auto', width: '100%', paddingBottom: '28px' }}>\n            <ColSelBtn>\n              <ColumnSelection\n                onHandleCheckBox={this.onHandleCheckBox}\n                columnHeaders={this.props.columnHeaders}\n                onHandleSelect={this.onHandleDropdownSelect}\n                columnOptions={this.state.columnOptions}\n                selectedItems={this.state.selectedItems}\n                selLabels={this.state.selLabels}\n              />\n            </ColSelBtn>\n            <DataTable\n              isSort={true}\n              fileName=\"Simulated details\"\n              columns={this.state.headers}\n              data={combinedData ? combinedData : ''}\n              isPagination={true}\n              showExport={true}\n            />{' '}\n          </div>\n        ) : (\n          <NoData description=\"No Data\" />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MarkdownDetailedTable;\n\nconst ColSelBtn = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: -3rem;\n`;\n"]},"metadata":{},"sourceType":"module"}