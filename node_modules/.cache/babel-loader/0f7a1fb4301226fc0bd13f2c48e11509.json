{"ast":null,"code":"import _objectSpread from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/lib/Calendar/index.js\";\nimport React, { Component } from 'react'; // import PropTypes from 'prop-types';\n\nimport moment from 'moment';\nimport { calendarConfig } from '../../config';\nimport CalendarHeader from './Components/CalendarHeader';\nimport CalendarNavigation from './Components/CalendarNavigation';\nimport CalendarViewToggle from './Components/CalendarViewToggle';\nimport CalendarEventsList from './Components/CalendarEventsList';\nimport CalendarEventsColorInfo from './Components/CalendarEventsColorInfo';\nimport { toggleOptions, headeCellView } from './constants';\nimport { genMoWkMapping, genQtrWkMapping, getCurrQtrFrmWK, getCurrMoFrmWK, getWksCnt, getDtsFrmWK, getWkStDt, getWkEdDt, getEventsforDisplay } from './helpers';\nimport './index.css';\nimport eventList from './dummy.json';\nvar fstMoOfYr = calendarConfig.fstMoOfYr;\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Calendar, _Component);\n\n  function Calendar(props) {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Calendar).call(this, props));\n\n    _this.generateMapping = function (yr) {\n      var noOfWks = getWksCnt(yr);\n      var moWkMapping = genMoWkMapping(fstMoOfYr, noOfWks);\n      var qtrWkMapping = genQtrWkMapping(noOfWks);\n      return {\n        noOfWks: noOfWks,\n        moWkMapping: moWkMapping,\n        qtrWkMapping: qtrWkMapping\n      };\n    };\n\n    _this.onToggleChange = function (val) {\n      _this.setState({\n        calTypToggleVal: val\n      });\n    };\n\n    _this.onPrevClick = function () {\n      var _this$state = _this.state,\n          calViewState = _this$state.calViewState,\n          moWkMapping = _this$state.moWkMapping,\n          calTypToggleVal = _this$state.calTypToggleVal,\n          qtrWkMapping = _this$state.qtrWkMapping;\n\n      switch (calTypToggleVal) {\n        case 'week':\n          if (calViewState.wk === 1) {\n            _this.onPrevYrChng();\n\n            return;\n          }\n\n          var prevWk = calViewState.wk - 1;\n\n          _this.setState({\n            calViewState: _objectSpread({}, calViewState, {\n              wk: prevWk,\n              mo: getCurrMoFrmWK(moWkMapping, prevWk),\n              qtr: getCurrQtrFrmWK(qtrWkMapping, prevWk)\n            })\n          });\n\n          break;\n\n        case 'month':\n          if (calViewState.mo === 0) {\n            _this.onPrevYrChng();\n\n            return;\n          }\n\n          var prevMo = calViewState.mo - 1;\n          var wkRespectivePrevMo = moWkMapping[prevMo][0];\n\n          _this.setState({\n            calViewState: _objectSpread({}, calViewState, {\n              wk: wkRespectivePrevMo,\n              mo: prevMo,\n              qtr: getCurrQtrFrmWK(qtrWkMapping, wkRespectivePrevMo)\n            })\n          });\n\n          break;\n\n        case 'quarter':\n          if (calViewState.qtr === 0) {\n            _this.onPrevYrChng();\n\n            return;\n          }\n\n          var prevQtr = calViewState.qtr - 1;\n          var wkRespectivePrevqtr = qtrWkMapping[prevQtr][0];\n\n          _this.setState({\n            calViewState: _objectSpread({}, calViewState, {\n              wk: wkRespectivePrevqtr,\n              mo: getCurrMoFrmWK(moWkMapping, wkRespectivePrevqtr),\n              qtr: prevQtr\n            })\n          });\n\n          break;\n\n        case 'year':\n          _this.onPrevYrChng();\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.onNxtClick = function () {\n      var _this$state2 = _this.state,\n          calViewState = _this$state2.calViewState,\n          moWkMapping = _this$state2.moWkMapping,\n          calTypToggleVal = _this$state2.calTypToggleVal,\n          qtrWkMapping = _this$state2.qtrWkMapping,\n          noOfWks = _this$state2.noOfWks;\n\n      switch (calTypToggleVal) {\n        case 'week':\n          if (calViewState.wk === noOfWks) {\n            _this.onNxtYrChng();\n\n            return;\n          }\n\n          var nxtWk = calViewState.wk + 1;\n\n          _this.setState({\n            calViewState: _objectSpread({}, calViewState, {\n              wk: nxtWk,\n              mo: getCurrMoFrmWK(moWkMapping, nxtWk),\n              qtr: getCurrQtrFrmWK(qtrWkMapping, nxtWk)\n            })\n          });\n\n          break;\n\n        case 'month':\n          if (calViewState.mo === 11) {\n            _this.onNxtYrChng();\n\n            return;\n          }\n\n          var nxtMo = calViewState.mo + 1;\n          var wkRespectiveNxtMo = moWkMapping[nxtMo][0];\n\n          _this.setState({\n            calViewState: _objectSpread({}, calViewState, {\n              wk: wkRespectiveNxtMo,\n              mo: nxtMo,\n              qtr: getCurrQtrFrmWK(qtrWkMapping, wkRespectiveNxtMo)\n            })\n          });\n\n          break;\n\n        case 'quarter':\n          if (calViewState.qtr === 3) {\n            _this.onNxtYrChng();\n\n            return;\n          }\n\n          var nxtQtr = calViewState.qtr + 1;\n          var wkRespectiveNxtqtr = qtrWkMapping[nxtQtr][0];\n\n          _this.setState({\n            calViewState: _objectSpread({}, calViewState, {\n              wk: wkRespectiveNxtqtr,\n              mo: getCurrMoFrmWK(moWkMapping, wkRespectiveNxtqtr),\n              qtr: nxtQtr\n            })\n          });\n\n          break;\n\n        case 'year':\n          _this.onNxtYrChng();\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.onYrChng = function (yr, calViewState) {\n      _this.setState(_objectSpread({\n        calViewState: calViewState\n      }, _this.generateMapping(yr)));\n    };\n\n    _this.onNxtYrChng = function () {\n      var nxtYr = _this.state.calViewState.yr + 1;\n      var calViewState = {\n        mo: 0,\n        wk: 1,\n        qtr: 0,\n        yr: nxtYr\n      };\n\n      _this.onYrChng(nxtYr, calViewState);\n    };\n\n    _this.onPrevYrChng = function () {\n      var prevYr = _this.state.calViewState.yr - 1;\n      var calViewState = {\n        mo: 11,\n        wk: getWksCnt(prevYr),\n        qtr: 3,\n        yr: prevYr\n      };\n\n      _this.onYrChng(prevYr, calViewState);\n    };\n\n    _this.getNavigationText = function () {\n      var _this$state3 = _this.state,\n          calTypToggleVal = _this$state3.calTypToggleVal,\n          calViewState = _this$state3.calViewState;\n\n      switch (calTypToggleVal) {\n        case 'week':\n          return \"Week \".concat(calViewState.wk, \" - FY \").concat(calViewState.yr);\n\n        case 'month':\n          return \"\".concat(moment().month(calViewState.mo + fstMoOfYr).format('MMM'), \" - FY \").concat(calViewState.yr);\n\n        case 'quarter':\n          return \"Quarter \".concat(calViewState.qtr + 1, \" - FY \").concat(calViewState.yr);\n\n        case 'year':\n          return \"FY Year \".concat(calViewState.yr);\n\n        default:\n          break;\n      }\n    };\n\n    _this.getCalDts = function () {\n      var _this$state4 = _this.state,\n          calTypToggleVal = _this$state4.calTypToggleVal,\n          calViewState = _this$state4.calViewState,\n          moWkMapping = _this$state4.moWkMapping,\n          qtrWkMapping = _this$state4.qtrWkMapping;\n      var wk = calViewState.wk,\n          mo = calViewState.mo,\n          qtr = calViewState.qtr,\n          yr = calViewState.yr;\n      var stDt, enDt;\n\n      switch (calTypToggleVal) {\n        case 'week':\n          stDt = getWkStDt(yr, wk);\n          enDt = getWkEdDt(yr, wk);\n          break;\n\n        case 'month':\n          stDt = getWkStDt(yr, moWkMapping[mo][0]);\n          enDt = getWkEdDt(yr, moWkMapping[mo][moWkMapping[mo].length - 1]);\n          break;\n\n        case 'quarter':\n          stDt = getWkStDt(yr, qtrWkMapping[qtr][0]);\n          enDt = getWkEdDt(yr, qtrWkMapping[qtr][qtrWkMapping[qtr].length - 1]);\n          break;\n\n        case 'year':\n          stDt = getWkStDt(yr, moWkMapping[0][0]);\n          enDt = getWkEdDt(yr, moWkMapping[11][moWkMapping[11].length - 1]);\n          break;\n\n        default:\n          break;\n      }\n\n      return {\n        stDt: stDt,\n        enDt: enDt\n      };\n    };\n\n    _this.onHeaderClick = function (idx) {\n      var _this$state5 = _this.state,\n          calTypToggleVal = _this$state5.calTypToggleVal,\n          calViewState = _this$state5.calViewState;\n\n      switch (headeCellView[calTypToggleVal]) {\n        case 'month':\n          _this.setState({\n            calTypToggleVal: 'month',\n            calViewState: _objectSpread({}, calViewState, {\n              mo: idx\n            })\n          });\n\n          break;\n\n        case 'week':\n          _this.setState({\n            calTypToggleVal: 'week',\n            calViewState: _objectSpread({}, calViewState, {\n              wk: idx\n            })\n          });\n\n          break;\n\n        default:\n          break;\n      }\n\n      console.log();\n    };\n\n    var currYr = moment().year();\n    var currWk = moment().week();\n    var currMo = moment().month() - fstMoOfYr;\n\n    var _this$generateMapping = _this.generateMapping(currYr),\n        _noOfWks = _this$generateMapping.noOfWks,\n        _moWkMapping = _this$generateMapping.moWkMapping,\n        _qtrWkMapping = _this$generateMapping.qtrWkMapping;\n\n    var currQtr = getCurrQtrFrmWK(_qtrWkMapping, currWk);\n    _this.state = {\n      calTypToggleVal: 'month',\n      currMo: currMo,\n      noOfWks: _noOfWks,\n      moWkMapping: _moWkMapping,\n      qtrWkMapping: _qtrWkMapping,\n      calViewState: {\n        wk: currWk,\n        mo: currMo,\n        qtr: currQtr,\n        yr: currYr\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state6 = this.state,\n          moWkMapping = _this$state6.moWkMapping,\n          qtrWkMapping = _this$state6.qtrWkMapping,\n          calTypToggleVal = _this$state6.calTypToggleVal,\n          calViewState = _this$state6.calViewState;\n      var onCalEventClick = this.props.onCalEventClick;\n\n      var _this$getCalDts = this.getCalDts(),\n          calStDt = _this$getCalDts.stDt,\n          calEnDt = _this$getCalDts.enDt;\n\n      var mapping = {\n        year: moWkMapping,\n        quarter: qtrWkMapping[calViewState.qtr],\n        month: moWkMapping[calViewState.mo],\n        week: getDtsFrmWK(calViewState.yr, calViewState.wk)\n      };\n      var filteredEvents = getEventsforDisplay({\n        eventList: eventList,\n        calStDt: calStDt,\n        calEnDt: calEnDt\n      });\n      return React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(CalendarViewToggle, {\n        calTypToggleVal: calTypToggleVal,\n        onToggleChange: this.onToggleChange,\n        toggleOptions: toggleOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }), React.createElement(CalendarNavigation, {\n        onPrevClick: this.onPrevClick,\n        onNxtClick: this.onNxtClick,\n        navigationText: this.getNavigationText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"calendar-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(CalendarHeader, {\n        yr: calViewState.yr,\n        filteredEventsCount: filteredEvents.length,\n        mapping: mapping[calTypToggleVal],\n        onHeaderClick: this.onHeaderClick,\n        fstMoOfYr: fstMoOfYr,\n        calTypToggleVal: calTypToggleVal,\n        headerViewType: headeCellView[calTypToggleVal],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }), React.createElement(CalendarEventsList, {\n        filteredEvents: filteredEvents,\n        calStDt: calStDt,\n        calEnDt: calEnDt,\n        onCalEventClick: onCalEventClick,\n        qtrWkMapping: qtrWkMapping,\n        mapping: mapping[calTypToggleVal],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }), React.createElement(CalendarEventsColorInfo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nCalendar.propTypes = {// fstMoOfYr: PropTypes.oneOf([0, 1, 2, 3, 4]),\n};\nexport default Calendar;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/lib/Calendar/index.js"],"names":["React","Component","moment","calendarConfig","CalendarHeader","CalendarNavigation","CalendarViewToggle","CalendarEventsList","CalendarEventsColorInfo","toggleOptions","headeCellView","genMoWkMapping","genQtrWkMapping","getCurrQtrFrmWK","getCurrMoFrmWK","getWksCnt","getDtsFrmWK","getWkStDt","getWkEdDt","getEventsforDisplay","eventList","fstMoOfYr","Calendar","props","generateMapping","yr","noOfWks","moWkMapping","qtrWkMapping","onToggleChange","val","setState","calTypToggleVal","onPrevClick","state","calViewState","wk","onPrevYrChng","prevWk","mo","qtr","prevMo","wkRespectivePrevMo","prevQtr","wkRespectivePrevqtr","onNxtClick","onNxtYrChng","nxtWk","nxtMo","wkRespectiveNxtMo","nxtQtr","wkRespectiveNxtqtr","onYrChng","nxtYr","prevYr","getNavigationText","month","format","getCalDts","stDt","enDt","length","onHeaderClick","idx","console","log","currYr","year","currWk","week","currMo","currQtr","onCalEventClick","calStDt","calEnDt","mapping","quarter","filteredEvents","position","propTypes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { calendarConfig } from '../../config';\nimport CalendarHeader from './Components/CalendarHeader';\nimport CalendarNavigation from './Components/CalendarNavigation';\nimport CalendarViewToggle from './Components/CalendarViewToggle';\nimport CalendarEventsList from './Components/CalendarEventsList';\nimport CalendarEventsColorInfo from './Components/CalendarEventsColorInfo';\nimport { toggleOptions, headeCellView } from './constants';\nimport {\n  genMoWkMapping,\n  genQtrWkMapping,\n  getCurrQtrFrmWK,\n  getCurrMoFrmWK,\n  getWksCnt,\n  getDtsFrmWK,\n  getWkStDt,\n  getWkEdDt,\n  getEventsforDisplay,\n} from './helpers';\nimport './index.css';\nimport eventList from './dummy.json';\n\nconst { fstMoOfYr } = calendarConfig;\nclass Calendar extends Component {\n  constructor(props) {\n    super(props);\n    const currYr = moment().year();\n    const currWk = moment().week();\n    const currMo = moment().month() - fstMoOfYr;\n\n    const { noOfWks, moWkMapping, qtrWkMapping } = this.generateMapping(currYr);\n    const currQtr = getCurrQtrFrmWK(qtrWkMapping, currWk);\n\n    this.state = {\n      calTypToggleVal: 'month',\n      currMo,\n      noOfWks,\n      moWkMapping,\n      qtrWkMapping,\n      calViewState: {\n        wk: currWk,\n        mo: currMo,\n        qtr: currQtr,\n        yr: currYr,\n      },\n    };\n  }\n  generateMapping = (yr) => {\n    const noOfWks = getWksCnt(yr);\n    const moWkMapping = genMoWkMapping(fstMoOfYr, noOfWks);\n    const qtrWkMapping = genQtrWkMapping(noOfWks);\n    return { noOfWks, moWkMapping, qtrWkMapping };\n  };\n  onToggleChange = (val) => {\n    this.setState({\n      calTypToggleVal: val,\n    });\n  };\n  onPrevClick = () => {\n    const { calViewState, moWkMapping, calTypToggleVal, qtrWkMapping } = this.state;\n    switch (calTypToggleVal) {\n      case 'week':\n        if (calViewState.wk === 1) {\n          this.onPrevYrChng();\n          return;\n        }\n        const prevWk = calViewState.wk - 1;\n        this.setState({\n          calViewState: {\n            ...calViewState,\n            wk: prevWk,\n            mo: getCurrMoFrmWK(moWkMapping, prevWk),\n            qtr: getCurrQtrFrmWK(qtrWkMapping, prevWk),\n          },\n        });\n        break;\n      case 'month':\n        if (calViewState.mo === 0) {\n          this.onPrevYrChng();\n          return;\n        }\n        const prevMo = calViewState.mo - 1;\n        const wkRespectivePrevMo = moWkMapping[prevMo][0];\n        this.setState({\n          calViewState: {\n            ...calViewState,\n            wk: wkRespectivePrevMo,\n            mo: prevMo,\n            qtr: getCurrQtrFrmWK(qtrWkMapping, wkRespectivePrevMo),\n          },\n        });\n        break;\n      case 'quarter':\n        if (calViewState.qtr === 0) {\n          this.onPrevYrChng();\n          return;\n        }\n        const prevQtr = calViewState.qtr - 1;\n        const wkRespectivePrevqtr = qtrWkMapping[prevQtr][0];\n        this.setState({\n          calViewState: {\n            ...calViewState,\n            wk: wkRespectivePrevqtr,\n            mo: getCurrMoFrmWK(moWkMapping, wkRespectivePrevqtr),\n            qtr: prevQtr,\n          },\n        });\n        break;\n      case 'year':\n        this.onPrevYrChng();\n        break;\n\n      default:\n        break;\n    }\n  };\n  onNxtClick = () => {\n    const { calViewState, moWkMapping, calTypToggleVal, qtrWkMapping, noOfWks } = this.state;\n    switch (calTypToggleVal) {\n      case 'week':\n        if (calViewState.wk === noOfWks) {\n          this.onNxtYrChng();\n          return;\n        }\n        const nxtWk = calViewState.wk + 1;\n        this.setState({\n          calViewState: {\n            ...calViewState,\n            wk: nxtWk,\n            mo: getCurrMoFrmWK(moWkMapping, nxtWk),\n            qtr: getCurrQtrFrmWK(qtrWkMapping, nxtWk),\n          },\n        });\n        break;\n      case 'month':\n        if (calViewState.mo === 11) {\n          this.onNxtYrChng();\n          return;\n        }\n        const nxtMo = calViewState.mo + 1;\n        const wkRespectiveNxtMo = moWkMapping[nxtMo][0];\n        this.setState({\n          calViewState: {\n            ...calViewState,\n            wk: wkRespectiveNxtMo,\n            mo: nxtMo,\n            qtr: getCurrQtrFrmWK(qtrWkMapping, wkRespectiveNxtMo),\n          },\n        });\n        break;\n      case 'quarter':\n        if (calViewState.qtr === 3) {\n          this.onNxtYrChng();\n          return;\n        }\n        const nxtQtr = calViewState.qtr + 1;\n        const wkRespectiveNxtqtr = qtrWkMapping[nxtQtr][0];\n        this.setState({\n          calViewState: {\n            ...calViewState,\n            wk: wkRespectiveNxtqtr,\n            mo: getCurrMoFrmWK(moWkMapping, wkRespectiveNxtqtr),\n            qtr: nxtQtr,\n          },\n        });\n        break;\n      case 'year':\n        this.onNxtYrChng();\n        break;\n\n      default:\n        break;\n    }\n  };\n  onYrChng = (yr, calViewState) => {\n    this.setState({\n      calViewState,\n      ...this.generateMapping(yr),\n    });\n  };\n  onNxtYrChng = () => {\n    const nxtYr = this.state.calViewState.yr + 1;\n    const calViewState = {\n      mo: 0,\n      wk: 1,\n      qtr: 0,\n      yr: nxtYr,\n    };\n    this.onYrChng(nxtYr, calViewState);\n  };\n  onPrevYrChng = () => {\n    const prevYr = this.state.calViewState.yr - 1;\n    const calViewState = {\n      mo: 11,\n      wk: getWksCnt(prevYr),\n      qtr: 3,\n      yr: prevYr,\n    };\n    this.onYrChng(prevYr, calViewState);\n  };\n  getNavigationText = () => {\n    const { calTypToggleVal, calViewState } = this.state;\n    switch (calTypToggleVal) {\n      case 'week':\n        return `Week ${calViewState.wk} - FY ${calViewState.yr}`;\n      case 'month':\n        return `${moment()\n          .month(calViewState.mo + fstMoOfYr)\n          .format('MMM')} - FY ${calViewState.yr}`;\n      case 'quarter':\n        return `Quarter ${calViewState.qtr + 1} - FY ${calViewState.yr}`;\n      case 'year':\n        return `FY Year ${calViewState.yr}`;\n      default:\n        break;\n    }\n  };\n  getCalDts = () => {\n    const { calTypToggleVal, calViewState, moWkMapping, qtrWkMapping } = this.state;\n    const { wk, mo, qtr, yr } = calViewState;\n    let stDt, enDt;\n    switch (calTypToggleVal) {\n      case 'week':\n        stDt = getWkStDt(yr, wk);\n        enDt = getWkEdDt(yr, wk);\n        break;\n      case 'month':\n        stDt = getWkStDt(yr, moWkMapping[mo][0]);\n        enDt = getWkEdDt(yr, moWkMapping[mo][moWkMapping[mo].length - 1]);\n        break;\n      case 'quarter':\n        stDt = getWkStDt(yr, qtrWkMapping[qtr][0]);\n        enDt = getWkEdDt(yr, qtrWkMapping[qtr][qtrWkMapping[qtr].length - 1]);\n        break;\n      case 'year':\n        stDt = getWkStDt(yr, moWkMapping[0][0]);\n        enDt = getWkEdDt(yr, moWkMapping[11][moWkMapping[11].length - 1]);\n        break;\n      default:\n        break;\n    }\n    return { stDt, enDt };\n  };\n  onHeaderClick = (idx) => {\n    const { calTypToggleVal, calViewState } = this.state;\n    switch (headeCellView[calTypToggleVal]) {\n      case 'month':\n        this.setState({\n          calTypToggleVal: 'month',\n          calViewState: {\n            ...calViewState,\n            mo: idx,\n          },\n        });\n        break;\n      case 'week':\n        this.setState({\n          calTypToggleVal: 'week',\n          calViewState: {\n            ...calViewState,\n            wk: idx,\n          },\n        });\n        break;\n\n      default:\n        break;\n    }\n    console.log();\n  };\n  render() {\n    const { moWkMapping, qtrWkMapping, calTypToggleVal, calViewState } = this.state;\n    const { onCalEventClick } = this.props;\n    const { stDt: calStDt, enDt: calEnDt } = this.getCalDts();\n    const mapping = {\n      year: moWkMapping,\n      quarter: qtrWkMapping[calViewState.qtr],\n      month: moWkMapping[calViewState.mo],\n      week: getDtsFrmWK(calViewState.yr, calViewState.wk),\n    };\n    const filteredEvents = getEventsforDisplay({ eventList, calStDt, calEnDt });\n    return (\n      <div style={{ position: 'relative' }}>\n        <CalendarViewToggle\n          calTypToggleVal={calTypToggleVal}\n          onToggleChange={this.onToggleChange}\n          toggleOptions={toggleOptions}\n        />\n        <CalendarNavigation\n          onPrevClick={this.onPrevClick}\n          onNxtClick={this.onNxtClick}\n          navigationText={this.getNavigationText}\n        />\n        <div className=\"calendar-container\">\n          <CalendarHeader\n            yr={calViewState.yr}\n            filteredEventsCount={filteredEvents.length}\n            mapping={mapping[calTypToggleVal]}\n            onHeaderClick={this.onHeaderClick}\n            fstMoOfYr={fstMoOfYr}\n            calTypToggleVal={calTypToggleVal}\n            headerViewType={headeCellView[calTypToggleVal]}\n          />\n          <CalendarEventsList\n            filteredEvents={filteredEvents}\n            calStDt={calStDt}\n            calEnDt={calEnDt}\n            onCalEventClick={onCalEventClick}\n            qtrWkMapping={qtrWkMapping}\n            mapping={mapping[calTypToggleVal]}></CalendarEventsList>\n          <CalendarEventsColorInfo />\n        </div>\n      </div>\n    );\n  }\n}\n\nCalendar.propTypes = {\n  // fstMoOfYr: PropTypes.oneOf([0, 1, 2, 3, 4]),\n};\n\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}