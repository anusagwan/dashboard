{"ast":null,"code":"import _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/Content/Promotions/PromoCalendar/CalendarWrapper.js\";\nimport React, { Component } from \"react\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport { withRouter } from \"react-router-dom\";\nimport Popover from \"../../../common/promoPopup\";\nimport { log } from \"util\";\nimport \"./promoCalendarStyle.css\";\nimport classNames from \"classnames\";\nimport { Tooltip } from \"reactstrap\";\nimport { getDaysCount } from \"../../../../utils/helperFunctions\";\nimport { getGlobalPromoPerMarkdown as _getGlobalPromoPerMarkdown } from \"../../../../Markdown/actions/markdown_global_promo\";\nimport CalendarWrapperWeeks from \"./calendarWrapperWeeks\";\nimport CalendarWrapperBlocks from \"./calendarWrapperBlocks\";\nimport CalendarWrapperToggleComponent from \"./calendarWrapperToggleComponent\"; // const colors = [\"#64C2DE\", \"#E32A36\", \"#81E28B\", \"#FF8D0F\", \"#B564DE\", \"#FC4586\", \"#3D4CD6\", \"#E9D339\", \"#FC5A2F\"]\n\nvar CalendarWrapper =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CalendarWrapper, _Component);\n\n  function CalendarWrapper(props) {\n    var _this;\n\n    _classCallCheck(this, CalendarWrapper);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CalendarWrapper).call(this, props));\n\n    _this.getPromotionWRange = function () {\n      var _this$props = _this.props,\n          calendarWrapperArr = _this$props.calendarWrapperArr,\n          calendarDataArr = _this$props.calendarDataArr;\n\n      if (calendarWrapperArr && calendarWrapperArr.length) {\n        var styleMargin = [];\n        var startDate = calendarWrapperArr[0].start_date;\n        var endDate;\n\n        if (calendarWrapperArr[calendarWrapperArr.length - 1].fiscal_week == 52 && calendarWrapperArr[calendarWrapperArr.length - 1].fiscal_quarter == 1) {\n          endDate = calendarWrapperArr[calendarWrapperArr.length - 2].end_date;\n        } else {\n          endDate = calendarWrapperArr[calendarWrapperArr.length - 1].end_date;\n        }\n\n        var diffDays = getDaysCount(startDate, endDate);\n\n        if (calendarDataArr && calendarDataArr.length > 0) {\n          calendarDataArr.forEach(function (ele) {\n            var dt = new Date(ele.start_date); // let marginEndDate = new Date(dt.setDate(dt.getDate() + 1)).toString();\n\n            var marginEndDate;\n            var width = 0;\n\n            if (new Date(ele.start_date).getDate() == new Date(ele.end_date).getDate()) {\n              width = 1;\n              marginEndDate = new Date(dt.setDate(dt.getDate())).toString();\n            } else {\n              marginEndDate = new Date(dt.setDate(dt.getDate() + 1)).toString();\n\n              if (calendarWrapperArr[0].start_date > ele.start_date) {\n                width = getDaysCount(calendarWrapperArr[0].start_date, ele.end_date) + 1;\n              } else {\n                width = getDaysCount(ele.start_date, ele.end_date) + 1;\n              }\n            } // let width = this.getDaysCount(ele.start_date, ele.end_date);\n\n\n            var margin = getDaysCount(calendarWrapperArr[0].start_date, marginEndDate);\n\n            if (margin < 0) {\n              margin = 0;\n            } else {\n              margin = margin - 1;\n            }\n\n            var flexBasis = width / diffDays * 100;\n            var marginLeft = margin / diffDays * 100;\n\n            if (100 - marginLeft < flexBasis) {\n              flexBasis = 100 - marginLeft;\n            }\n\n            styleMargin.push({\n              flexBasisInt: flexBasis,\n              flexBasis: \"\".concat(flexBasis, \"%\"),\n              marginLeft: \"\".concat(marginLeft, \"%\")\n            });\n          });\n        }\n\n        _this.setState(function (state) {\n          console.log(\"statess===\", state, calendarDataArr);\n          return {\n            // ...state,\n            styleMargin: styleMargin\n          };\n        });\n      }\n    };\n\n    _this.getRecommendedData = function (e, info) {\n      console.log(\"infooo GET RECOM\", info, depData);\n      e.stopPropagation();\n      e.preventDefault();\n      var campaignID = info.id;\n      var startDate = info.start_date;\n      var endDate = info.end_date;\n      var depData = _this.props.selectedDepartment;\n      var catData = _this.props.selectedCategory;\n      var subCatData = _this.props.selectedSubCategory;\n      var url = \"/vis/recommend/promo?campaignID=\" + campaignID + \"&startDate=\" + startDate + \"&endDate=\" + endDate;\n      var queryArray = [];\n\n      if (depData) {\n        queryArray.push(\"department=\" + depData.value);\n      }\n\n      if (catData) {\n        queryArray.push(\"category=\" + catData.value);\n      }\n\n      if (subCatData) {\n        queryArray.push(\"subCategory=\" + subCatData.value);\n      }\n\n      if (queryArray.length > 0) {\n        url = url + \"&\" + queryArray.join(\"&\");\n      }\n\n      console.log(\"infooo GET RECOM\", info, queryArray);\n\n      if (_this.props.markdownlinkShow == 1) {\n        var newURl = \"/vis/recommended\";\n        window.location.assign(newURl);\n      } else {\n        window.location.assign(url);\n      }\n    };\n\n    _this.getRecommendedMarkData = function (e, info) {\n      console.log(\"infooo GET RECOM\", info);\n      e.stopPropagation();\n      e.preventDefault();\n      var markdownId = info.mrk_id;\n      var url = \"/vis/Markdown/global-promo?markdownID=\" + markdownId;\n\n      _this.props.history.push(url);\n    };\n\n    _this.toogleRecommendedPromoToolTip = function (id) {\n      if (_this.state.showRecommendedPromoToolTip) {\n        _this.setState({\n          showRecommendedPromoToolTip: false,\n          tooltipId: -1\n        });\n      } else {\n        _this.setState({\n          showRecommendedPromoToolTip: true,\n          tooltipId: id\n        });\n      }\n    };\n\n    _this.toogleRecommendedPromoMarkdownToolTip = function (id) {\n      if (_this.state.showRecommendedPromoMarkToolTip) {\n        _this.setState({\n          showRecommendedPromoMarkToolTip: false,\n          tooltipMarkId: -1\n        });\n      } else {\n        _this.setState({\n          showRecommendedPromoMarkToolTip: true,\n          tooltipMarkId: id\n        });\n      }\n    };\n\n    _this.state = {\n      styleMargin: [],\n      showRecommendedPromoToolTip: false,\n      showRecommendedPromoMarkToolTip: false,\n      tooltipId: -1,\n      tooltipMarkId: -1\n    };\n    _this.Month = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    return _this;\n  }\n\n  _createClass(CalendarWrapper, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(old, prevState) {\n      var _this$props2 = this.props,\n          calendarDataArr = _this$props2.calendarDataArr,\n          calendarWrapperArr = _this$props2.calendarWrapperArr;\n\n      if (old.calendarDataArr !== calendarDataArr || old.calendarWrapperArr !== calendarWrapperArr) {\n        if (calendarDataArr && calendarDataArr.length) {\n          this.getPromotionWRange();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"calendarWeek row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        align: \"left\",\n        className: \"col-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        align: \"left\",\n        className: \"\",\n        style: {\n          marginTop: \"4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"calendar-color-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, this.props.markdownlinkShow == 1 ? \"Completed Markdown\" : \"Completed campaign\"), React.createElement(\"span\", {\n        className: \"calendar-color-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, this.props.markdownlinkShow == 1 ? \"Ongoing Markdown\" : \"Ongoing campaign\"), React.createElement(\"span\", {\n        className: \"calendar-color-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, this.props.markdownlinkShow == 1 ? \"Future Markdown\" : \"Future campaign\"))), React.createElement(\"div\", {\n        align: \"left\",\n        className: \"col-md-3 centreCalendarText\",\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(CalendarWrapperToggleComponent, {\n        calendarWrapperArr: this.props.calendarWrapperArr && this.props.calendarWrapperArr.length ? this.props.calendarWrapperArr : [],\n        selectedYear: this.props.selectedYear,\n        view: this.props.view,\n        quaterFunction: this.props.quaterFunction,\n        calendarDataPerYear: this.props.calendarDataArr,\n        calendarStrucure: this.props.calendarStrucure,\n        selectedView: this.props.view,\n        fiscal_monthnum: this.props.fiscal_monthnum,\n        fiscal_quarter: this.props.fiscal_quarter,\n        navCallBack: this.props.navCallBack,\n        markdownlinkShow: this.props.markdownlinkShow,\n        showToggleContinious: this.props.showToggleContinious,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-4 text-right BtnGroupRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"promoCal\",\n        className: \"divInn btn-group \",\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: classNames({\n          active: this.props.view == \"Month\",\n          \" btn\": true,\n          \"btn-outline-primary cal-btn\": true,\n          btnCalendr: true,\n          calPromo: true\n        }),\n        onClick: function onClick() {\n          return _this2.props.quaterFunction(\"Month\");\n        },\n        style: {\n          width: \"90px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Month\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: classNames({\n          active: this.props.view == \"Quarter\",\n          \" btn\": true,\n          \"btn-outline-primary cal-btn\": true,\n          btnCalendr: true,\n          calPromo: true\n        }),\n        onClick: function onClick() {\n          return _this2.props.quaterFunction(\"Quarter\");\n        },\n        style: {\n          width: \"90px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Quarter\")))), React.createElement(\"div\", {\n        className: \"CalendarWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(CalendarWrapperWeeks, {\n        calendarWrapperArr: this.props.calendarWrapperArr,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), this.props.calendarDataArr && this.props.calendarDataArr.length ? React.createElement(CalendarWrapperBlocks, {\n        calendarDataArr: this.props.calendarDataArr,\n        styleMargin: this.state.styleMargin ? this.state.styleMargin : [],\n        showRecommendedPromoToolTip: this.state.showRecommendedPromoToolTip,\n        tooltipId: this.state.tooltipId,\n        toogleRecommendedPromoToolTip: this.toogleRecommendedPromoToolTip,\n        markdownlinkShow: this.props.markdownlinkShow,\n        showPromotionMain: this.showPromotionMain,\n        showPromotionMainWithValues: this.showPromotionMainWithValues,\n        onTabClick: this.props.onTabClick,\n        showLoading: this.props.showLoading,\n        calendarWrapperArr: this.props.calendarWrapperArr,\n        getRecommendedData: this.getRecommendedData,\n        toogleRecommendedPromoMarkdownToolTip: this.toogleRecommendedPromoMarkdownToolTip,\n        getRecommendedMarkData: this.getRecommendedMarkData,\n        promoButtonClick: this.props.promoButtonClick,\n        promoDetailsHandler: this.props.promoDetailsHandler,\n        showRecommendedPromoMarkToolTip: this.state.showRecommendedPromoMarkToolTip,\n        tooltipMarkId: this.state.tooltipMarkId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }) : this.props.showLoading === true ? React.createElement(\"div\", {\n        className: \"Row\",\n        height: \"200\",\n        align: \"middle\",\n        style: {\n          justifyContent: \"center\",\n          padding: \"2rem 0\",\n          borderTop: \"1px solid #ddd\",\n          borderBottom: \"1px solid #ddd\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \"Please wait while data is loading...\") : React.createElement(\"div\", {\n        className: \"Row\",\n        height: \"200\",\n        align: \"middle\",\n        style: {\n          justifyContent: \"center\",\n          padding: \"2rem 0\",\n          borderTop: \"1px solid #ddd\",\n          borderBottom: \"1px solid #ddd\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"No data to show!\")));\n    }\n  }]);\n\n  return CalendarWrapper;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    showLoading: state.calendar.loader\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getGlobalPromoPerMarkdown: function getGlobalPromoPerMarkdown(params) {\n      return dispatch(_getGlobalPromoPerMarkdown(params));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CalendarWrapper));","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/Content/Promotions/PromoCalendar/CalendarWrapper.js"],"names":["React","Component","_","connect","moment","withRouter","Popover","log","classNames","Tooltip","getDaysCount","getGlobalPromoPerMarkdown","CalendarWrapperWeeks","CalendarWrapperBlocks","CalendarWrapperToggleComponent","CalendarWrapper","props","getPromotionWRange","calendarWrapperArr","calendarDataArr","length","styleMargin","startDate","start_date","endDate","fiscal_week","fiscal_quarter","end_date","diffDays","forEach","ele","dt","Date","marginEndDate","width","getDate","setDate","toString","margin","flexBasis","marginLeft","push","flexBasisInt","setState","state","console","getRecommendedData","e","info","depData","stopPropagation","preventDefault","campaignID","id","selectedDepartment","catData","selectedCategory","subCatData","selectedSubCategory","url","queryArray","value","join","markdownlinkShow","newURl","window","location","assign","getRecommendedMarkData","markdownId","mrk_id","history","toogleRecommendedPromoToolTip","showRecommendedPromoToolTip","tooltipId","toogleRecommendedPromoMarkdownToolTip","showRecommendedPromoMarkToolTip","tooltipMarkId","Month","old","prevState","marginTop","color","selectedYear","view","quaterFunction","calendarStrucure","fiscal_monthnum","navCallBack","showToggleContinious","textAlign","active","btnCalendr","calPromo","showPromotionMain","showPromotionMainWithValues","onTabClick","showLoading","promoButtonClick","promoDetailsHandler","justifyContent","padding","borderTop","borderBottom","mapStateToProps","calendar","loader","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport { withRouter } from \"react-router-dom\";\nimport Popover from \"../../../common/promoPopup\";\nimport { log } from \"util\";\nimport \"./promoCalendarStyle.css\";\nimport classNames from \"classnames\";\nimport { Tooltip } from \"reactstrap\";\n\nimport { getDaysCount } from \"../../../../utils/helperFunctions\";\n\nimport { getGlobalPromoPerMarkdown } from \"../../../../Markdown/actions/markdown_global_promo\";\n\nimport CalendarWrapperWeeks from \"./calendarWrapperWeeks\";\nimport CalendarWrapperBlocks from \"./calendarWrapperBlocks\";\nimport CalendarWrapperToggleComponent from \"./calendarWrapperToggleComponent\";\n// const colors = [\"#64C2DE\", \"#E32A36\", \"#81E28B\", \"#FF8D0F\", \"#B564DE\", \"#FC4586\", \"#3D4CD6\", \"#E9D339\", \"#FC5A2F\"]\n\nclass CalendarWrapper extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      styleMargin: [],\n      showRecommendedPromoToolTip: false,\n      showRecommendedPromoMarkToolTip: false,\n      tooltipId: -1,\n      tooltipMarkId: -1\n    };\n    this.Month = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\"\n    ];\n  }\n  componentDidUpdate(old, prevState) {\n    let { calendarDataArr, calendarWrapperArr } = this.props;\n\n    if (\n      old.calendarDataArr !== calendarDataArr ||\n      old.calendarWrapperArr !== calendarWrapperArr\n    ) {\n      if (calendarDataArr && calendarDataArr.length) {\n        this.getPromotionWRange();\n      }\n    }\n  }\n\n  getPromotionWRange = () => {\n    let { calendarWrapperArr, calendarDataArr } = this.props;\n\n    if (calendarWrapperArr && calendarWrapperArr.length) {\n      let styleMargin = [];\n      let startDate = calendarWrapperArr[0].start_date;\n      let endDate;\n      if (\n        calendarWrapperArr[calendarWrapperArr.length - 1].fiscal_week == 52 &&\n        calendarWrapperArr[calendarWrapperArr.length - 1].fiscal_quarter == 1\n      ) {\n        endDate = calendarWrapperArr[calendarWrapperArr.length - 2].end_date;\n      } else {\n        endDate = calendarWrapperArr[calendarWrapperArr.length - 1].end_date;\n      }\n\n      let diffDays = getDaysCount(startDate, endDate);\n      if (calendarDataArr && calendarDataArr.length > 0) {\n        calendarDataArr.forEach(ele => {\n          var dt = new Date(ele.start_date);\n          // let marginEndDate = new Date(dt.setDate(dt.getDate() + 1)).toString();\n          let marginEndDate;\n          let width = 0;\n          if (\n            new Date(ele.start_date).getDate() ==\n            new Date(ele.end_date).getDate()\n          ) {\n            width = 1;\n            marginEndDate = new Date(dt.setDate(dt.getDate())).toString();\n          } else {\n            marginEndDate = new Date(dt.setDate(dt.getDate() + 1)).toString();\n            if (calendarWrapperArr[0].start_date > ele.start_date) {\n              width =\n                getDaysCount(calendarWrapperArr[0].start_date, ele.end_date) +\n                1;\n            } else {\n              width = getDaysCount(ele.start_date, ele.end_date) + 1;\n            }\n          }\n\n          // let width = this.getDaysCount(ele.start_date, ele.end_date);\n          let margin = getDaysCount(\n            calendarWrapperArr[0].start_date,\n            marginEndDate\n          );\n\n          if (margin < 0) {\n            margin = 0;\n          } else {\n            margin = margin - 1;\n          }\n          let flexBasis = (width / diffDays) * 100;\n          let marginLeft = (margin / diffDays) * 100;\n          if (100 - marginLeft < flexBasis) {\n            flexBasis = 100 - marginLeft;\n          }\n\n          styleMargin.push({\n            flexBasisInt: flexBasis,\n            flexBasis: `${flexBasis}%`,\n            marginLeft: `${marginLeft}%`\n          });\n        });\n      }\n\n      this.setState(state => {\n        console.log(\"statess===\", state, calendarDataArr);\n\n        return {\n          // ...state,\n          styleMargin: styleMargin\n        };\n      });\n    }\n  };\n\n  getRecommendedData = (e, info) => {\n    console.log(\"infooo GET RECOM\", info, depData);\n    e.stopPropagation();\n    e.preventDefault();\n    let campaignID = info.id;\n    let startDate = info.start_date;\n    let endDate = info.end_date;\n\n    let depData = this.props.selectedDepartment;\n    let catData = this.props.selectedCategory;\n    let subCatData = this.props.selectedSubCategory;\n    let url =\n      \"/vis/recommend/promo?campaignID=\" +\n      campaignID +\n      \"&startDate=\" +\n      startDate +\n      \"&endDate=\" +\n      endDate;\n    let queryArray = [];\n    if (depData) {\n      queryArray.push(\"department=\" + depData.value);\n    }\n    if (catData) {\n      queryArray.push(\"category=\" + catData.value);\n    }\n    if (subCatData) {\n      queryArray.push(\"subCategory=\" + subCatData.value);\n    }\n    if (queryArray.length > 0) {\n      url = url + \"&\" + queryArray.join(\"&\");\n    }\n    console.log(\"infooo GET RECOM\", info, queryArray);\n    if (this.props.markdownlinkShow == 1) {\n      let newURl = \"/vis/recommended\";\n      window.location.assign(newURl);\n    } else {\n      window.location.assign(url);\n    }\n  };\n\n  getRecommendedMarkData = (e, info) => {\n    console.log(\"infooo GET RECOM\", info);\n    e.stopPropagation();\n    e.preventDefault();\n    let markdownId = info.mrk_id;\n\n    let url = \"/vis/Markdown/global-promo?markdownID=\" + markdownId;\n\n    this.props.history.push(url);\n  };\n  toogleRecommendedPromoToolTip = id => {\n    if (this.state.showRecommendedPromoToolTip) {\n      this.setState({\n        showRecommendedPromoToolTip: false,\n        tooltipId: -1\n      });\n    } else {\n      this.setState({\n        showRecommendedPromoToolTip: true,\n        tooltipId: id\n      });\n    }\n  };\n\n  toogleRecommendedPromoMarkdownToolTip = id => {\n    if (this.state.showRecommendedPromoMarkToolTip) {\n      this.setState({\n        showRecommendedPromoMarkToolTip: false,\n        tooltipMarkId: -1\n      });\n    } else {\n      this.setState({\n        showRecommendedPromoMarkToolTip: true,\n        tooltipMarkId: id\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"calendarWeek row\">\n          <div align=\"left\" className=\"col-5\">\n            <div align=\"left\" className=\"\" style={{ marginTop: \"4px\" }}>\n              <span className=\"calendar-color-description\">\n                {this.props.markdownlinkShow == 1\n                  ? \"Completed Markdown\"\n                  : \"Completed campaign\"}\n              </span>\n              <span className=\"calendar-color-description\">\n                {this.props.markdownlinkShow == 1\n                  ? \"Ongoing Markdown\"\n                  : \"Ongoing campaign\"}\n              </span>\n              <span className=\"calendar-color-description\">\n                {this.props.markdownlinkShow == 1\n                  ? \"Future Markdown\"\n                  : \"Future campaign\"}\n              </span>\n            </div>\n          </div>\n          <div\n            align=\"left\"\n            className=\"col-md-3 centreCalendarText\"\n            style={{ color: \"black\" }}\n          >\n            <CalendarWrapperToggleComponent\n              calendarWrapperArr={\n                this.props.calendarWrapperArr &&\n                this.props.calendarWrapperArr.length\n                  ? this.props.calendarWrapperArr\n                  : []\n              }\n              selectedYear={this.props.selectedYear}\n              view={this.props.view}\n              quaterFunction={this.props.quaterFunction}\n              calendarDataPerYear={this.props.calendarDataArr}\n              calendarStrucure={this.props.calendarStrucure}\n              selectedView={this.props.view}\n              fiscal_monthnum={this.props.fiscal_monthnum}\n              fiscal_quarter={this.props.fiscal_quarter}\n              navCallBack={this.props.navCallBack}\n              markdownlinkShow={this.props.markdownlinkShow}\n              showToggleContinious={this.props.showToggleContinious}\n            />\n          </div>\n\n          <div className=\"col-md-4 text-right BtnGroupRow\">\n            <div\n              id=\"promoCal\"\n              className=\"divInn btn-group \"\n              style={{ textAlign: \"center\" }}\n            >\n              <button\n                type=\"button\"\n                className={classNames({\n                  active: this.props.view == \"Month\",\n                  \" btn\": true,\n                  \"btn-outline-primary cal-btn\": true,\n                  btnCalendr: true,\n                  calPromo: true\n                })}\n                onClick={() => this.props.quaterFunction(\"Month\")}\n                style={{ width: \"90px\" }}\n              >\n                Month\n              </button>\n              <button\n                type=\"button\"\n                className={classNames({\n                  active: this.props.view == \"Quarter\",\n                  \" btn\": true,\n                  \"btn-outline-primary cal-btn\": true,\n                  btnCalendr: true,\n                  calPromo: true\n                })}\n                onClick={() => this.props.quaterFunction(\"Quarter\")}\n                style={{ width: \"90px\" }}\n              >\n                Quarter\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"CalendarWrapper\">\n          <CalendarWrapperWeeks\n            calendarWrapperArr={this.props.calendarWrapperArr}\n          />\n\n          {this.props.calendarDataArr && this.props.calendarDataArr.length ? (\n            <CalendarWrapperBlocks\n              calendarDataArr={this.props.calendarDataArr}\n              styleMargin={this.state.styleMargin ? this.state.styleMargin : []}\n              showRecommendedPromoToolTip={\n                this.state.showRecommendedPromoToolTip\n              }\n              tooltipId={this.state.tooltipId}\n              toogleRecommendedPromoToolTip={this.toogleRecommendedPromoToolTip}\n              markdownlinkShow={this.props.markdownlinkShow}\n              showPromotionMain={this.showPromotionMain}\n              showPromotionMainWithValues={this.showPromotionMainWithValues}\n              onTabClick={this.props.onTabClick}\n              showLoading={this.props.showLoading}\n              calendarWrapperArr={this.props.calendarWrapperArr}\n              getRecommendedData={this.getRecommendedData}\n              toogleRecommendedPromoMarkdownToolTip={\n                this.toogleRecommendedPromoMarkdownToolTip\n              }\n              getRecommendedMarkData={this.getRecommendedMarkData}\n              promoButtonClick={this.props.promoButtonClick}\n              promoDetailsHandler={this.props.promoDetailsHandler}\n              showRecommendedPromoMarkToolTip={\n                this.state.showRecommendedPromoMarkToolTip\n              }\n              tooltipMarkId={this.state.tooltipMarkId}\n            />\n          ) : this.props.showLoading === true ? (\n            <div\n              className=\"Row\"\n              height=\"200\"\n              align=\"middle\"\n              style={{\n                justifyContent: \"center\",\n                padding: \"2rem 0\",\n                borderTop: \"1px solid #ddd\",\n                borderBottom: \"1px solid #ddd\"\n              }}\n            >\n              Please wait while data is loading...\n            </div>\n          ) : (\n            <div\n              className=\"Row\"\n              height=\"200\"\n              align=\"middle\"\n              style={{\n                justifyContent: \"center\",\n                padding: \"2rem 0\",\n                borderTop: \"1px solid #ddd\",\n                borderBottom: \"1px solid #ddd\"\n              }}\n            >\n              No data to show!\n            </div>\n          )}\n        </div>\n        {/* <div align=\"right\" className=\"\" style={{ marginBottom: \"-10px\" }}>\n          <span className=\"calendar-color-description\">\n            Completed Campaigns\n          </span>\n          <span className=\"calendar-color-description\">Ongoing Campaigns</span>\n          <span className=\"calendar-color-description\">Future Campaigns</span>\n        </div> */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  showLoading: state.calendar.loader\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getGlobalPromoPerMarkdown: params =>\n    dispatch(getGlobalPromoPerMarkdown(params))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(CalendarWrapper));\n"]},"metadata":{},"sourceType":"module"}