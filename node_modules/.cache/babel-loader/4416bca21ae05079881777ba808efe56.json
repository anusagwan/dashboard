{"ast":null,"code":"import _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/components/AutoPromoCreation/showPromoDialog.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport Modal from \"react-awesome-modal\";\nimport AutopromoCharts from \"./Autopromocharts\";\nimport Select from \"../SelectAll\";\nimport _ from \"lodash\";\n\nvar ShowPromoDialog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShowPromoDialog, _Component);\n\n  function ShowPromoDialog(props) {\n    var _this;\n\n    _classCallCheck(this, ShowPromoDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShowPromoDialog).call(this, props));\n\n    _this.onApply = function () {\n      _this.props.onApply(_this.state.promos);\n\n      console.log(\"dataaaa:\", _this.state.promos);\n    };\n\n    _this.setadgroup = function (e) {\n      var obj = _this.state.promos || {};\n      obj.adgroup = e.value;\n      obj.category = _this.props.data.category;\n\n      _this.setState({\n        promos: obj\n      });\n\n      _this.setState({\n        defaultAdgroup: e\n      });\n\n      _this.props.callOptimizedData(e.value);\n    };\n\n    _this.setPromoValue = function (e) {\n      var obj = _this.state.promos || {};\n      obj.category = _this.props.data.category;\n      obj.promo_value = e.target.value;\n\n      _this.setState({\n        promos: obj\n      });\n    };\n\n    _this.setType = function (type) {\n      var obj = _this.state.promos || {};\n      obj.category = _this.props.data.category;\n      obj.promo_type = type.value;\n\n      _this.setState({\n        promos: obj\n      });\n\n      _this.setState({\n        defaultType: type\n      });\n    };\n\n    _this.onAddAndSave = function () {\n      if (_this.props.isAdd && _this.props.data.optimizedValue != undefined) {\n        var obj = _this.state.promos;\n        obj.optimizedValue.promo_value = _this.props.data.optimizedValue ? _this.props.data.optimizedValue.promo_value : null;\n        obj.optimizedValue.promo_type = _this.props.data.optimizedValue ? _this.props.data.optimizedValue.promo_type : null;\n        obj.showDefault = {\n          promo_value: obj.promo_value,\n          promo_type: obj.promo_type\n        };\n\n        _this.setState({\n          promos: obj\n        }, function () {\n          _this.props.onAdd(_this.state.promos);\n        });\n      } else {\n        //let obj = this.state.promos;\n        if (_this.state.promos.showDefault) {\n          _this.state.promos.showDefault.promo_value = _this.state.promos.promo_value;\n          _this.state.promos.showDefault.promo_type = _this.state.promos.promo_type;\n        }\n\n        _this.props.onSaveEditedPromo(_this.state.promos);\n      }\n    };\n\n    _this.state = {\n      types: [{\n        value: \"F\",\n        label: \"Fixed Price\"\n      }, {\n        value: \"A\",\n        label: \"Amount Discount\"\n      }, {\n        value: \"P\",\n        label: \"Percentage Off\"\n      }],\n      promos: {\n        adgroup: \"\",\n        category: \"\",\n        kpi: {},\n        promo_type: \"\",\n        promo_value: \"\",\n        optimizedValue: {\n          promo_value: \"\",\n          promo_type: \"\"\n        },\n        showDefault: {\n          promo_value: \"\",\n          promo_type: \"\"\n        }\n      },\n      selectedDate: [],\n      defaultAdgroup: {},\n      defaultType: {},\n      subCategories: [\"Boys Round Neck TShirt\", \"Boys Casual Shirt\", \"Boys Hooded SweatShirt\", \"Boys Colorblocked SwearShirt\", \"Boys Printed SwearShirt\", \"Boys Casual Blazer\", \"Boys Checked Blazers\", \"Boys Slim Fit Blazers\"]\n    };\n    return _this;\n  }\n\n  _createClass(ShowPromoDialog, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.updateStatefromProps(props);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateStatefromProps(this.props);\n    }\n  }, {\n    key: \"updateStatefromProps\",\n    value: function updateStatefromProps(promo) {\n      var obj = {\n        value: promo.data.adgroup,\n        label: promo.data.adgroup\n      };\n      var typesObj = this.state.types.filter(function (obj) {\n        return obj.value === promo.data.promo_type;\n      });\n      this.setState({\n        defaultAdgroup: obj\n      });\n      this.setState({\n        defaultType: typesObj\n      });\n      this.setState({\n        selectedDate: promo.selectedDate.map(function (obj) {\n          return obj.format(\"YYYY/MM/DD\");\n        })\n      });\n      this.setState({\n        promos: promo.data\n      });\n    }\n  }, {\n    key: \"showOptimizedValue\",\n    value: function showOptimizedValue() {\n      console.log(\"optimizeddata: \", this.props.data.optimizedValue);\n\n      if (this.props.data.optimizedValue) {\n        var promoValue = this.props.data.optimizedValue.promo_value;\n        var promoType = this.props.data.optimizedValue.promo_type; // if (this.props.isAdd && this.props.optimizedData) {\n        //   promoValue = this.props.optimizedData.promo_data[0].promo_value;\n        //   promoType = this.props.optimizedData.promo_data[0].promo_type;\n        // }\n\n        if (promoType === \"P\") {\n          return \"\".concat(parseInt(promoValue).toFixed(0), \"% Off\");\n        } else if (promoType === \"F\") {\n          return \"$\".concat(promoValue, \" Fixed\");\n        } else {\n          return \"$\".concat(promoValue, \" Off\");\n        }\n      }\n    }\n  }, {\n    key: \"onShowHistory\",\n    value: function onShowHistory() {\n      this.props.onShowHistory(this.state.promos.category, this.state.defaultAdgroup.value); // window.open(`/vis/AdgroupHistory?subCategory=${this.state.promos.category}&sku=${this.state.defaultAdgroup.value}`)\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"this.props.data:\", this.props.data);\n\n      var kpi = _.clone(this.props.data.kpi);\n\n      console.log(\"this.props.datasdads:\", kpi);\n      return React.createElement(Modal, {\n        visible: this.props.show,\n        width: \"900\",\n        height: \"620\",\n        effect: \"fadeInDown\",\n        onClickAway: function onClickAway() {\n          return _this2.props.onCancel();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.props.onCancel();\n        },\n        className: \"pull-right\",\n        style: {\n          cursor: \"pointer\",\n          zIndex: \"1\",\n          position: \"relative\",\n          margin: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-times\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          margin: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"autoPeromo-modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Promo\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"autopromo-modal-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Department:\", React.createElement(\"span\", {\n        className: \"font-bold\",\n        style: {\n          marginLeft: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, this.state.promos.category))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        style: {\n          float: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"autopromo-modal-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Time period:\", React.createElement(\"span\", {\n        className: \"font-bold\",\n        style: {\n          marginLeft: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, this.state.selectedDate[0], \" - \", this.state.selectedDate[1]))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, !this.props.isAdd ? React.createElement(\"p\", {\n        className: \"autopromo-modal-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"SKU/SKU Grop:\", React.createElement(\"span\", {\n        className: \"font-bold\",\n        style: {\n          marginLeft: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, this.state.defaultAdgroup.value), React.createElement(\"button\", {\n        className: \"btn btn-primary btn-add-promo\",\n        style: {\n          marginLeft: \"10px\"\n        },\n        onClick: function onClick() {\n          return _this2.onShowHistory();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Show History\")) : React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(Select, {\n        name: \"adgroup\",\n        placeholder: \"Select Adgroup\",\n        options: this.state.subCategories.map(function (value) {\n          return {\n            value: value,\n            label: value\n          };\n        }) // isDisabled={!this.props.isAdd}\n        ,\n        value: this.state.defaultAdgroup,\n        onChange: function onChange(e) {\n          return _this2.setadgroup(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary btn-add-promo\",\n        onClick: function onClick() {\n          return _this2.onShowHistory();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Show History\"))))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"autopromo-modal-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Optimized Promo Value:\", React.createElement(\"span\", {\n        className: \"font-bold\",\n        style: {\n          marginLeft: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, this.showOptimizedValue())))), React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          marginTop: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Simulate Promo:\"), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control autopro-budget-input\",\n        name: \"promoValue\",\n        type: \"number\",\n        min: \"0\",\n        value: this.state.promos.promo_value,\n        placeholder: \"Select promo value\",\n        onChange: function onChange(event) {\n          return _this2.setPromoValue(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(Select, {\n        name: \"selectType\",\n        options: this.state.types,\n        value: this.state.defaultType,\n        placeholder: \"Select promo type\",\n        onChange: function onChange(e) {\n          return _this2.setType(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          return _this2.onApply();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, \"Simulate\"))), React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-evenly\",\n          marginTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(AutopromoCharts, {\n        title: \"Quanity\",\n        width: \"16rem\",\n        height: \"300px\",\n        data: kpi.qty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(AutopromoCharts, {\n        title: \"Revenue\",\n        width: \"16rem\",\n        height: \"300px\",\n        data: kpi.revenue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }), React.createElement(AutopromoCharts, {\n        title: \"Margin\",\n        width: \"16rem\",\n        height: \"300px\",\n        data: kpi.margin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      })), kpi && Object.keys(kpi).length ? React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          marginTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: function onClick() {\n          return _this2.props.onCancel();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: function onClick() {\n          return _this2.onDelete();\n        },\n        disabled: true,\n        style: {\n          marginRight: \"5px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, \"Delete\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: function onClick() {\n          return _this2.onAddAndSave();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, this.props.isAdd ? \"Add Promo\" : \"Save\"))) : null));\n    }\n  }]);\n\n  return ShowPromoDialog;\n}(Component);\n\nexport default ShowPromoDialog;","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/components/AutoPromoCreation/showPromoDialog.js"],"names":["React","Component","Fragment","Button","Modal","AutopromoCharts","Select","_","ShowPromoDialog","props","onApply","state","promos","console","log","setadgroup","e","obj","adgroup","value","category","data","setState","defaultAdgroup","callOptimizedData","setPromoValue","promo_value","target","setType","type","promo_type","defaultType","onAddAndSave","isAdd","optimizedValue","undefined","showDefault","onAdd","onSaveEditedPromo","types","label","kpi","selectedDate","subCategories","updateStatefromProps","promo","typesObj","filter","map","format","promoValue","promoType","parseInt","toFixed","onShowHistory","clone","show","onCancel","cursor","zIndex","position","margin","marginLeft","float","showOptimizedValue","marginTop","event","display","justifyContent","qty","revenue","Object","keys","length","onDelete","marginRight"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport Modal from \"react-awesome-modal\";\nimport AutopromoCharts from \"./Autopromocharts\";\nimport Select from \"../SelectAll\";\nimport _ from \"lodash\";\n\nclass ShowPromoDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      types: [\n        {\n          value: \"F\",\n          label: \"Fixed Price\"\n        },\n        {\n          value: \"A\",\n          label: \"Amount Discount\"\n        },\n        {\n          value: \"P\",\n          label: \"Percentage Off\"\n        }\n      ],\n      promos: {\n        adgroup: \"\",\n        category: \"\",\n        kpi: {},\n        promo_type: \"\",\n        promo_value: \"\",\n        optimizedValue: {\n          promo_value: \"\",\n          promo_type: \"\"\n        },\n        showDefault: {\n          promo_value: \"\",\n          promo_type: \"\"\n        }\n      },\n      selectedDate: [],\n      defaultAdgroup: {},\n      defaultType: {},\n      subCategories: [\n        \"Boys Round Neck TShirt\",\n        \"Boys Casual Shirt\",\n        \"Boys Hooded SweatShirt\",\n        \"Boys Colorblocked SwearShirt\",\n        \"Boys Printed SwearShirt\",\n        \"Boys Casual Blazer\",\n        \"Boys Checked Blazers\",\n        \"Boys Slim Fit Blazers\"\n      ]\n    };\n  }\n  onApply = () => {\n    this.props.onApply(this.state.promos);\n    console.log(\"dataaaa:\", this.state.promos);\n  };\n\n  setadgroup = e => {\n    let obj = this.state.promos || {};\n    obj.adgroup = e.value;\n    obj.category = this.props.data.category;\n    this.setState({ promos: obj });\n    this.setState({\n      defaultAdgroup: e\n    });\n    this.props.callOptimizedData(e.value);\n  };\n\n  setPromoValue = e => {\n    let obj = this.state.promos || {};\n    obj.category = this.props.data.category;\n    obj.promo_value = e.target.value;\n    this.setState({ promos: obj });\n  };\n\n  setType = type => {\n    let obj = this.state.promos || {};\n    obj.category = this.props.data.category;\n    obj.promo_type = type.value;\n    this.setState({ promos: obj });\n    this.setState({ defaultType: type });\n  };\n\n  onAddAndSave = () => {\n    if (this.props.isAdd && this.props.data.optimizedValue!=undefined) {\n      let obj = this.state.promos;\n      obj.optimizedValue.promo_value = this.props.data.optimizedValue?this.props.data.optimizedValue.promo_value:null;\n      obj.optimizedValue.promo_type = this.props.data.optimizedValue?this.props.data.optimizedValue.promo_type:null;\n      obj.showDefault = {\n        promo_value: obj.promo_value,\n        promo_type: obj.promo_type\n      };\n      this.setState(\n        {\n          promos: obj\n        },\n        () => {\n          this.props.onAdd(this.state.promos);\n        }\n      );\n    } else {\n      //let obj = this.state.promos;\n      if (this.state.promos.showDefault) {\n        this.state.promos.showDefault.promo_value =this.state.promos.promo_value;\n        this.state.promos.showDefault.promo_type = this.state.promos.promo_type;\n      }\n      this.props.onSaveEditedPromo(this.state.promos);\n    }\n  };\n\n  componentWillReceiveProps(props) {\n    this.updateStatefromProps(props);\n  }\n  componentDidMount() {\n    this.updateStatefromProps(this.props);\n  }\n\n  updateStatefromProps(promo) {\n    let obj = {\n      value: promo.data.adgroup,\n      label: promo.data.adgroup\n    };\n    let typesObj = this.state.types.filter(\n      obj => obj.value === promo.data.promo_type\n    );\n    this.setState({\n      defaultAdgroup: obj\n    });\n    this.setState({\n      defaultType: typesObj\n    });\n    this.setState({\n      selectedDate: promo.selectedDate.map(obj => obj.format(\"YYYY/MM/DD\"))\n    });\n    this.setState({ promos: promo.data });\n  }\n\n  showOptimizedValue() {\n    console.log(\"optimizeddata: \", this.props.data.optimizedValue);\n    if (this.props.data.optimizedValue) {\n      let promoValue = this.props.data.optimizedValue.promo_value;\n      let promoType = this.props.data.optimizedValue.promo_type;\n      // if (this.props.isAdd && this.props.optimizedData) {\n      //   promoValue = this.props.optimizedData.promo_data[0].promo_value;\n      //   promoType = this.props.optimizedData.promo_data[0].promo_type;\n      // }\n      if (promoType === \"P\") {\n        return `${parseInt(promoValue).toFixed(0)}% Off`;\n      } else if (promoType === \"F\") {\n        return `$${promoValue} Fixed`;\n      } else {\n        return `$${promoValue} Off`;\n      }\n    }\n  }\n\n  onShowHistory() {\n    this.props.onShowHistory(\n      this.state.promos.category,\n      this.state.defaultAdgroup.value\n    );\n    // window.open(`/vis/AdgroupHistory?subCategory=${this.state.promos.category}&sku=${this.state.defaultAdgroup.value}`)\n  }\n  render() {\n    console.log(\"this.props.data:\", this.props.data);\n    const kpi = _.clone(this.props.data.kpi);\n    console.log(\"this.props.datasdads:\", kpi);\n    return (\n      <Modal\n        visible={this.props.show}\n        width=\"900\"\n        height=\"620\"\n        effect=\"fadeInDown\"\n        onClickAway={() => this.props.onCancel()}\n      >\n        <div\n          onClick={() => this.props.onCancel()}\n          className=\"pull-right\"\n          style={{\n            cursor: \"pointer\",\n            zIndex: \"1\",\n            position: \"relative\",\n            margin: \"10px\"\n          }}\n        >\n          <i class=\"fa fa-times\" aria-hidden=\"true\" />\n        </div>\n        <div style={{ margin: \"20px\" }}>\n          <h6 className=\"autoPeromo-modal\">Promo</h6>\n\n          <hr />\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <p className=\"autopromo-modal-text\">\n                Department:\n                <span className=\"font-bold\" style={{ marginLeft: \"10px\" }}>\n                  {this.state.promos.category}\n                </span>\n              </p>\n            </div>\n            <div className=\"col-md-6\" style={{ float: \"right\" }}>\n              <p className=\"autopromo-modal-text\">\n                Time period:\n                <span className=\"font-bold\" style={{ marginLeft: \"10px\" }}>\n                  {this.state.selectedDate[0]} - {this.state.selectedDate[1]}\n                </span>\n              </p>\n            </div>\n\n            <div className=\"col-md-6\">\n              <Fragment>\n                {!this.props.isAdd ? (\n                  <p className=\"autopromo-modal-text\">\n                    SKU/SKU Grop:\n                    <span className=\"font-bold\" style={{ marginLeft: \"10px\" }}>\n                      {this.state.defaultAdgroup.value}\n                    </span>\n                    <button\n                      className=\"btn btn-primary btn-add-promo\"\n                      style={{ marginLeft: \"10px\" }}\n                      onClick={() => this.onShowHistory()}\n                    >\n                      Show History\n                    </button>\n                  </p>\n                ) : (\n                  <div className=\"row\">\n                    <div className=\"col-md-8\">\n                      <Select\n                        name=\"adgroup\"\n                        placeholder=\"Select Adgroup\"\n                        options={this.state.subCategories.map(value => {\n                          return { value, label: value };\n                        })}\n                        // isDisabled={!this.props.isAdd}\n                        value={this.state.defaultAdgroup}\n                        onChange={e => this.setadgroup(e)}\n                      />\n                    </div>\n                    <div className=\"col-md-2\">\n                      <button\n                        className=\"btn btn-primary btn-add-promo\"\n                        onClick={() => this.onShowHistory()}\n                      >\n                        Show History\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </Fragment>\n            </div>\n\n            <div className=\"col-md-6\">\n              <p className=\"autopromo-modal-text\">\n                Optimized Promo Value:\n                <span className=\"font-bold\" style={{ marginLeft: \"10px\" }}>\n                  {this.showOptimizedValue()}\n                </span>\n              </p>\n            </div>\n            {/* </div> */}\n\n            {/* <div className=\"col-md-6\">\n              {this.props.isAdd ? (\n                <div className=\"row\">\n                  <div className=\"col-md-4\">\n                    <Select\n                      name=\"adgroup\"\n                      placeholder=\"Select Adgroup\"\n                      options={this.state.subCategories.map(value => {\n                        return { value, label: value };\n                      })}\n                      // isDisabled={!this.props.isAdd}\n                      value={this.state.defaultAdgroup}\n                      onChange={e => this.setadgroup(e)}\n                    />\n                  </div>\n                  <div className=\"col-md-3\">\n                    <button className=\"btn btn-primary btn-add-promo\" disabled>\n                      Show History\n                    </button>\n                  </div>\n                </div>\n              ) : null}\n            </div> */}\n          </div>\n          <div className=\"row\" style={{ marginTop: \"10px\" }}>\n            <div className=\"col-md-2\">Simulate Promo:</div>\n            <div className=\"col-md-3\">\n              <input\n                className=\"form-control autopro-budget-input\"\n                name=\"promoValue\"\n                type=\"number\"\n                min=\"0\"\n                value={this.state.promos.promo_value}\n                placeholder=\"Select promo value\"\n                onChange={event => this.setPromoValue(event)}\n              />\n            </div>\n            <div className=\"col-md-3\">\n              <Select\n                name=\"selectType\"\n                options={this.state.types}\n                value={this.state.defaultType}\n                placeholder=\"Select promo type\"\n                onChange={e => this.setType(e)}\n              />\n            </div>\n            <div className=\"col-md-3\">\n              <button\n                className=\"btn btn-primary\"\n                onClick={() => this.onApply()}\n              >\n                Simulate\n              </button>\n            </div>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-evenly\",\n              marginTop: \"20px\"\n            }}\n          >\n            {/* {kpi && kpi.qty ? ( */}\n            <AutopromoCharts\n              title=\"Quanity\"\n              width=\"16rem\"\n              height=\"300px\"\n              data={kpi.qty}\n            />\n            {/* ) : null} */}\n            {/* {kpi && kpi.revenue ? ( */}\n            <AutopromoCharts\n              title=\"Revenue\"\n              width=\"16rem\"\n              height=\"300px\"\n              data={kpi.revenue}\n            />\n            {/* ) : null} */}\n            {/* {kpi && kpi.margin ? ( */}\n            <AutopromoCharts\n              title=\"Margin\"\n              width=\"16rem\"\n              height=\"300px\"\n              data={kpi.margin}\n            />\n            {/* ) : null} */}\n          </div>\n          {kpi && Object.keys(kpi).length ? (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                marginTop: \"20px\"\n              }}\n            >\n              <Button variant=\"secondary\" onClick={() => this.props.onCancel()}>\n                Cancel\n              </Button>\n              <div>\n                <Button\n                  variant=\"primary\"\n                  onClick={() => this.onDelete()}\n                  disabled\n                  style={{ marginRight: \"5px\" }}\n                >\n                  Delete\n                </Button>\n                <Button variant=\"primary\" onClick={() => this.onAddAndSave()}>\n                  {this.props.isAdd ? \"Add Promo\" : \"Save\"}\n                </Button>\n              </div>\n            </div>\n          ) : null}\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default ShowPromoDialog;\n"]},"metadata":{},"sourceType":"module"}