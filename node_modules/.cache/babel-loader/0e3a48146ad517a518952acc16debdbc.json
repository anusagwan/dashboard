{"ast":null,"code":"import _objectSpread from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/generic-markdown-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/generic-markdown-frontend/src/Markdown/components/ManuallyCreateMD/index.js\";\nimport React, { Component, Fragment } from \"react\";\nimport Filters from \"../../services/filters\";\nimport MarkdownAnalysis from \"../MarkdownAnalysis\";\nimport InventoryInfo from \"./InventoryInfo\";\nimport Constraints from \"./Constraints\";\nimport CreateCadence from \"./CreateCadence\";\nimport Modal from \"react-awesome-modal\";\nimport { withRouter } from \"react-router-dom\";\nimport Select from \"react-select\";\nimport { connect } from \"react-redux\";\nimport manuallyCreateMdActions from \"../../actions/manuallyCreateMdActions.js\";\nimport \"./index.css\";\nimport { Button, Tabs, Tab, ToggleButtonGroup, ToggleButton } from \"react-bootstrap\";\nimport MarkdownDetailedTable from \"./MardownDetailedTable\";\nimport ColumnSelection from \"../columnSelection\";\nimport cloneDeep from \"clone-deep\";\nimport ComparisonTable from \"./ComparisonTable\";\nimport ComparisonMetricTable from \"./ComparisonMetricTable\";\nimport classNames from \"classnames\";\nimport ExcludeStoreTable from \"./excludeStoreTable\";\nimport PlanSavePopup from \"./planSavePopup\";\n\nvar ManuallyCreateMD =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ManuallyCreateMD, _Component);\n\n  function ManuallyCreateMD(props) {\n    var _this;\n\n    _classCallCheck(this, ManuallyCreateMD);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManuallyCreateMD).call(this, props));\n\n    _this.onUpdateMarkdownPercentage = function (data, index) {\n      if (_this.state.cadenceConstraintsVal === \"overall\") {\n        var data1 = cloneDeep(_this.state.overallCadenceData);\n        data1[index] = data;\n\n        _this.setState({\n          overallCadenceData: data1\n        });\n      } else {\n        var _data = cloneDeep(_this.state.skuLabelCadenceData);\n\n        _data[index] = data;\n\n        _this.setState({\n          skuLabelCadenceData: _data\n        });\n      }\n    };\n\n    _this.getComparisonData = function () {\n      var comparisonData = cloneDeep(_this.state.comparisonData);\n\n      for (var i = 0; i < _this.state.TabTitles.length - 2; i++) {\n        comparisonData.push({\n          scenarios: _this.state.TabTitles[i],\n          w1: 123,\n          w2: 324,\n          w3: 432,\n          w4: 3456,\n          w5: 324,\n          w6: 3333\n        });\n      }\n    };\n\n    _this.onSelectTabs = function (key) {\n      if (_this.state.dataOfALlTheTabs.length === 0) {\n        var data = cloneDeep(_this.state.dataOfALlTheTabs);\n        data[0] = _this.state.data;\n\n        _this.setState({\n          dataOfALlTheTabs: data\n        });\n      } else {\n        _this.setState({\n          simulatedData: false\n        });\n      }\n\n      _this.setState({\n        defaultActiveKey: key\n      });\n    };\n\n    _this.addScenario = function () {\n      var TabTitles = _this.state.TabTitles;\n      var str = \"Scenario\";\n      var tempData = [];\n\n      if (_this.state.TabTitles.length === 1) {\n        str += TabTitles.length;\n        TabTitles[TabTitles.length] = str;\n      } else {\n        str += TabTitles.length - 1;\n        TabTitles[TabTitles.length - 1] = str;\n      }\n\n      if (_this.state.cadenceConstraintsVal === \"overall\") {\n        tempData = cloneDeep(_this.state.overallCadenceData);\n        tempData[TabTitles.length - 1] = _this.state.overallCadenceData[0];\n\n        _this.setState({\n          overallCadenceData: tempData\n        }, function () {\n          console.log(\"overallCadenceData dTA:\", _this.state.overallCadenceData);\n        });\n      } else {\n        tempData = cloneDeep(_this.state.skuLabelCadenceData);\n        tempData[TabTitles.length - 1] = _this.state.skuLabelCadenceData[0];\n\n        _this.setState({\n          skuLabelCadenceData: tempData\n        }, function () {\n          console.log(\"skylabelcadence dTA:\", _this.state.skuLabelCadenceData);\n        });\n      }\n\n      TabTitles[TabTitles.length] = \"Comparison\";\n\n      _this.setState({\n        TabTitles: TabTitles,\n        defaultActiveKey: str\n      });\n    };\n\n    _this.generateCadence = function () {\n      _this.setState({\n        showCadence: true\n      });\n\n      var payload = {\n        filters: \"\",\n        inventorySelected: \"\",\n        storeSelected: \"\",\n        excludeStore: \"\",\n        sellThrough: _this.state.targetSellThroughVal,\n        margin: _this.state.margin\n      };\n\n      _this.props.fetchCadence(payload);\n    };\n\n    _this.onSimulate = function () {\n      if (_this.state.defaultActiveKey === \"Comparison\") {\n        _this.setState({\n          simulatedData: false\n        });\n      } else {\n        _this.setState({\n          simulatedData: true\n        });\n      }\n    };\n\n    _this.changedView = function (view) {\n      _this.setState({\n        selectedView: view\n      });\n    };\n\n    _this.onExcludeStores = function () {\n      _this.setState({\n        showExcludeStorePopup: true\n      });\n    };\n\n    _this.showPlanSavePopup = function () {\n      _this.setState({\n        showPlanSavePopup: false\n      });\n    };\n\n    _this.showTablePopup = function () {\n      _this.setState({\n        showExcludeStorePopup: false\n      });\n    };\n\n    _this.getComparisonCadence = function () {\n      var tabTitle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"comparison\";\n      return React.createElement(Tab, {\n        eventKey: tabTitle,\n        title: tabTitle,\n        key: tabTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, React.createElement(ComparisonTable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      })) // <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n      //   <CreateCadence\n      //     addScenario={this.addScenario}\n      //     selectedSku={this.state.selectedSku}\n      //     key={tabTitle}\n      //   />\n      // </Tab>\n      ;\n    };\n\n    _this.onFilter = function () {\n      _this.props.fetchInventoryInfo();\n    };\n\n    _this.constraintsCadenceHandler = function (value) {\n      _this.setState({\n        cadenceConstraintsVal: value,\n        showCadence: false,\n        TabTitles: [\"Optimal\"],\n        defaultActiveKey: \"Optimal\"\n      });\n    };\n\n    _this.markdownTypeHandler = function (val) {\n      _this.setState({\n        markdownType: val\n      });\n    };\n\n    _this.marginValueHandler = function (e) {\n      _this.setState({\n        margin: e.target.value\n      });\n    };\n\n    _this.targetSellThrough = function (e) {\n      _this.setState({\n        targetSellThroughVal: e.target.value\n      });\n    };\n\n    _this.state = {\n      selectedSkuGroup: {\n        label: null,\n        value: null\n      },\n      targetSellThroughVal: null,\n      markdownType: null,\n      cadenceConstraintsVal: \"overall\",\n      margin: null,\n      markdownDetailedData: [{\n        sku_id: \"1234\",\n        w1sellThrough: \"1234\",\n        w1margin: \"4321\",\n        w2sellThrough: \"1234\",\n        w2margin: \"4321\",\n        w3sellThrough: \"1234\",\n        w3margin: \"4321\",\n        w4sellThrough: \"1234\",\n        w4margin: \"4321\",\n        style_desc: \"def\"\n      }, {\n        sku_id: \"1234\",\n        w1sellThrough: \"1234\",\n        w1margin: \"4321\",\n        w2sellThrough: \"1234\",\n        w2margin: \"4321\",\n        w3sellThrough: \"1234\",\n        w3margin: \"4321\",\n        w4sellThrough: \"1234\",\n        w4margin: \"4321\",\n        style_desc: \"def\"\n      }, {\n        sku_id: \"1234\",\n        w1sellThrough: \"1234\",\n        w1margin: \"4321\",\n        w2sellThrough: \"1234\",\n        w2margin: \"4321\",\n        w3sellThrough: \"1234\",\n        w3margin: \"4321\",\n        w4sellThrough: \"1234\",\n        w4margin: \"4321\",\n        style_desc: \"def\"\n      }],\n      overallCadenceData: [[{\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }]],\n      skuLabelCadenceData: [[{\n        \"SKU ID\": 1000234,\n        \"MD Status\": \"High\",\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }, {\n        \"SKU ID\": 1000234,\n        \"MD Status\": \"Medium\",\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }]],\n      filters: [\"season\", \"hierarchy1\", \"hierarchy2\", \"hierarchy3\", \"hierarchy4\", \"hierarchy5\", \"hierarchy6\", \"hierarchy7\"],\n      totalInventory: 0,\n      currentInventory: 0,\n      totalStores: 0,\n      selectedStores: 0,\n      selectedView: \"Overview\",\n      selectedSku: [],\n      showExcludeStorePopup: false,\n      showPlanSavePopup: false,\n      TabTitles: [\"Optimal\"],\n      defaultActiveKey: \"Optimal\",\n      attributes: [\"Sales\", \"Inventory\", \"Margin\"],\n      value: 1,\n      dataOfALlTheTabs: [],\n      data: [{\n        skuId: 1000234,\n        mdStatus: \"High\",\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }, {\n        skuId: 1000234,\n        mdStatus: \"Medium\",\n        w1: 20,\n        w2: 30,\n        w3: 40,\n        w4: 50,\n        w5: 60\n      }],\n      comparsionHeader: [{\n        Header: \"Scenarios\",\n        accessor: \"scenarios\"\n      }, {\n        Header: \"W1\",\n        accessor: \"w1\"\n      }, {\n        Header: \"W2\",\n        accessor: \"w2\"\n      }, {\n        Header: \"W3\",\n        accessor: \"w3\"\n      }, {\n        Header: \"W4\",\n        accessor: \"w4\"\n      }, {\n        Header: \"W5\",\n        accessor: \"w5\"\n      }, {\n        Header: \"W6\",\n        accessor: \"w6\"\n      }],\n      comparisonData: [],\n      showCadence: false,\n      simulatedData: false\n    };\n    return _this;\n  }\n\n  _createClass(ManuallyCreateMD, [{\n    key: \"getCadence\",\n    value: function getCadence() {\n      var _this2 = this;\n\n      var comparsionData = [];\n\n      if (this.state.TabTitles.indexOf(\"Comparison\") !== -1) {\n        for (var i = 0; i < this.state.TabTitles.length - 1; i++) {\n          if (this.state.cadenceConstraintsVal === \"overall\") {\n            comparsionData.push(_objectSpread({\n              scenarios: this.state.TabTitles[i]\n            }, this.state.overallCadenceData[i][0]));\n          } else {\n            var rows = cloneDeep(this.state.skuLabelCadenceData[i][0]);\n            delete rows[\"SKU ID\"];\n            delete rows[\"MD Status\"];\n            comparsionData.push(_objectSpread({\n              scenarios: this.state.TabTitles[i]\n            }, rows));\n          }\n        }\n      }\n\n      return this.state.TabTitles.map(function (tabTitle, index) {\n        return React.createElement(Tab, {\n          eventKey: tabTitle,\n          title: tabTitle,\n          key: tabTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"markdownperstyle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, _this2.state.cadenceConstraintsVal === \"sku\" && tabTitle === \"Comparison\" ? React.createElement(\"div\", {\n          className: \"row skuLabelStyle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"skuLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"SKU/SKU Group\"), React.createElement(\"div\", {\n          className: \"col-md-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(Select, {\n          name: \"category\",\n          value: _this2.state.selectedSkuGroup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }))) : React.createElement(\"label\", {\n          className: \"font-size-14\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, \"Markdown Percentages\")), tabTitle === \"Comparison\" ? React.createElement(\"div\", {\n          className: \"cadencetable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, _this2.state.cadenceConstraintsVal === \"sku\" ? React.createElement(ComparisonMetricTable, {\n          showCheckBoxComparsionTable: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }) : React.createElement(ComparisonTable, {\n          data: comparsionData,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        })) : React.createElement(\"div\", {\n          className: \"cadencetable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, React.createElement(CreateCadence, {\n          overallCadenceData: _this2.state.cadenceConstraintsVal === \"overall\" ? _this2.state.overallCadenceData[index] : _this2.state.skuLabelCadenceData[index],\n          onUpdateMarkdownPercentage: _this2.onUpdateMarkdownPercentage,\n          addScenario: _this2.addScenario,\n          selectedSku: _this2.state.selectedSku,\n          key: tabTitle,\n          index: index,\n          activeTab: _this2.state.defaultActiveKey // dafaultData={}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        })));\n      }); // setTimeout(() => {\n      //   this.setState({\n      //     defaultActiveKey: \"Scenario1\",\n      //   });\n      // }, 5000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(\"this.state.overallCadenceData:\", this.state.overallCadenceData);\n      return React.createElement(\"div\", {\n        className: \"createMd pl-2 pr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"font-size-14 markdown-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, \"Markdown Optimization /\", React.createElement(\"span\", {\n        className: \"font-bold color-blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, \"Manually Create MD\"))), React.createElement(\"hr\", {\n        className: \"mb-2\",\n        style: {\n          marginTop: \"-4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }), React.createElement(Filters, {\n        filters: this.state.filters,\n        onFilter: this.onFilter(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }), React.createElement(InventoryInfo, {\n        onExcludeStores: this.onExcludeStores,\n        totalInventory: this.state.totalInventory,\n        currentInventory: this.state.currentInventory,\n        totalStores: this.state.totalStores,\n        selectedStores: this.state.selectedStores,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }), React.createElement(Constraints, {\n        markdownTypeHandler: this.markdownTypeHandler,\n        marginValueHandler: this.marginValueHandler,\n        markdownTypeVal: this.state.markdownType,\n        targetSellThrough: this.targetSellThrough,\n        constraintsCadenceHandler: this.constraintsCadenceHandler,\n        cadenceConstraintsVal: this.state.cadenceConstraintsVal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cadencebtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.generateCadence,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, \"Generate Cadence\"))), this.state.showCadence && React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        activeKey: this.state.defaultActiveKey,\n        transition: false,\n        id: \"noanim-tab-example\",\n        onSelect: this.onSelectTabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, this.getCadence()), React.createElement(\"div\", {\n        className: \"addScenarioBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btn btn-secondary pull-right mt-2\",\n        onClick: this.addScenario,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, \"+ Add Scenario\")), React.createElement(\"div\", {\n        className: \"simulatebtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, this.state.defaultActiveKey !== \"Optimal\" && React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.onSimulate,\n        disabled: this.state.defaultActiveKey !== \"Comparison\" ? false : true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }, \"Simulate\"), React.createElement(\"button\", {\n        className: \"btn btn-primary approvalBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, \"Send for approval\"), React.createElement(\"button\", {\n        className: \"btn btn-primary resetButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, \"Send to drafts\"))), this.state.cadenceConstraintsVal === \"overall\" && this.state.defaultActiveKey === \"Comparison\" && React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"optimalheading pl-3 pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510\n        },\n        __self: this\n      }, this.state.defaultActiveKey), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cadencetable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514\n        },\n        __self: this\n      }, React.createElement(ComparisonMetricTable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }))), this.state.simulatedData && React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"optimalheading pl-3 pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522\n        },\n        __self: this\n      }, this.state.defaultActiveKey), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525\n        },\n        __self: this\n      }), this.state.defaultActiveKey !== \"Comparison\" && React.createElement(\"div\", {\n        className: \"overviewtoggle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: classNames({\n          active: this.state.selectedView == \"Overview\",\n          \" btn\": true,\n          \"btn-outline-primary cal-btn1\": true,\n          btnCalendr: true,\n          calPromo: true\n        }),\n        onClick: function onClick() {\n          return _this3.changedView(\"Overview\");\n        },\n        style: {\n          width: \"90px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528\n        },\n        __self: this\n      }, \"Overview\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: classNames({\n          active: this.state.selectedView == \"Detailed\",\n          \" btn\": true,\n          \"btn-outline-primary cal-btn1\": true,\n          btnCalendr: true,\n          calPromo: true\n        }),\n        onClick: function onClick() {\n          return _this3.changedView(\"Detailed\");\n        },\n        style: {\n          width: \"90px\",\n          borderColor: \"#507a91\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544\n        },\n        __self: this\n      }, \"Detailed\")), this.state.selectedView === \"Overview\" && this.state.defaultActiveKey !== \"Comparison\" && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      }, React.createElement(MarkdownAnalysis, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566\n        },\n        __self: this\n      })), this.state.selectedView === \"Detailed\" && this.state.defaultActiveKey !== \"Comparison\" && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      }, React.createElement(ColumnSelection, {\n        attributes: this.state.attributes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 572\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cadencetable\",\n        style: {\n          paddingBottom: \"2rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, React.createElement(MarkdownDetailedTable, {\n        data: this.state.markdownDetailedData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577\n        },\n        __self: this\n      }))), \" \"), React.createElement(Modal, {\n        visible: this.state.showPlanSavePopup,\n        effect: \"fadeInDown\",\n        onClickAway: function onClickAway() {\n          return _this3.showPlanSavePopup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          width: \"130%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593\n        },\n        __self: this\n      }, \"Enter MD Plan Details\", React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this3.showPlanSavePopup();\n        },\n        className: \"pull-right select-store-span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        onClick: function onClick() {\n          return _this3.showPlanSavePopup();\n        },\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 606\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ai-pre-grid-table\",\n        style: {\n          textAlign: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }, React.createElement(PlanSavePopup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610\n        },\n        __self: this\n      })))), React.createElement(Modal, {\n        visible: this.state.showExcludeStorePopup,\n        effect: \"fadeInDown\",\n        onClickAway: function onClickAway() {\n          return _this3.showTablePopup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621\n        },\n        __self: this\n      }, \"Select stores\", React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this3.showTablePopup();\n        },\n        className: \"pull-right select-store-span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        onClick: function onClick() {\n          return _this3.showTablePopup();\n        },\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 627\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ai-pre-grid-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 637\n        },\n        __self: this\n      }, React.createElement(ExcludeStoreTable, {\n        storeData: this.props.inventoryInfoData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 638\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ManuallyCreateMD;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    inventoryInfoData: state.manuallyCreateMdData.inventoryInfoData\n  };\n};\n\nvar mapActionsToProps = {\n  fetchInventoryInfo: manuallyCreateMdActions.fetchInventoryInfo,\n  fetchCadence: manuallyCreateMdActions.fetchCadence,\n  simulate: manuallyCreateMdActions.simulate,\n  sendApproval: manuallyCreateMdActions.sendApproval,\n  sendDrafts: manuallyCreateMdActions.sendDrafts\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(ManuallyCreateMD));","map":{"version":3,"sources":["/home/user/generic-markdown-frontend/src/Markdown/components/ManuallyCreateMD/index.js"],"names":["React","Component","Fragment","Filters","MarkdownAnalysis","InventoryInfo","Constraints","CreateCadence","Modal","withRouter","Select","connect","manuallyCreateMdActions","Button","Tabs","Tab","ToggleButtonGroup","ToggleButton","MarkdownDetailedTable","ColumnSelection","cloneDeep","ComparisonTable","ComparisonMetricTable","classNames","ExcludeStoreTable","PlanSavePopup","ManuallyCreateMD","props","onUpdateMarkdownPercentage","data","index","state","cadenceConstraintsVal","data1","overallCadenceData","setState","skuLabelCadenceData","getComparisonData","comparisonData","i","TabTitles","length","push","scenarios","w1","w2","w3","w4","w5","w6","onSelectTabs","key","dataOfALlTheTabs","simulatedData","defaultActiveKey","addScenario","str","tempData","console","log","generateCadence","showCadence","payload","filters","inventorySelected","storeSelected","excludeStore","sellThrough","targetSellThroughVal","margin","fetchCadence","onSimulate","changedView","view","selectedView","onExcludeStores","showExcludeStorePopup","showPlanSavePopup","showTablePopup","getComparisonCadence","tabTitle","onFilter","fetchInventoryInfo","constraintsCadenceHandler","value","markdownTypeHandler","val","markdownType","marginValueHandler","e","target","targetSellThrough","selectedSkuGroup","label","markdownDetailedData","sku_id","w1sellThrough","w1margin","w2sellThrough","w2margin","w3sellThrough","w3margin","w4sellThrough","w4margin","style_desc","totalInventory","currentInventory","totalStores","selectedStores","selectedSku","attributes","skuId","mdStatus","comparsionHeader","Header","accessor","comparsionData","indexOf","rows","map","marginTop","getCadence","active","btnCalendr","calPromo","width","borderColor","paddingBottom","textAlign","inventoryInfoData","mapStateToProps","manuallyCreateMdData","mapActionsToProps","simulate","sendApproval","sendDrafts"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport Filters from \"../../services/filters\";\nimport MarkdownAnalysis from \"../MarkdownAnalysis\";\nimport InventoryInfo from \"./InventoryInfo\";\nimport Constraints from \"./Constraints\";\nimport CreateCadence from \"./CreateCadence\";\nimport Modal from \"react-awesome-modal\";\nimport { withRouter } from \"react-router-dom\";\nimport Select from \"react-select\";\nimport { connect } from \"react-redux\";\nimport manuallyCreateMdActions from \"../../actions/manuallyCreateMdActions.js\";\nimport \"./index.css\";\nimport {\n  Button,\n  Tabs,\n  Tab,\n  ToggleButtonGroup,\n  ToggleButton,\n} from \"react-bootstrap\";\nimport MarkdownDetailedTable from \"./MardownDetailedTable\";\nimport ColumnSelection from \"../columnSelection\";\nimport cloneDeep from \"clone-deep\";\nimport ComparisonTable from \"./ComparisonTable\";\nimport ComparisonMetricTable from \"./ComparisonMetricTable\";\nimport classNames from \"classnames\";\nimport ExcludeStoreTable from \"./excludeStoreTable\";\nimport PlanSavePopup from \"./planSavePopup\";\nclass ManuallyCreateMD extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedSkuGroup: { label: null, value: null },\n      targetSellThroughVal: null,\n      markdownType: null,\n      cadenceConstraintsVal: \"overall\",\n      margin: null,\n      markdownDetailedData: [\n        {\n          sku_id: \"1234\",\n          w1sellThrough: \"1234\",\n          w1margin: \"4321\",\n          w2sellThrough: \"1234\",\n          w2margin: \"4321\",\n          w3sellThrough: \"1234\",\n          w3margin: \"4321\",\n          w4sellThrough: \"1234\",\n          w4margin: \"4321\",\n          style_desc: \"def\",\n        },\n        {\n          sku_id: \"1234\",\n          w1sellThrough: \"1234\",\n          w1margin: \"4321\",\n          w2sellThrough: \"1234\",\n          w2margin: \"4321\",\n          w3sellThrough: \"1234\",\n          w3margin: \"4321\",\n          w4sellThrough: \"1234\",\n          w4margin: \"4321\",\n          style_desc: \"def\",\n        },\n        {\n          sku_id: \"1234\",\n          w1sellThrough: \"1234\",\n          w1margin: \"4321\",\n          w2sellThrough: \"1234\",\n          w2margin: \"4321\",\n          w3sellThrough: \"1234\",\n          w3margin: \"4321\",\n          w4sellThrough: \"1234\",\n          w4margin: \"4321\",\n          style_desc: \"def\",\n        },\n      ],\n      overallCadenceData: [\n        [\n          {\n            w1: 20,\n            w2: 30,\n            w3: 40,\n            w4: 50,\n            w5: 60,\n          },\n        ],\n      ],\n      skuLabelCadenceData: [\n        [\n          {\n            \"SKU ID\": 1000234,\n            \"MD Status\": \"High\",\n            w1: 20,\n            w2: 30,\n            w3: 40,\n            w4: 50,\n            w5: 60,\n          },\n          {\n            \"SKU ID\": 1000234,\n            \"MD Status\": \"Medium\",\n            w1: 20,\n            w2: 30,\n            w3: 40,\n            w4: 50,\n            w5: 60,\n          },\n        ],\n      ],\n      filters: [\n        \"season\",\n        \"hierarchy1\",\n        \"hierarchy2\",\n        \"hierarchy3\",\n        \"hierarchy4\",\n        \"hierarchy5\",\n        \"hierarchy6\",\n        \"hierarchy7\",\n      ],\n      totalInventory: 0,\n      currentInventory: 0,\n      totalStores: 0,\n      selectedStores: 0,\n      selectedView: \"Overview\",\n      selectedSku: [],\n      showExcludeStorePopup: false,\n      showPlanSavePopup: false,\n      TabTitles: [\"Optimal\"],\n      defaultActiveKey: \"Optimal\",\n      attributes: [\"Sales\", \"Inventory\", \"Margin\"],\n      value: 1,\n      dataOfALlTheTabs: [],\n      data: [\n        {\n          skuId: 1000234,\n          mdStatus: \"High\",\n          w1: 20,\n          w2: 30,\n          w3: 40,\n          w4: 50,\n          w5: 60,\n        },\n        {\n          skuId: 1000234,\n          mdStatus: \"Medium\",\n          w1: 20,\n          w2: 30,\n          w3: 40,\n          w4: 50,\n          w5: 60,\n        },\n      ],\n      comparsionHeader: [\n        {\n          Header: \"Scenarios\",\n          accessor: \"scenarios\",\n        },\n        {\n          Header: \"W1\",\n          accessor: \"w1\",\n        },\n        {\n          Header: \"W2\",\n          accessor: \"w2\",\n        },\n        {\n          Header: \"W3\",\n          accessor: \"w3\",\n        },\n        {\n          Header: \"W4\",\n          accessor: \"w4\",\n        },\n        {\n          Header: \"W5\",\n          accessor: \"w5\",\n        },\n        {\n          Header: \"W6\",\n          accessor: \"w6\",\n        },\n      ],\n      comparisonData: [],\n      showCadence: false,\n      simulatedData: false,\n    };\n  }\n  onUpdateMarkdownPercentage = (data, index) => {\n    if (this.state.cadenceConstraintsVal === \"overall\") {\n      let data1 = cloneDeep(this.state.overallCadenceData);\n      data1[index] = data;\n      this.setState({\n        overallCadenceData: data1,\n      });\n    } else {\n      let data1 = cloneDeep(this.state.skuLabelCadenceData);\n      data1[index] = data;\n      this.setState({\n        skuLabelCadenceData: data1,\n      });\n    }\n  };\n  getCadence() {\n    let comparsionData = [];\n    if (this.state.TabTitles.indexOf(\"Comparison\") !== -1) {\n      for (let i = 0; i < this.state.TabTitles.length - 1; i++) {\n        if (this.state.cadenceConstraintsVal === \"overall\") {\n          comparsionData.push({\n            scenarios: this.state.TabTitles[i],\n            ...this.state.overallCadenceData[i][0],\n          });\n        } else {\n          let rows = cloneDeep(this.state.skuLabelCadenceData[i][0]);\n          delete rows[\"SKU ID\"];\n          delete rows[\"MD Status\"];\n          comparsionData.push({\n            scenarios: this.state.TabTitles[i],\n            ...rows,\n          });\n        }\n      }\n    }\n    return this.state.TabTitles.map((tabTitle, index) => {\n      return (\n        <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n          <div className=\"markdownperstyle\">\n            {this.state.cadenceConstraintsVal === \"sku\" &&\n            tabTitle === \"Comparison\" ? (\n              <div className=\"row skuLabelStyle\">\n                <label className=\"skuLabel\">SKU/SKU Group</label>\n                <div className=\"col-md-2\">\n                  <Select name=\"category\" value={this.state.selectedSkuGroup} />\n                </div>\n              </div>\n            ) : (\n              <label className=\"font-size-14\">Markdown Percentages</label>\n            )}\n            {/* <label className=\"font-size-14\">Markdown Percentages</label> */}\n          </div>\n          {tabTitle === \"Comparison\" ? (\n            <div className=\"cadencetable\">\n              {this.state.cadenceConstraintsVal === \"sku\" ? (\n                <ComparisonMetricTable showCheckBoxComparsionTable={true} />\n              ) : (\n                <ComparisonTable data={comparsionData} />\n              )}\n            </div>\n          ) : (\n            <div className=\"cadencetable\">\n              <CreateCadence\n                overallCadenceData={\n                  this.state.cadenceConstraintsVal === \"overall\"\n                    ? this.state.overallCadenceData[index]\n                    : this.state.skuLabelCadenceData[index]\n                }\n                onUpdateMarkdownPercentage={this.onUpdateMarkdownPercentage}\n                addScenario={this.addScenario}\n                selectedSku={this.state.selectedSku}\n                key={tabTitle}\n                index={index}\n                activeTab={this.state.defaultActiveKey}\n                // dafaultData={}\n              />\n            </div>\n          )}\n        </Tab>\n      );\n    });\n    // setTimeout(() => {\n    //   this.setState({\n    //     defaultActiveKey: \"Scenario1\",\n    //   });\n    // }, 5000);\n  }\n  getComparisonData = () => {\n    let comparisonData = cloneDeep(this.state.comparisonData);\n    for (let i = 0; i < this.state.TabTitles.length - 2; i++) {\n      comparisonData.push({\n        scenarios: this.state.TabTitles[i],\n        w1: 123,\n        w2: 324,\n        w3: 432,\n        w4: 3456,\n        w5: 324,\n        w6: 3333,\n      });\n    }\n  };\n  onSelectTabs = (key) => {\n    if (this.state.dataOfALlTheTabs.length === 0) {\n      let data = cloneDeep(this.state.dataOfALlTheTabs);\n      data[0] = this.state.data;\n      this.setState({\n        dataOfALlTheTabs: data,\n      });\n    } else {\n      this.setState({\n        simulatedData: false,\n      });\n    }\n    this.setState({\n      defaultActiveKey: key,\n    });\n  };\n  addScenario = () => {\n    let TabTitles = this.state.TabTitles;\n    let str = \"Scenario\";\n    let tempData = [];\n    if (this.state.TabTitles.length === 1) {\n      str += TabTitles.length;\n      TabTitles[TabTitles.length] = str;\n    } else {\n      str += TabTitles.length - 1;\n      TabTitles[TabTitles.length - 1] = str;\n    }\n    if (this.state.cadenceConstraintsVal === \"overall\") {\n      tempData = cloneDeep(this.state.overallCadenceData);\n      tempData[TabTitles.length - 1] = this.state.overallCadenceData[0];\n      this.setState(\n        {\n          overallCadenceData: tempData,\n        },\n        () => {\n          console.log(\"overallCadenceData dTA:\", this.state.overallCadenceData);\n        }\n      );\n    } else {\n      tempData = cloneDeep(this.state.skuLabelCadenceData);\n      tempData[TabTitles.length - 1] = this.state.skuLabelCadenceData[0];\n      this.setState(\n        {\n          skuLabelCadenceData: tempData,\n        },\n        () => {\n          console.log(\"skylabelcadence dTA:\", this.state.skuLabelCadenceData);\n        }\n      );\n    }\n\n    TabTitles[TabTitles.length] = \"Comparison\";\n    this.setState({\n      TabTitles,\n      defaultActiveKey: str,\n    });\n  };\n\n  generateCadence = () => {\n    this.setState({\n      showCadence: true,\n    });\n    let payload = {\n      filters: \"\",\n      inventorySelected: \"\",\n      storeSelected: \"\",\n      excludeStore: \"\",\n      sellThrough: this.state.targetSellThroughVal,\n      margin: this.state.margin,\n    };\n    this.props.fetchCadence(payload);\n  };\n  onSimulate = () => {\n    if (this.state.defaultActiveKey === \"Comparison\") {\n      this.setState({\n        simulatedData: false,\n      });\n    } else {\n      this.setState({\n        simulatedData: true,\n      });\n    }\n  };\n  changedView = (view) => {\n    this.setState({ selectedView: view });\n  };\n  onExcludeStores = () => {\n    this.setState({ showExcludeStorePopup: true });\n  };\n  showPlanSavePopup = () => {\n    this.setState({ showPlanSavePopup: false });\n  };\n  showTablePopup = () => {\n    this.setState({ showExcludeStorePopup: false });\n  };\n  getComparisonCadence = (tabTitle = \"comparison\") => {\n    return (\n      <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n        <ComparisonTable />\n      </Tab>\n\n      // <Tab eventKey={tabTitle} title={tabTitle} key={tabTitle}>\n      //   <CreateCadence\n      //     addScenario={this.addScenario}\n      //     selectedSku={this.state.selectedSku}\n      //     key={tabTitle}\n      //   />\n      // </Tab>\n    );\n  };\n  onFilter = () => {\n    this.props.fetchInventoryInfo();\n  };\n  constraintsCadenceHandler = (value) => {\n    this.setState({\n      cadenceConstraintsVal: value,\n      showCadence: false,\n      TabTitles: [\"Optimal\"],\n      defaultActiveKey: \"Optimal\",\n    });\n  };\n  markdownTypeHandler = (val) => {\n    this.setState({\n      markdownType: val,\n    });\n  };\n  marginValueHandler = (e) => {\n    this.setState({\n      margin: e.target.value,\n    });\n  };\n  targetSellThrough = (e) => {\n    this.setState({\n      targetSellThroughVal: e.target.value,\n    });\n  };\n  render() {\n    console.log(\n      \"this.state.overallCadenceData:\",\n      this.state.overallCadenceData\n    );\n    return (\n      <div className=\"createMd pl-2 pr-2\">\n        <div className=\"card mb-4\">\n          <div>\n            <h4 className=\"font-size-14 markdown-heading\">\n              Markdown Optimization /\n              <span className=\"font-bold color-blue\">Manually Create MD</span>\n            </h4>\n          </div>\n          <hr\n            className=\"mb-2\"\n            style={{\n              marginTop: \"-4px\",\n            }}\n          />\n          <Filters filters={this.state.filters} onFilter={this.onFilter()} />\n          <hr className=\"dotted-line\"></hr>\n          <InventoryInfo\n            onExcludeStores={this.onExcludeStores}\n            totalInventory={this.state.totalInventory}\n            currentInventory={this.state.currentInventory}\n            totalStores={this.state.totalStores}\n            selectedStores={this.state.selectedStores}\n          />\n          <hr className=\"dotted-line\"></hr>\n          <Constraints\n            markdownTypeHandler={this.markdownTypeHandler}\n            marginValueHandler={this.marginValueHandler}\n            markdownTypeVal={this.state.markdownType}\n            targetSellThrough={this.targetSellThrough}\n            constraintsCadenceHandler={this.constraintsCadenceHandler}\n            cadenceConstraintsVal={this.state.cadenceConstraintsVal}\n          />\n          <hr className=\"dotted-line\"></hr>\n          <div className=\"cadencebtn\">\n            <Button onClick={this.generateCadence}>Generate Cadence</Button>\n          </div>\n        </div>\n\n        {this.state.showCadence && (\n          <div className=\"card mb-4\">\n            {/* {this.state.defaultActiveKey} */}\n            <Tabs\n              activeKey={this.state.defaultActiveKey}\n              transition={false}\n              id=\"noanim-tab-example\"\n              onSelect={this.onSelectTabs}\n            >\n              {this.getCadence()}\n            </Tabs>\n            <div className=\"addScenarioBtn\">\n              <Button\n                className=\"btn btn-secondary pull-right mt-2\"\n                onClick={this.addScenario}\n              >\n                + Add Scenario\n              </Button>\n            </div>\n            <div className=\"simulatebtn\">\n              {this.state.defaultActiveKey !== \"Optimal\" && (\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={this.onSimulate}\n                  disabled={\n                    this.state.defaultActiveKey !== \"Comparison\" ? false : true\n                  }\n                >\n                  Simulate\n                </button>\n              )}\n              <button className=\"btn btn-primary approvalBtn\">\n                Send for approval\n              </button>\n              <button className=\"btn btn-primary resetButton\">\n                Send to drafts\n              </button>\n            </div>\n          </div>\n        )}\n        {this.state.cadenceConstraintsVal === \"overall\" &&\n          this.state.defaultActiveKey === \"Comparison\" && (\n            <div className=\"card mb-4\">\n              <div className=\"optimalheading pl-3 pt-2\">\n                {this.state.defaultActiveKey}\n              </div>\n              <hr />\n              <div className=\"cadencetable\">\n                <ComparisonMetricTable />\n              </div>\n            </div>\n          )}\n\n        {this.state.simulatedData && (\n          <div className=\"card mb-4\">\n            <div className=\"optimalheading pl-3 pt-2\">\n              {this.state.defaultActiveKey}\n            </div>\n            <hr />\n            {this.state.defaultActiveKey !== \"Comparison\" && (\n              <div className=\"overviewtoggle\">\n                <button\n                  type=\"button\"\n                  className={classNames({\n                    active: this.state.selectedView == \"Overview\",\n                    \" btn\": true,\n                    \"btn-outline-primary cal-btn1\": true,\n                    btnCalendr: true,\n                    calPromo: true,\n                  })}\n                  onClick={() => this.changedView(\"Overview\")}\n                  style={{\n                    width: \"90px\",\n                  }}\n                >\n                  Overview\n                </button>\n                <button\n                  type=\"button\"\n                  className={classNames({\n                    active: this.state.selectedView == \"Detailed\",\n                    \" btn\": true,\n                    \"btn-outline-primary cal-btn1\": true,\n                    btnCalendr: true,\n                    calPromo: true,\n                  })}\n                  onClick={() => this.changedView(\"Detailed\")}\n                  style={{\n                    width: \"90px\",\n                    borderColor: \"#507a91\",\n                  }}\n                >\n                  Detailed\n                </button>\n              </div>\n            )}\n            {this.state.selectedView === \"Overview\" &&\n              this.state.defaultActiveKey !== \"Comparison\" && (\n                <div>\n                  <MarkdownAnalysis />\n                </div>\n              )}\n            {this.state.selectedView === \"Detailed\" &&\n              this.state.defaultActiveKey !== \"Comparison\" && (\n                <div>\n                  <ColumnSelection attributes={this.state.attributes} />\n                  <div\n                    className=\"cadencetable\"\n                    style={{ paddingBottom: \"2rem\" }}\n                  >\n                    <MarkdownDetailedTable\n                      data={this.state.markdownDetailedData}\n                    />\n                  </div>\n                </div>\n              )}{\" \"}\n          </div>\n        )}\n\n        <Modal\n          visible={this.state.showPlanSavePopup}\n          effect=\"fadeInDown\"\n          onClickAway={() => this.showPlanSavePopup()}\n        >\n          <div className=\"card\" style={{ width: \"130%\" }}>\n            <div className=\"card-body\">\n              <h6 className=\"card-title\">\n                Enter MD Plan Details\n                <span\n                  onClick={() => this.showPlanSavePopup()}\n                  className=\"pull-right select-store-span\"\n                >\n                  <i\n                    className=\"fa fa-times\"\n                    onClick={() => this.showPlanSavePopup()}\n                    aria-hidden=\"true\"\n                  />\n                </span>\n              </h6>\n              <hr />\n            </div>\n\n            <div className=\"ai-pre-grid-table\" style={{ textAlign: \"right\" }}>\n              <PlanSavePopup />\n            </div>\n          </div>\n        </Modal>\n        <Modal\n          visible={this.state.showExcludeStorePopup}\n          effect=\"fadeInDown\"\n          onClickAway={() => this.showTablePopup()}\n        >\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <h6 className=\"card-title\">\n                Select stores\n                <span\n                  onClick={() => this.showTablePopup()}\n                  className=\"pull-right select-store-span\"\n                >\n                  <i\n                    className=\"fa fa-times\"\n                    onClick={() => this.showTablePopup()}\n                    aria-hidden=\"true\"\n                  />\n                </span>\n              </h6>\n              <hr />\n            </div>\n\n            <div className=\"ai-pre-grid-table\">\n              <ExcludeStoreTable storeData={this.props.inventoryInfoData} />\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    inventoryInfoData: state.manuallyCreateMdData.inventoryInfoData,\n  };\n};\nconst mapActionsToProps = {\n  fetchInventoryInfo: manuallyCreateMdActions.fetchInventoryInfo,\n  fetchCadence: manuallyCreateMdActions.fetchCadence,\n  simulate: manuallyCreateMdActions.simulate,\n  sendApproval: manuallyCreateMdActions.sendApproval,\n  sendDrafts: manuallyCreateMdActions.sendDrafts,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withRouter(ManuallyCreateMD));\n"]},"metadata":{},"sourceType":"module"}